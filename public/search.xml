<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>/2020/02/10/%E6%95%B0%E6%8D%AE%E5%BA%93litepal%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>title: æ•°æ®åº“litepalä½¿ç”¨è®°å½•</p>
<h2 id="date-2020-02-10-15-20-34"><a href="#date-2020-02-10-15-20-34" class="headerlink" title="date: 2020-02-10 15:20:34"></a>date: 2020-02-10 15:20:34</h2><h3 id="ç®€ä»‹ï¼š"><a href="#ç®€ä»‹ï¼š" class="headerlink" title="ç®€ä»‹ï¼š"></a>ç®€ä»‹ï¼š</h3><p>litepalæ˜¯éƒ­éœ–çš„ä¸€æ¬¾å¼€æºçš„androidæ•°æ®åº“æ¡†æ¶ï¼Œé‡‡ç”¨å…³ç³»æ˜ å°„(ORM)çš„æ¨¡å¼ï¼Œ<a href="https://github.com/LitePalFramework/LitePal" target="_blank" rel="noopener">è¿™æ˜¯github<br>åœ°å€</a>ï¼Œæœ€æ–°ç‰ˆæœ¬å·²ç»æ›´æ–°åˆ°1.6ï¼Œæ”¯æŒeclipseï¼Œgridleä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<pre><code> compile &#39;org.litepal.android:core:1.6.0&#39;</code></pre><h3 id="é…ç½®ï¼š"><a href="#é…ç½®ï¼š" class="headerlink" title="é…ç½®ï¼š"></a>é…ç½®ï¼š</h3><p>åˆ›å»º<code>assets</code>ç›®å½•ï¼Œæ–°å»º<code>litepal.xml</code>æ–‡ä»¶ï¼š</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;litepal&gt;
    &lt;!--æ•°æ®åº“åå­— --&gt;
    &lt;dbname value=&quot;demo&quot; /&gt;

    &lt;!--æ•°æ®åº“ç‰ˆæœ¬ --&gt;
    &lt;version value=&quot;1&quot; /&gt;

    &lt;!--æ•°æ®åº“å®ä½“ç±»,ç”¨äºæ˜ å°„--&gt;
    &lt;list&gt;
            &lt;mapping class=&quot;com.test.model.Reader&quot; /&gt;
            &lt;mapping class=&quot;com.test.model.Magazine&quot; /&gt;
    &lt;/list&gt;

&lt;/litepal&gt;</code></pre><a id="more"></a>

<p>litepalåˆå§‹åŒ–æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<p>1.å°†ä½ æ¸…å•æ–‡ä»¶çš„<code>Application</code>æ¢æˆ<code>LitePalApplication</code></p>
<pre><code>&lt;manifest&gt;
    &lt;application
        android:name=&quot;org.litepal.LitePalApplication&quot;
        ...
    &gt;
        ...
    &lt;/application&gt;
&lt;/manifest&gt;</code></pre><p>2.å°†ä½ çš„<code>Application</code>ç»§æ‰¿è‡ª<code>Application</code>,ç„¶ååœ¨onCreat()ï¼Œè¿›è¡Œ<code>litepal</code>çš„åˆå§‹åŒ–</p>
<pre><code>public class MyOwnApplication extends Application {

    @Override
    public void onCreate() {
        super.onCreate();
        LitePal.initialize(this);
    }
    ...
}</code></pre><h3 id="ä½¿ç”¨litepal"><a href="#ä½¿ç”¨litepal" class="headerlink" title="ä½¿ç”¨litepal"></a>ä½¿ç”¨litepal</h3><p><img src="http://upload-images.jianshu.io/upload_images/7426378-007c1a5ff7749d52.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h4 id="åˆ›å»ºå®ä½“ç±»"><a href="#åˆ›å»ºå®ä½“ç±»" class="headerlink" title="åˆ›å»ºå®ä½“ç±»"></a>åˆ›å»ºå®ä½“ç±»</h4><p><code>litepal</code>éœ€è¦ç”¨äºæ˜ å°„çš„å®ä½“ç±»éœ€è¦ç»§æ‰¿<code>DataSupport</code>ï¼Œå¹¶ç”Ÿæˆgetå’Œsetæ–¹æ³•ï¼Œå…³äºè¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œæ¨èä¸€ä¸ªåº“:<br><code>lombok</code>ï¼Œgridleä½¿ç”¨æ·»åŠ :</p>
<blockquote>
<p>compile â€˜org.projectlombok:lombok:1.16.18â€™</p>
</blockquote>
<p>æ·»åŠ ä¹‹åä½ çš„getå’Œsetæ–¹æ³•åªç”¨åœ¨ç±»åä¸Šé¢æ·»åŠ æ³¨è§£@Dataå°±å¯ä»¥äº†ï¼Œå¦‚ä¸‹</p>
<pre><code>@Data
public class Man{  

   @Column(unique = true, defaultValue = &quot;unknown&quot;)
    private int age;  

    private String name;  
}</code></pre><p>å®ä½“ç±»æ”¯æŒæ³¨è§£çº¦æŸï¼š</p>
<pre><code>@Column(unique = true)                //æ˜¯å¦å”¯ä¸€
@Column(defaultValue = &quot;unknown&quot;)    //æŒ‡å®šå­—æ®µé»˜è®¤å€¼
@Column(nullable = false)            //æ˜¯å¦å¯ä»¥ä¸ºç©º
@Column(ignore = true)                //æ˜¯å¦å¯ä»¥å¿½ç•¥</code></pre><h4 id="ä¿®æ”¹litepal-xml"><a href="#ä¿®æ”¹litepal-xml" class="headerlink" title="ä¿®æ”¹litepal.xml"></a>ä¿®æ”¹litepal.xml</h4><p>å½“ä½ æ·»åŠ è¡¨æˆ–ä¿®æ”¹è¡¨ç»“æ„ï¼Œéƒ½è¦ä¿®æ”¹litepal.xmlï¼Œé¦–å…ˆç‰ˆæœ¬å·è¦+1ï¼Œå¦‚æœæ·»åŠ è¡¨ï¼Œè¿˜è¦æ·»åŠ </p>
<pre><code> &lt;list&gt;  
        &lt;mapping class=&quot;com.example.alguojian.bean.Man&quot;&gt;&lt;/mapping&gt;  
 &lt;/list&gt;  </code></pre><h4 id="æ·»åŠ æ•°æ®"><a href="#æ·»åŠ æ•°æ®" class="headerlink" title="æ·»åŠ æ•°æ®"></a>æ·»åŠ æ•°æ®</h4><pre><code>Album album = new Album();
album.setName(&quot;album&quot;);
album.setPrice(10.99f);
album.setCover(getCoverImageBytes());
album.save();
Song song1 = new Song();
song1.setName(&quot;song1&quot;);
song1.setDuration(320);
song1.setAlbum(album);
song1.save();
Song song2 = new Song();
song2.setName(&quot;song2&quot;);
song2.setDuration(356);
song2.setAlbum(album);
song2.save();</code></pre><h4 id="æ›´æ–°æ•°æ®"><a href="#æ›´æ–°æ•°æ®" class="headerlink" title="æ›´æ–°æ•°æ®"></a>æ›´æ–°æ•°æ®</h4><p>1.æŒ‡å®šid:</p>
<pre><code>Album albumToUpdate = new Album();
albumToUpdate.setPrice(20.99f); // raise the price
albumToUpdate.update(2);</code></pre><p>2.æ¡ä»¶æ›´æ–°ï¼š</p>
<pre><code>Album albumToUpdate = new Album();
albumToUpdate.setPrice(20.99f); // raise the price
albumToUpdate.updateAll(&quot;name = ?&quot;, &quot;å°æ˜&quot;);</code></pre><p>3.å¤šä¸ªæ¡ä»¶ç”¨andè¿æ¥</p>
<pre><code>Album album= new Album();  
album.setTitle(&quot;ç¬¬3æ¬¡æ›´æ–°&quot;);  
album.updateAll(&quot;title = ? and age&gt; ?&quot;, &quot;ç¬¬2æ¬¡æ›´æ–°&quot;, &quot;12&quot;);
</code></pre><p>4.æ›´æ–°å…¨éƒ¨æ•°æ®,å°†è¡¨æ‰€æœ‰æ•°æ®åå­—ä¿®æ”¹ï¼š</p>
<pre><code>Man values = new Man();  
values.put(&quot;Name&quot;, &quot;å°åŒ–å·¥&quot;);  
DataSupport.updateAll(Man.class, values);</code></pre><p>5.å¼‚æ­¥æ›´æ–°æ•°æ®</p>
<pre><code>Album album = new Album();
album.setName(&quot;album&quot;);
album.setPrice(10.99f);
album.setCover(getCoverImageBytes());
album.saveAsync().listen(new SaveCallback() {
    @Override
    public void onFinish(boolean success) {

    }
});</code></pre><h4 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h4><p>1.æŒ‡å®šID</p>
<pre><code>DataSupport.delete(Man.class, id);</code></pre><p>2.æ¡ä»¶åˆ é™¤,å¤šä¸ªæ¡ä»¶ç”¨andè¿æ¥</p>
<pre><code>DataSupport.deleteAll(Man.class, &quot;age &gt; ?&quot; , &quot;15&quot;);</code></pre><p>3.åˆ é™¤å…¨è¡¨æ•°æ®</p>
<pre><code>DataSupport.deleteAll(Man.class);</code></pre><h4 id="æŸ¥è¯¢æ•°æ®"><a href="#æŸ¥è¯¢æ•°æ®" class="headerlink" title="æŸ¥è¯¢æ•°æ®"></a>æŸ¥è¯¢æ•°æ®</h4><p>1.æŸ¥è¯¢ç¬¬ä¸€æ¡ä»¥åŠæœ€åä¸€æ¡</p>
<pre><code>News firstNews = DataSupport.findFirst(News.class);

News lastNews = DataSupport.findLast(News.class);</code></pre><p>2.æŒ‡å®šid</p>
<pre><code>Song song = DataSupport.find(Song.class, id);

//æŒ‡å®šå¤šä¸ªidå¦‚ä¸‹
//æ–¹å¼ä¸€ï¼š
List&lt;News&gt; newsList = DataSupport.findAll(News.class, 1, 3, 5, 7);

//æ–¹å¼äºŒï¼š
long[] ids = new long[] { 1, 3, 5, 7 };  
List&lt;News&gt; newsList = DataSupport.findAll(News.class, ids);
</code></pre><p>3.æŸ¥è¯¢æ‰€æœ‰</p>
<pre><code>List&lt;Song&gt; allSongs = DataSupport.findAll(Song.class);</code></pre><p>4.æ¡ä»¶æŸ¥è¯¢</p>
<p>æŸ¥è¯¢ Manè¡¨ ä¸­ å¹´é¾„å¤§äº12 çš„ ç¬¬5åˆ°20æ¡ æ•°æ®ï¼Œä»¥æ’å…¥æ—¶é—´å€’åº æ’åºæ–¹å¼å‘ˆç°ï¼Œåªå– â€œåå­—â€å’Œâ€œæ€§åˆ«â€å’Œâ€œèº«é«˜â€ ä¸‰åˆ—å†…å®¹ã€‚</p>
<pre><code>List&lt;Man&gt; list = DataSupport.select(&quot;name&quot;, &quot;sex&quot;,&quot;height&quot;)//éœ€è¦çš„æ¡ç›®
                                 .where(&quot;age&gt; ?&quot;, &quot;12&quot;)//æ¡ä»¶
                                 .order(&quot;inputTime desc&quot;)//å€’åºå­—æ®µ
                                 .offset(5)//å¼€å§‹æŸ¥è¯¢ä½ç½®
                                 .limit(15)//æ•°æ®é•¿åº¦
                                 .find(Man.class);//æŸ¥è¯¢è¡¨
</code></pre><p>5.å¼‚æ­¥æŸ¥è¯¢ï¼Œç”¨äºä»£æ›¿findAll</p>
<pre><code>DataSupport.findAllAsync(Song.class).listen(new FindMultiCallback() {
    @Override
    public &lt;T&gt; void onFinish(List&lt;T&gt; t) {
        List&lt;Song&gt; allSongs = (List&lt;Song&gt;) t;
    }
});</code></pre><h4 id="åˆ é™¤æ•°æ®åº“"><a href="#åˆ é™¤æ•°æ®åº“" class="headerlink" title="åˆ é™¤æ•°æ®åº“"></a>åˆ é™¤æ•°æ®åº“</h4><p><code>LitePal.deleteDatabase(&quot;æ•°æ®åº“å&quot;);</code></p>
<h3 id="å®Œç»“"><a href="#å®Œç»“" class="headerlink" title="å®Œç»“"></a>å®Œç»“</h3><p>å…³äºlitepalæ›´å¤šç”¨æ³•å¯ä»¥æŸ¥çœ‹æºç <br>githubåœ°å€ï¼š<a href="https://github.com/LitePalFramework/LitePal" target="_blank" rel="noopener">https://github.com/LitePalFramework/LitePal</a></p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2020/01/06/android%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E7%9B%AE%E5%BD%95/</url>
    <content><![CDATA[<p>title: androidæœ¬åœ°å­˜å‚¨ç›®å½•</p>
<h2 id="date-2020-01-06-12-20-34"><a href="#date-2020-01-06-12-20-34" class="headerlink" title="date: 2020-01-06 12:20:34"></a>date: 2020-01-06 12:20:34</h2><h3 id="androidæœ¬åœ°å­˜å‚¨ç›®å½•"><a href="#androidæœ¬åœ°å­˜å‚¨ç›®å½•" class="headerlink" title="androidæœ¬åœ°å­˜å‚¨ç›®å½•"></a>androidæœ¬åœ°å­˜å‚¨ç›®å½•</h3><ul>
<li>å†…éƒ¨å­˜å‚¨</li>
<li>å¤–éƒ¨å­˜å‚¨<ul>
<li>åº”ç”¨ç§æœ‰ç›®å½•</li>
<li>å¤–éƒ¨ç›®å½•</li>
</ul>
</li>
</ul>
<a id="more"></a>


<h2 id="è·å¾—å†…éƒ¨å­˜å‚¨ç›®å½•"><a href="#è·å¾—å†…éƒ¨å­˜å‚¨ç›®å½•" class="headerlink" title="è·å¾—å†…éƒ¨å­˜å‚¨ç›®å½•"></a>è·å¾—å†…éƒ¨å­˜å‚¨ç›®å½•</h2><pre><code>    /**
     * è·å¾—ç§æœ‰ç›®å½•æ–‡ä»¶ï¼Œå¸è½½ä¹‹åä¼šè‡ªåŠ¨åˆ é™¤ï¼Œ7.0ä¹‹åç§æœ‰ç›®å½•è®¿é—®æƒé™å¿…é¡»æ·»åŠ fileproviderè®¿é—®
     */
    private void init() {

        //ç»å¯¹è·¯å¾„,=/data/user/0/packname/files
        File filesDir = mContext.getFilesDir();
        filesDir.getAbsolutePath();

        //ç¼“å­˜è·¯å¾„ï¼Œspç­‰,=/data/user/0/packname/cache
        File cacheDir = mContext.getCacheDir();
        cacheDir.getAbsolutePath();

        boolean b = mContext.deleteFile(&quot;&quot;);

        String[] strings = mContext.fileList();

        //è·å¾—ç§æœ‰ç›®å½•å†…çš„è‡ªå»ºç›®å½•ï¼Œ=/data/user/0/packname/app_myFile
        String myFile = mContext.getDir(&quot;myFile&quot;, MODE_PRIVATE).getAbsolutePath();

        //è·å¾—dataç›®å½•=/data
        File dataDirectory = Environment.getDataDirectory();

    }</code></pre><h2 id="è·å¾—å¤–éƒ¨å­˜å‚¨ç›®å½•"><a href="#è·å¾—å¤–éƒ¨å­˜å‚¨ç›®å½•" class="headerlink" title="è·å¾—å¤–éƒ¨å­˜å‚¨ç›®å½•"></a>è·å¾—å¤–éƒ¨å­˜å‚¨ç›®å½•</h2><pre><code>    /**
     * å¤–éƒ¨å­˜å‚¨è·¯å¾„ï¼Œsdç­‰
     * &lt;p&gt;
     * /storage/emulated/0/Android/data/app package name
     */
    private void init2() {

        //åœ¨4.4ä»¥å‰ç³»ç»Ÿä¸­å¯èƒ½ä¼šè·å¾—nullï¼Œå› ä¸º4.4ä¹‹å‰å¦‚æœæ²¡æœ‰æ’sdå¡ï¼Œå°±ä»£è¡¨æ²¡æœ‰å¤–éƒ¨å­˜å‚¨ï¼Œ
        //è·å¾—æŸä¸ªåº”ç”¨åœ¨å¤–éƒ¨å­˜å‚¨ä¸­çš„filesè·¯å¾„ï¼Œ=/storage/emulated/0/Android/data/packname/files
        File externalFilesDir = mContext.getExternalFilesDir(&quot;&quot;);
        String absolutePath = externalFilesDir.getAbsolutePath();

        //è·å¾—æŸä¸ªåº”ç”¨åœ¨å¤–éƒ¨å­˜å‚¨ä¸­çš„cacheè·¯å¾„,=/storage/emulated/0/Android/data/packname/cache
        String absolutePath1 = mContext.getExternalCacheDir().getAbsolutePath();


        //é€šè¿‡Environmentè·å¾—çš„æ—¶å€™éœ€è¦ç”³è¯·æƒé™,è·å¾—å¤–éƒ¨å­˜å‚¨çš„æ ¹è·¯å¾„=/storage/emulated/0
        String absolutePath3 = Environment.getExternalStorageDirectory().getAbsolutePath();

        //,è·å¾—å¤–éƒ¨å­˜å‚¨çš„æ ¹è·¯å¾„=/storage/emulated/0
        String absolutePath2 = Environment.getExternalStoragePublicDirectory(&quot;&quot;).getAbsolutePath();

    }
</code></pre><h1 id="è·å¾—å¤–éƒ¨å­˜å‚¨ç›®å½•-1"><a href="#è·å¾—å¤–éƒ¨å­˜å‚¨ç›®å½•-1" class="headerlink" title="è·å¾—å¤–éƒ¨å­˜å‚¨ç›®å½•"></a>è·å¾—å¤–éƒ¨å­˜å‚¨ç›®å½•</h1><pre><code> /**
     * è·å¾—å¤–éƒ¨å­˜å‚¨è·¯å¾„,åŒ…æ‹¬æœºèº«å¤–éƒ¨å­˜å‚¨ä»¥åŠsdå¡å­˜å‚¨
     */
    public void getExternalStoragePath() {

        File[] files;
        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {
            files = mContext.getExternalFilesDirs(Environment.MEDIA_MOUNTED);
            for (File file : files) {
                Log.e(&quot;main&quot;, file.getPath());
            }
        }
    }</code></pre><h1 id="å…¶ä»–ç›®å½•"><a href="#å…¶ä»–ç›®å½•" class="headerlink" title="å…¶ä»–ç›®å½•"></a>å…¶ä»–ç›®å½•</h1><pre><code>     Environment.getDownloadCacheDirectory();//,=/cache
     Environment.getRootDirectory();//,=system</code></pre>]]></content>
  </entry>
  <entry>
    <title>å†ä¸å­¦gitæˆ‘ä»¬å°±è€äº†</title>
    <url>/2019/08/23/%E5%86%8D%E4%B8%8D%E5%AD%A6git%E6%88%91%E4%BB%AC%E5%B0%B1%E8%80%81%E4%BA%86/</url>
    <content><![CDATA[<h3 id="git-é…ç½®ï¼Œå¯ä»¥é‡å¤è®¾ç½®ï¼ŒäºŒè€…ç›¸å¯¹åº”"><a href="#git-é…ç½®ï¼Œå¯ä»¥é‡å¤è®¾ç½®ï¼ŒäºŒè€…ç›¸å¯¹åº”" class="headerlink" title="git é…ç½®ï¼Œå¯ä»¥é‡å¤è®¾ç½®ï¼ŒäºŒè€…ç›¸å¯¹åº”"></a>git é…ç½®ï¼Œå¯ä»¥é‡å¤è®¾ç½®ï¼ŒäºŒè€…ç›¸å¯¹åº”</h3><p><code>git config â€”global user.name &quot;ALguojian&quot;</code></p>
<p><code>git config â€”global user.email &quot;jzhszy@foxmail.com&quot;</code></p>
<h3 id="é‡ç½®è¿œç¨‹åº“çš„è´¦å·å¯†ç ï¼Œé’ˆå¯¹httpsè¿æ¥"><a href="#é‡ç½®è¿œç¨‹åº“çš„è´¦å·å¯†ç ï¼Œé’ˆå¯¹httpsè¿æ¥" class="headerlink" title="é‡ç½®è¿œç¨‹åº“çš„è´¦å·å¯†ç ï¼Œé’ˆå¯¹httpsè¿æ¥"></a>é‡ç½®è¿œç¨‹åº“çš„è´¦å·å¯†ç ï¼Œé’ˆå¯¹httpsè¿æ¥</h3><p><code>git config --global credential.helper store</code></p>
<a id="more"></a>

<h3 id="gitå¸¸ç”¨å‘½ä»¤"><a href="#gitå¸¸ç”¨å‘½ä»¤" class="headerlink" title="gitå¸¸ç”¨å‘½ä»¤"></a>gitå¸¸ç”¨å‘½ä»¤</h3><ul>
<li><p>git branch -m devel develop (é‡å‘½åæœ¬åœ°åˆ†æ”¯åå­—,å‘½åä¹‹åï¼Œç›´æ¥æäº¤åˆ°è¿œç¨‹ï¼Œç„¶åéœ€è¦å°†æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯åŒæ­¥ä¸€æ¬¡)</p>
</li>
<li><p>git branch â€“set-upstream-to=origin/develop ï¼ˆåŒæ­¥æœ¬åœ°å’Œè¿œç¨‹è¿æ¥ï¼‰</p>
</li>
<li><p>git rm -r â€“cached . (åˆ é™¤åœ¨gitç®¡ç†ä¸­æ–‡ä»¶çš„ç¼“å­˜)</p>
</li>
<li><p>git rm -f aa.build  (å¼ºåˆ¶åˆ é™¤åœ¨gitç®¡ç†ä¸­æ–‡ä»¶çš„ç¼“å­˜)</p>
</li>
<li><p><code>mkdir test</code> ï¼ˆåˆ›å»ºæ–‡ä»¶å¤¹testï¼‰</p>
</li>
<li><p><code>cd test</code> ï¼ˆåˆ‡æ¢åˆ°testç›®å½•ï¼‰</p>
</li>
<li><p><code>touch a.md</code> ï¼ˆæ–°å»ºa.mdæ–‡ä»¶ï¼‰</p>
</li>
<li><p><code>git init</code> (åˆå§‹åŒ–gitä»“åº“)é»˜è®¤åœ¨masteråˆ†æ”¯</p>
</li>
<li><p><code>git status</code>ï¼ˆæŸ¥çœ‹çŠ¶æ€ï¼‰</p>
</li>
<li><p><code>git add</code>   (ç¼“å­˜ï¼Œå¾…æäº¤)</p>
</li>
<li><p><code>git add .</code> (æ·»åŠ æ‰€æœ‰æ–‡ä»¶)</p>
</li>
<li><p><code>git add -u</code>     (å°†æ–‡ä»¶çš„ä¿®æ”¹ã€æ–‡ä»¶çš„åˆ é™¤ï¼Œæ·»åŠ åˆ°æš‚å­˜åŒº)</p>
</li>
<li><p><code>git add -A</code>    (å°†æ–‡ä»¶çš„ä¿®æ”¹ï¼Œæ–‡ä»¶çš„åˆ é™¤ï¼Œæ–‡ä»¶çš„æ–°å»ºï¼Œæ·»åŠ åˆ°æš‚å­˜åŒº)</p>
</li>
<li><p><code>git rm --cached</code> (åˆ é™¤ç¼“å­˜)</p>
</li>
<li><p><code>git fetch origin</code>  ï¼ˆè‡ªåŠ¨è·å–æ›´æ–°è¿œç¨‹åˆ†æ”¯ï¼‰</p>
</li>
<li><p><code>git commit</code>    (æäº¤)      git commit -m â€œç¬¬ä¸€æ¬¡æäº¤â€</p>
</li>
<li><p><code>git commit -am &quot;æäº¤ä¿¡æ¯&quot;</code>    (æ‰€æœ‰çš„æ”¹åŠ¨éƒ½æ›´æ–°åˆ°ç¼“å­˜åŒºå¹¶æäº¤ï¼Œç›¸å½“äºgit add .å’Œgit commit -m çš„åˆå¹¶)</p>
</li>
<li><p><code>git log</code> ï¼ˆcommitè®°å½•ï¼‰</p>
</li>
<li><p><code>git branch</code> åˆ†æ”¯ï¼ˆæŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼‰</p>
</li>
<li><p><code>git branch -r</code>   ï¼ˆæŸ¥çœ‹è¿œç¨‹åˆ†æ”¯åˆ—è¡¨ï¼‰</p>
</li>
<li><p><code>git checkout develop origin/develop</code>    ï¼ˆè¿œç¨‹çš„ develop åˆ†æ”¯è¿åˆ°æœ¬åœ°ï¼‰</p>
</li>
<li><p><code>git checkout -b develop origin/develop</code>    ï¼ˆæŠŠè¿œç¨‹åˆ†æ”¯è¿åˆ°æœ¬åœ°é¡ºä¾¿åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ï¼‰</p>
</li>
<li><p><code>git branch a</code> ï¼ˆåˆ›å»ºåˆ†æ”¯ aï¼‰</p>
</li>
<li><p><code>git checkout a</code> ï¼ˆåˆ‡æ¢åˆ° a åˆ†æ”¯ï¼‰</p>
</li>
<li><p><code>git checkout -b a</code> (åˆ›å»ºå¹¶åˆ‡æ¢åˆ° aåˆ†æ”¯)</p>
</li>
<li><p><code>git merge a</code>ï¼ˆåˆå¹¶åˆ†æ”¯ a åˆ°ä¸»åˆ†æ”¯ï¼‰åˆå¹¶ä¹‹å‰å…ˆåˆ‡æ¢åˆ°masteråˆ†æ”¯ï¼ˆåœ¨masteræ‰§è¡Œï¼‰</p>
</li>
<li><p><code>git rebase a</code>    ï¼ˆåˆå¹¶åˆ†æ”¯aï¼‰ï¼ˆåœ¨aåˆ†æ”¯å¤„ç†ï¼‰</p>
</li>
<li><p><code>git rebase -i  &lt;commitID&gt;</code>(åˆ å»é‚£äº›æ— å…³ç´§è¦çš„æäº¤,æ•´ç†æäº¤è®°å½•)</p>
</li>
<li><p><code>git rebase side another</code> åˆå¹¶anotheråˆ†æ”¯åˆ°sideåˆ†æ”¯ä¸Šï¼Œå¹¶ä¸”æäº¤è®°å½•åœ¨æœ€å‰ç«¯</p>
</li>
<li><p><code>git commit --amend -m &quot;è¿™æ˜¯æ–°çš„æäº¤æ—¥å¿—&quot;</code>ä¿®æ”¹ä¸Šæ¬¡æäº¤æ—¥å¿—</p>
</li>
</ul>
<blockquote>
<p> mergeåªæ˜¯åˆå¹¶å¦å¤–ä¸€ä¸ªåˆ†æ”¯çš„å†…å®¹ï¼Œrebaseä¹Ÿåˆå¹¶å¦å¤–ä¸€ä¸ªåˆ†æ”¯çš„å†…å®¹ï¼Œä½†æ˜¯ä¼šæŠŠæœ¬åˆ†æ”¯çš„commitsé¡¶åˆ°æœ€é¡¶ç«¯ã€‚å…·ä½“å¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„è¯´æ³•<br><a href="https://www.zhihu.com/question/36509119/answer/67828312" target="_blank" rel="noopener">https://www.zhihu.com/question/36509119/answer/67828312</a><br><a href="http://www.cnblogs.com/kidsitcn/p/5339382.html" target="_blank" rel="noopener">http://www.cnblogs.com/kidsitcn/p/5339382.html</a><br><a href="http://blog.csdn.net/fybon/article/details/52460516" target="_blank" rel="noopener">http://blog.csdn.net/fybon/article/details/52460516</a></p>
<ul>
<li><code>git branch -d a</code> (åˆ é™¤åˆ†æ”¯ a )</li>
<li><code>git branch -D a</code> ï¼ˆå¼ºåˆ¶åˆ é™¤åˆ†æ”¯aï¼Œé’ˆå¯¹äº a æœ‰ä»£ç æ²¡æœ‰åˆå¹¶åˆ°masterï¼Œgit branch -d a åˆ é™¤ä¸äº†ï¼‰</li>
<li><code>git push  --delete origin devloper</code> ï¼ˆåˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼‰</li>
<li><code>git tag v1.0</code>ï¼ˆå»ºç«‹ç‰ˆæœ¬1.0ï¼ŒæŸ¥çœ‹å†å²ç‰ˆæœ¬ï¼‰</li>
<li><code>git checkout v1.0</code> ï¼ˆåˆ‡æ¢åˆ°1.0ç‰ˆæœ¬ï¼‰</li>
<li><code>git stash</code>   ï¼ˆæŠŠå½“å‰åˆ†æ”¯æ‰€æœ‰æ²¡æœ‰commitçš„ä»£ç æš‚æ—¶ä¿å­˜èµ·æ¥ï¼ˆæ‰§è¡Œäº†add ä¹Ÿæ— æ‰€è°“ï¼‰ï¼‰ </li>
<li><code>git stash list</code>  ï¼ˆæŸ¥çœ‹æš‚å­˜åŒºçš„è®°å½•ï¼‰</li>
<li><code>git stash apply</code> ï¼ˆå›åˆ°æš‚å­˜ä¹‹å‰ï¼‰</li>
<li><code>git stash drop</code>  ï¼ˆå›æ¥ä¹‹åå»ºè®®åˆ é™¤stashè®°å½•ï¼‰</li>
<li><code>git stash pop</code>   ï¼ˆå›åˆ°æš‚å­˜ä¹‹å‰ï¼Œå¹¶åˆ é™¤è®°å½•ï¼‰</li>
<li><code>git stash clear</code><br>æ˜¯æ¸…ç©ºæ‰€æœ‰æš‚å­˜åŒºçš„è®°å½•ï¼Œdrop æ˜¯åªåˆ é™¤ä¸€æ¡ï¼Œå½“ç„¶åé¢å¯ä»¥è·Ÿ stash_id å‚æ•°æ¥åˆ é™¤æŒ‡<br>å®šçš„æŸæ¡è®°å½•ï¼Œä¸è·Ÿå‚æ•°å°±æ˜¯åˆ é™¤æœ€è¿‘çš„ï¼Œè€Œ clear æ˜¯æ¸…ç©ºã€‚</li>
<li><code>git rebase -i HEAD~4</code>    ï¼ˆæ”¹å˜ä¹‹å‰4æ¬¡æäº¤çš„é¡ºåºï¼‰</li>
<li><code>git reset HEAD~a</code>     ï¼ˆå›é€€åˆ°æŸä¸€ä¸ªç‰ˆæœ¬ï¼‰ï¼ˆresetåªåœ¨æœ¬åœ°ä½¿ç”¨ï¼Œè¿œç¨‹æ¨é€å»ºè®®ä½¿ç”¨<code>revert</code>ä¼šå†æäº¤ä¸€ä¸ªæ–°çš„çºªå½•ï¼Œè¯¥è®°å½•å¼•å…¥æ›´æ”¹â€“è¿™äº›æ›´æ”¹åˆšå¥½å°±æ˜¯ç”¨æ¥æ’¤é”€ä¸Šæ¬¡æäº¤çš„ï¼Œå›åˆ°ä¸Šæ¬¡æäº¤ä¹‹å‰çš„çŠ¶æ€ï¼‰</li>
<li><code>git reset   HEAD^</code>     ï¼ˆå›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼‰</li>
<li><code>git reset  HEAD^^</code>     ï¼ˆå›é€€åˆ°ä¸Šä¸Šä¸ªç‰ˆæœ¬ï¼‰</li>
<li><code>git reflog</code>  ï¼ˆå›é€€é”™äº†ï¼Œå‰è¿›ï¼‰</li>
<li><code>git revert HEAD</code>(æ’¤é”€ä¸Šæ¬¡æäº¤ï¼Œç”¨äºè¿œç¨‹æ¨é€)</li>
</ul>
</blockquote>
<h3 id="æ·»åŠ SSH"><a href="#æ·»åŠ SSH" class="headerlink" title="æ·»åŠ SSH"></a>æ·»åŠ SSH</h3><p>åœ¨git bash è¾“å…¥ <code>ssh-keygen -t rsa</code> ç”Ÿæˆæ–‡ä»¶ï¼Œgithubåˆ›å»ºæ–°çš„SSHå¹¶å¡«å…¥ï¼Œä¹‹åè¾“å…¥ <code>ssh -T git@github.com</code> æµ‹è¯•æ˜¯å¦æ·»åŠ æˆåŠŸ</p>
<h3 id="æ¨é€æˆ–è€…ä¸‹æ‹‰ï¼ˆå…ˆpullå†pushï¼‰"><a href="#æ¨é€æˆ–è€…ä¸‹æ‹‰ï¼ˆå…ˆpullå†pushï¼‰" class="headerlink" title="æ¨é€æˆ–è€…ä¸‹æ‹‰ï¼ˆå…ˆpullå†pushï¼‰"></a>æ¨é€æˆ–è€…ä¸‹æ‹‰ï¼ˆå…ˆpullå†pushï¼‰</h3><p><code>git push origin master</code>    æ¨é€</p>
<p><code>git pull origin master</code>    ä¸‹æ‹‰</p>
<p><code>git pull origin master --allow-unrelated-histories</code><br> <code>git push -f origin master</code> æ›´æ–°</p>
<p><code>git clone git@github.com:ALguojian/test.git</code>ä¸‹è½½githubä¸Šé¢çš„é¡¹ç›®åˆ°æœ¬åœ°</p>
<h3 id="å…³è”giuhubä»“åº“"><a href="#å…³è”giuhubä»“åº“" class="headerlink" title="å…³è”giuhubä»“åº“"></a>å…³è”giuhubä»“åº“</h3><p><code>git remote add origin https://github.com/ALguojian/git_study.git</code></p>
<p><code>origin</code>å°±æ˜¯ä»“åº“åå­—ï¼Œå»ºè®®åå­—å’Œè¿œç¨‹ä»“åº“ä¸€æ ·ï¼Œè¾ƒæ˜“ç®¡ç†</p>
<p><code>git remote -v</code>     æŸ¥çœ‹è¯¥é¡¹ç›®æœ‰å“ªäº›ä»“åº“</p>
<p><code>git push origin master</code>    æäº¤ä»£ç å¯ä»¥åˆ° <code>master</code> åˆ†æ”¯ï¼Œæˆ–è€…å…¶ä»–åˆ†æ”¯</p>
<p><code>git remote rm &quot;origin&quot;</code>    åˆ é™¤<code>origin</code>è¿œç¨‹ä»“åº“</p>
<h3 id="alias-é…ç½®-ç®€çŸ­å‚æ•°"><a href="#alias-é…ç½®-ç®€çŸ­å‚æ•°" class="headerlink" title="alias é…ç½® ç®€çŸ­å‚æ•°"></a>alias é…ç½® ç®€çŸ­å‚æ•°</h3><p><code>git config --global alias.c checkout</code><br><code>git config --global alias.cm commit</code><br><code>git config --global alias.st status</code><br><code>git config --global alias.br branch</code></p>
<p><code>git config -l</code> æŸ¥çœ‹æ‰€æœ‰é…ç½®</p>
<h3 id="è¡¥å……ï¼Œç§»åŠ¨åˆ°å…¶ä»–æäº¤è®°å½•-å³HEADçš„æŒ‡å‘"><a href="#è¡¥å……ï¼Œç§»åŠ¨åˆ°å…¶ä»–æäº¤è®°å½•-å³HEADçš„æŒ‡å‘" class="headerlink" title="è¡¥å……ï¼Œç§»åŠ¨åˆ°å…¶ä»–æäº¤è®°å½•,å³HEADçš„æŒ‡å‘"></a>è¡¥å……ï¼Œç§»åŠ¨åˆ°å…¶ä»–æäº¤è®°å½•,å³<code>HEAD</code>çš„æŒ‡å‘</h3><p><code>git  checkout a</code> ä¸ä»…ç”¨äºåˆ‡æ¢åˆ†æ”¯è¿˜å¯ç”¨äºåˆ‡æ¢æäº¤è®°å½•ï¼Œæ­¤æ—¶aä»£è¡¨æäº¤è®°å½•çš„å“ˆå¸Œå€¼(å¾ˆé•¿)ï¼Œä¸è¿‡åªéœ€è¦å‰å‡ ä½å³å¯</p>
<ul>
<li>ä½¿ç”¨ <code>^</code> å‘ä¸Šç§»åŠ¨ 1 ä¸ªæäº¤è®°å½•</li>
<li>ä½¿ç”¨<code>~&lt;num&gt;</code> å‘ä¸Šç§»åŠ¨å¤šä¸ªæäº¤è®°å½•ï¼Œå¦‚ <code>~3</code></li>
</ul>
<p><code>^</code>åé¢åŠ æ•°å­—æ ‡è¯†å›åˆ°çˆ¶ç±»å…¶ä»–åˆ†æ”¯ç”¨æ³•ï¼š<br><code>git checkout HEAD~; git checkout HEAD^2; git checkout HEAD~2</code></p>
<p>å¹¶ä¸”è¿˜æ”¯æŒé“¾å¼æ“ä½œï¼š<br><code>git checkout HEAD~^2~2</code></p>
<p>æ‰€ä»¥<code>master^</code>ç›¸å½“äºâ€œ<code>master</code> çš„çˆ¶èŠ‚ç‚¹â€ã€‚<code>master^^</code> æ˜¯ <code>master</code> çš„ç¬¬äºŒä¸ªçˆ¶èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥å°† <code>HEAD</code> ä½œä¸ºç›¸å¯¹å¼•ç”¨çš„å‚ç…§,å¯ä»¥ä¸€ç›´ä½¿ç”¨ <code>HEAD^</code>å‘ä¸Šç§»åŠ¨</p>
<p><code>git branch -f master HEAD~3</code> å°† master åˆ†æ”¯å¼ºåˆ¶æŒ‡å‘ HEAD çš„ç¬¬ 3 çº§çˆ¶æäº¤(å¼ºè¡Œæ”¹å˜åˆ†æ”¯æ‰€å¤„ä½ç½®)</p>
<p><code>git cherry-pick C2 C3 C4</code>(æ”¹å˜æäº¤è®°å½•ä¸ä¸»åˆ†æ”¯ï¼ŒC2æ˜¯æäº¤çš„è®°å½•çš„å“ˆå¸Œå€¼)</p>
<p><code>git fetch</code> åŒæ­¥ç»‘å®šçš„ä»“åº“ï¼ˆä¸€èˆ¬æ˜¯å…¶ä»–åˆ†æ”¯ï¼‰</p>
<p><code>git pull</code> å°±æ˜¯ <code>git fetch</code> å’Œ <code>git merge &lt;just-fetched-branch&gt;</code> çš„ç¼©å†™ï¼</p>
<p><code>git fakeTeamwork foo 3</code>æ¨¡æ‹Ÿè¿œç¨‹æäº¤ï¼Œå¯ä»¥æŒ‡å®šåˆ†æ”¯å’Œæ¬¡æ•°</p>
]]></content>
  </entry>
  <entry>
    <title>androidæœ‰å…³åŠ¨ç”»æ¢³ç†</title>
    <url>/2019/06/28/android%E6%9C%89%E5%85%B3%E5%8A%A8%E7%94%BB%E6%A2%B3%E7%90%86/</url>
    <content><![CDATA[<h1 id="è¡¥é—´åŠ¨ç”»"><a href="#è¡¥é—´åŠ¨ç”»" class="headerlink" title="è¡¥é—´åŠ¨ç”»"></a>è¡¥é—´åŠ¨ç”»</h1><blockquote>
<p>åªèƒ½ä½œç”¨åœ¨viewä¸Šï¼Œåªæœ‰å››ç§åŠ¨ç”»ï¼Œåªæ˜¯æ”¹å˜viewçš„è§†è§‰æ•ˆæœï¼Œä¸ä¼šæ”¹å˜viewçœŸæ­£çš„å±æ€§<br>æ•ˆæœæœ‰ï¼šå¹³ç§»(Translate)ï¼Œç¼©æ”¾(scale)ï¼Œæ—‹è½¬(rotate)ï¼Œé€æ˜åº¦(alpha)</p>
</blockquote>
<p><strong>è¡¥é—´åŠ¨ç”»ä½¿ç”¨æ–¹å¼ï¼Œåœ¨animåˆ›å»ºxmlæ–‡ä»¶ï¼Œä½¿ç”¨ä»£ç åŠ¨æ€å¼€å¯åŠ¨ç”»</strong></p>
<a id="more"></a>

<h2 id="å¹³ç§»åŠ¨ç”»-translate"><a href="#å¹³ç§»åŠ¨ç”»-translate" class="headerlink" title="å¹³ç§»åŠ¨ç”» translate"></a>å¹³ç§»åŠ¨ç”» translate</h2><h4 id="ä½¿ç”¨xml"><a href="#ä½¿ç”¨xml" class="headerlink" title="ä½¿ç”¨xml"></a>ä½¿ç”¨xml</h4><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;translate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;

    android:duration=&quot;3000&quot; // åŠ¨ç”»æŒç»­æ—¶é—´ï¼ˆmsï¼‰ï¼Œå¿…é¡»è®¾ç½®ï¼ŒåŠ¨ç”»æ‰æœ‰æ•ˆæœ
    android:startOffset =&quot;1000&quot; // åŠ¨ç”»å»¶è¿Ÿå¼€å§‹æ—¶é—´ï¼ˆmsï¼‰
    android:fillBefore = â€œtrueâ€ // åŠ¨ç”»æ’­æ”¾å®Œåï¼Œè§†å›¾æ˜¯å¦ä¼šåœç•™åœ¨åŠ¨ç”»å¼€å§‹çš„çŠ¶æ€ï¼Œé»˜è®¤ä¸ºtrue
    android:fillAfter = â€œfalseâ€ // åŠ¨ç”»æ’­æ”¾å®Œåï¼Œè§†å›¾æ˜¯å¦ä¼šåœç•™åœ¨åŠ¨ç”»ç»“æŸçš„çŠ¶æ€ï¼Œä¼˜å…ˆäºfillBeforeå€¼ï¼Œé»˜è®¤ä¸ºfalse
    android:fillEnabled= â€œtrueâ€ // æ˜¯å¦åº”ç”¨fillBeforeå€¼ï¼Œå¯¹fillAfterå€¼æ— å½±å“ï¼Œé»˜è®¤ä¸ºtrue
    android:repeatMode= â€œrestartâ€ // é€‰æ‹©é‡å¤æ’­æ”¾åŠ¨ç”»æ¨¡å¼ï¼Œrestartä»£è¡¨æ­£åºé‡æ”¾ï¼Œreverseä»£è¡¨å€’åºå›æ”¾ï¼Œé»˜è®¤ä¸ºrestart|
    android:repeatCount = â€œ0â€ // é‡æ”¾æ¬¡æ•°ï¼ˆæ‰€ä»¥åŠ¨ç”»çš„æ’­æ”¾æ¬¡æ•°=é‡æ”¾æ¬¡æ•°+1ï¼‰ï¼Œä¸ºinfiniteæ—¶æ— é™é‡å¤
    android:interpolator = @[package:]anim/interpolator_resource // æ’å€¼å™¨ï¼Œå³å½±å“åŠ¨ç”»çš„æ’­æ”¾é€Ÿåº¦,ä¸‹é¢ä¼šè¯¦ç»†è®²

    android:fromXDelta=&quot;0&quot; // è§†å›¾åœ¨æ°´å¹³æ–¹å‘x ç§»åŠ¨çš„èµ·å§‹å€¼
    android:toXDelta=&quot;500&quot; // è§†å›¾åœ¨æ°´å¹³æ–¹å‘x ç§»åŠ¨çš„ç»“æŸå€¼
    android:fromYDelta=&quot;0&quot; // è§†å›¾åœ¨ç«–ç›´æ–¹å‘y ç§»åŠ¨çš„èµ·å§‹å€¼
    android:toYDelta=&quot;500&quot; // è§†å›¾åœ¨ç«–ç›´æ–¹å‘y ç§»åŠ¨çš„ç»“æŸå€¼ /&gt;</code></pre><h4 id="javaä»£ç "><a href="#javaä»£ç " class="headerlink" title="javaä»£ç "></a>javaä»£ç </h4><pre><code>        Animation animation = AnimationUtils.loadAnimation(this, R.anim.translateanim);
        button.startAnimation(animation);

        TranslateAnimation translateAnimation = new TranslateAnimation(0, 500, 0, 500);
        translateAnimation.setDuration(2000);
        button.startAnimation(translateAnimation);</code></pre><h2 id="ç¼©æ”¾åŠ¨ç”»-scale"><a href="#ç¼©æ”¾åŠ¨ç”»-scale" class="headerlink" title="ç¼©æ”¾åŠ¨ç”» scale"></a>ç¼©æ”¾åŠ¨ç”» scale</h2><h4 id="ä½¿ç”¨xml-1"><a href="#ä½¿ç”¨xml-1" class="headerlink" title="ä½¿ç”¨xml"></a>ä½¿ç”¨xml</h4><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;scale  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;

    android:fromXScale=&quot;0.0&quot; 
    // åŠ¨ç”»åœ¨æ°´å¹³æ–¹å‘Xçš„èµ·å§‹ç¼©æ”¾å€æ•°
    // 0.0è¡¨ç¤ºæ”¶ç¼©åˆ°æ²¡æœ‰ï¼›1.0è¡¨ç¤ºæ­£å¸¸æ— ä¼¸ç¼©
    // å€¼å°äº1.0è¡¨ç¤ºæ”¶ç¼©ï¼›å€¼å¤§äº1.0è¡¨ç¤ºæ”¾å¤§

    android:toXScale=&quot;2&quot;  //åŠ¨ç”»åœ¨æ°´å¹³æ–¹å‘Xçš„ç»“æŸç¼©æ”¾å€æ•°

    android:fromYScale=&quot;0.0&quot; //åŠ¨ç”»å¼€å§‹å‰åœ¨ç«–ç›´æ–¹å‘Yçš„èµ·å§‹ç¼©æ”¾å€æ•°
    android:toYScale=&quot;2&quot; //åŠ¨ç”»åœ¨ç«–ç›´æ–¹å‘Yçš„ç»“æŸç¼©æ”¾å€æ•°

    android:pivotX=&quot;50%&quot; // ç¼©æ”¾è½´ç‚¹çš„xåæ ‡
    android:pivotY=&quot;50%&quot; // ç¼©æ”¾è½´ç‚¹çš„yåæ ‡
    // è½´ç‚¹ = è§†å›¾ç¼©æ”¾çš„ä¸­å¿ƒç‚¹

    // pivotX pivotY,å¯å–å€¼ä¸ºæ•°å­—ï¼Œç™¾åˆ†æ¯”ï¼Œæˆ–è€…ç™¾åˆ†æ¯”p
    // è®¾ç½®ä¸ºæ•°å­—æ—¶ï¼ˆå¦‚50ï¼‰ï¼Œè½´ç‚¹ä¸ºViewçš„å·¦ä¸Šè§’çš„åŸç‚¹åœ¨xæ–¹å‘å’Œyæ–¹å‘åŠ ä¸Š50pxçš„ç‚¹ã€‚åœ¨Javaä»£ç é‡Œé¢è®¾ç½®è¿™ä¸ªå‚æ•°çš„å¯¹åº”å‚æ•°æ˜¯Animation.ABSOLUTEã€‚
    // è®¾ç½®ä¸ºç™¾åˆ†æ¯”æ—¶ï¼ˆå¦‚50%ï¼‰ï¼Œè½´ç‚¹ä¸ºViewçš„å·¦ä¸Šè§’çš„åŸç‚¹åœ¨xæ–¹å‘åŠ ä¸Šè‡ªèº«å®½åº¦50%å’Œyæ–¹å‘è‡ªèº«é«˜åº¦50%çš„ç‚¹ã€‚åœ¨Javaä»£ç é‡Œé¢è®¾ç½®è¿™ä¸ªå‚æ•°çš„å¯¹åº”å‚æ•°æ˜¯Animation.RELATIVE_TO_SELFã€‚
    // è®¾ç½®ä¸ºç™¾åˆ†æ¯”pæ—¶ï¼ˆå¦‚50%pï¼‰ï¼Œè½´ç‚¹ä¸ºViewçš„å·¦ä¸Šè§’çš„åŸç‚¹åœ¨xæ–¹å‘åŠ ä¸Šçˆ¶æ§ä»¶å®½åº¦50%å’Œyæ–¹å‘çˆ¶æ§ä»¶é«˜åº¦50%çš„ç‚¹ã€‚åœ¨Javaä»£ç é‡Œé¢è®¾ç½®è¿™ä¸ªå‚æ•°çš„å¯¹åº”å‚æ•°æ˜¯Animation.RELATIVE_TO_PARENT /&gt;</code></pre><h4 id="java-ä»£ç "><a href="#java-ä»£ç " class="headerlink" title="java ä»£ç "></a>java ä»£ç </h4><pre><code>        Button mButton = (Button) findViewById(R.id.Button);
        // æ­¥éª¤1:åˆ›å»º éœ€è¦è®¾ç½®åŠ¨ç”»çš„ è§†å›¾View
        Animation rotateAnimation = AnimationUtils.loadAnimation(this, R.anim.view_animation);
        // æ­¥éª¤2:åˆ›å»º åŠ¨ç”»å¯¹è±¡ å¹¶ä¼ å…¥è®¾ç½®çš„åŠ¨ç”»æ•ˆæœxmlæ–‡ä»¶
        mButton.startAnimation(scaleAnimation);



        Button mButton = (Button) findViewById(R.id.Button);
        Animation rotateAnimation = new ScaleAnimation(0,2,0,2,Animation.RELATIVE_TO_SELF,0.5f,Animation.RELATIVE_TO_SELF,0.5f);
        // æ­¥éª¤2ï¼šåˆ›å»ºç¼©æ”¾åŠ¨ç”»çš„å¯¹è±¡ &amp; è®¾ç½®åŠ¨ç”»æ•ˆæœï¼šç¼©æ”¾åŠ¨ç”»å¯¹åº”çš„Animationå­ç±»ä¸ºRotateAnimation
        // å‚æ•°è¯´æ˜:
        // 1. fromX ï¼šåŠ¨ç”»åœ¨æ°´å¹³æ–¹å‘Xçš„ç»“æŸç¼©æ”¾å€æ•°
        // 2. toX ï¼šåŠ¨ç”»åœ¨æ°´å¹³æ–¹å‘Xçš„ç»“æŸç¼©æ”¾å€æ•°
        // 3. fromY ï¼šåŠ¨ç”»å¼€å§‹å‰åœ¨ç«–ç›´æ–¹å‘Yçš„èµ·å§‹ç¼©æ”¾å€æ•°
        // 4. toYï¼šåŠ¨ç”»åœ¨ç«–ç›´æ–¹å‘Yçš„ç»“æŸç¼©æ”¾å€æ•°
        // 5. pivotXType:ç¼©æ”¾è½´ç‚¹çš„xåæ ‡çš„æ¨¡å¼
        // 6. pivotXValue:ç¼©æ”¾è½´ç‚¹xåæ ‡çš„ç›¸å¯¹å€¼
        // 7. pivotYType:ç¼©æ”¾è½´ç‚¹çš„yåæ ‡çš„æ¨¡å¼
        // 8. pivotYValue:ç¼©æ”¾è½´ç‚¹yåæ ‡çš„ç›¸å¯¹å€¼

        // pivotXType = Animation.ABSOLUTE:ç¼©æ”¾è½´ç‚¹çš„xåæ ‡ =  Viewå·¦ä¸Šè§’çš„åŸç‚¹ åœ¨xæ–¹å‘ åŠ ä¸Š pivotXValueæ•°å€¼çš„ç‚¹(yæ–¹å‘åŒç†)
        // pivotXType = Animation.RELATIVE_TO_SELF:ç¼©æ”¾è½´ç‚¹çš„xåæ ‡ = Viewå·¦ä¸Šè§’çš„åŸç‚¹ åœ¨xæ–¹å‘ åŠ ä¸Š è‡ªèº«å®½åº¦ä¹˜ä¸ŠpivotXValueæ•°å€¼çš„å€¼(yæ–¹å‘åŒç†)
        // pivotXType = Animation.RELATIVE_TO_PARENT:ç¼©æ”¾è½´ç‚¹çš„xåæ ‡ = Viewå·¦ä¸Šè§’çš„åŸç‚¹ åœ¨xæ–¹å‘ åŠ ä¸Š çˆ¶æ§ä»¶å®½åº¦ä¹˜ä¸ŠpivotXValueæ•°å€¼çš„å€¼ (yæ–¹å‘åŒç†)

        scaleAnimation.setDuration(3000);
        mButton.startAnimation(scaleAnimation);</code></pre><h2 id="æ—‹è½¬åŠ¨ç”»-rotate"><a href="#æ—‹è½¬åŠ¨ç”»-rotate" class="headerlink" title="æ—‹è½¬åŠ¨ç”» rotate"></a>æ—‹è½¬åŠ¨ç”» rotate</h2><h4 id="ä½¿ç”¨xml-2"><a href="#ä½¿ç”¨xml-2" class="headerlink" title="ä½¿ç”¨xml"></a>ä½¿ç”¨xml</h4><pre><code>      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
      &lt;rotate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;

        android:duration=&quot;1000&quot;
        android:fromDegrees=&quot;0&quot; // åŠ¨ç”»å¼€å§‹æ—¶ è§†å›¾çš„æ—‹è½¬è§’åº¦(æ­£æ•° = é¡ºæ—¶é’ˆï¼Œè´Ÿæ•° = é€†æ—¶é’ˆ)
        android:toDegrees=&quot;270&quot; // åŠ¨ç”»ç»“æŸæ—¶ è§†å›¾çš„æ—‹è½¬è§’åº¦(æ­£æ•° = é¡ºæ—¶é’ˆï¼Œè´Ÿæ•° = é€†æ—¶é’ˆ)
        android:pivotX=&quot;50%&quot; // æ—‹è½¬è½´ç‚¹çš„xåæ ‡
        android:pivotY=&quot;0&quot; // æ—‹è½¬è½´ç‚¹çš„yåæ ‡ /&gt;</code></pre><h4 id="java-ä»£ç -1"><a href="#java-ä»£ç -1" class="headerlink" title="java ä»£ç "></a>java ä»£ç </h4><pre><code>        Animation rotateAnimation = new RotateAnimation(0, 270, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);
        rotateAnimation.setDuration(2000);
        button.startAnimation(rotateAnimation);
</code></pre><h2 id="é€æ˜åº¦"><a href="#é€æ˜åº¦" class="headerlink" title="é€æ˜åº¦"></a>é€æ˜åº¦</h2><h4 id="ä½¿ç”¨-xml"><a href="#ä½¿ç”¨-xml" class="headerlink" title="ä½¿ç”¨ xml"></a>ä½¿ç”¨ xml</h4><pre><code>      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
      &lt;alpha xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
         // ä»¥ä¸‹å‚æ•°æ˜¯é€æ˜åº¦åŠ¨ç”»ç‰¹æœ‰çš„å±æ€§
        android:fromAlpha=&quot;1.0&quot; // åŠ¨ç”»å¼€å§‹æ—¶è§†å›¾çš„é€æ˜åº¦(å–å€¼èŒƒå›´: -1 ~ 1)
        android:toAlpha=&quot;0.0&quot;// åŠ¨ç”»ç»“æŸæ—¶è§†å›¾çš„é€æ˜åº¦(å–å€¼èŒƒå›´: -1 ~ 1)/&gt;</code></pre><h4 id="java-ä»£ç -2"><a href="#java-ä»£ç -2" class="headerlink" title="java ä»£ç "></a>java ä»£ç </h4><pre><code>        Button mButton = (Button) findViewById(R.id.Button);
        // æ­¥éª¤1:åˆ›å»º éœ€è¦è®¾ç½®åŠ¨ç”»çš„ è§†å›¾View

        Animation alphaAnimation = new AlphaAnimation(1,0);
        // æ­¥éª¤2ï¼šåˆ›å»ºé€æ˜åº¦åŠ¨ç”»çš„å¯¹è±¡ &amp; è®¾ç½®åŠ¨ç”»æ•ˆæœï¼šé€æ˜åº¦åŠ¨ç”»å¯¹åº”çš„Animationå­ç±»ä¸ºAlphaAnimation
        // å‚æ•°è¯´æ˜:
        // 1. fromAlpha:åŠ¨ç”»å¼€å§‹æ—¶è§†å›¾çš„é€æ˜åº¦(å–å€¼èŒƒå›´: -1 ~ 1)
        // 2. toAlpha:åŠ¨ç”»ç»“æŸæ—¶è§†å›¾çš„é€æ˜åº¦(å–å€¼èŒƒå›´: -1 ~ 1)

        alphaAnimation.setDuration(3000);
        // å›ºå®šå±æ€§çš„è®¾ç½®éƒ½æ˜¯åœ¨å…¶å±æ€§å‰åŠ â€œsetâ€ï¼Œå¦‚setDurationï¼ˆï¼‰

        mButton.startAnimation(alphaAnimation);</code></pre><h2 id="ç»„åˆåŠ¨ç”»"><a href="#ç»„åˆåŠ¨ç”»" class="headerlink" title="ç»„åˆåŠ¨ç”»"></a>ç»„åˆåŠ¨ç”»</h2><h4 id="ä½¿ç”¨-xml-1"><a href="#ä½¿ç”¨-xml-1" class="headerlink" title="ä½¿ç”¨ xml"></a>ä½¿ç”¨ xml</h4><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
// é‡‡ç”¨&lt; Set/&gt;æ ‡ç­¾
&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;

// ç»„åˆåŠ¨ç”»ç‹¬ç‰¹çš„å±æ€§
    android:shareinterpolator = â€œtrueâ€
    // è¡¨ç¤ºç»„åˆåŠ¨ç”»ä¸­çš„åŠ¨ç”»æ˜¯å¦å’Œé›†åˆå…±äº«åŒä¸€ä¸ªå·®å€¼å™¨
    // å¦‚æœé›†åˆä¸æŒ‡å®šæ’å€¼å™¨ï¼Œé‚£ä¹ˆå­åŠ¨ç”»éœ€è¦å•ç‹¬è®¾ç½®

// ç»„åˆåŠ¨ç”»æ’­æ”¾æ—¶æ˜¯å…¨éƒ¨åŠ¨ç”»åŒæ—¶å¼€å§‹
// å¦‚æœæƒ³ä¸åŒåŠ¨ç”»ä¸åŒæ—¶é—´å¼€å§‹å°±è¦ä½¿ç”¨android:startOffsetå±æ€§æ¥å»¶è¿Ÿå•ä¸ªåŠ¨ç”»æ’­æ”¾æ—¶é—´


    &lt;rotate
        android:duration=&quot;1000&quot;
        android:fromDegrees=&quot;0&quot;
        android:toDegrees=&quot;360&quot;
        android:pivotX=&quot;50%&quot;
        android:pivotY=&quot;50%&quot;
        android:repeatMode=&quot;restart&quot;
        android:repeatCount=&quot;infinite&quot;/&gt;

    &lt;translate
        android:duration=&quot;10000&quot;
        android:startOffset = â€œ1000â€
        android:fromXDelta=&quot;-50%p&quot;
        android:fromYDelta=&quot;0&quot;
        android:toXDelta=&quot;50%p&quot;
        android:toYDelta=&quot;0&quot; /&gt;

    &lt;alpha
        android:startOffset=&quot;7000&quot;
        android:duration=&quot;3000&quot;
        android:fromAlpha=&quot;1.0&quot;
        android:toAlpha=&quot;0.0&quot; /&gt;

    &lt;scale
        android:startOffset=&quot;4000&quot;
        android:duration=&quot;1000&quot;
        android:fromXScale=&quot;1.0&quot;
        android:fromYScale=&quot;1.0&quot;
        android:pivotX=&quot;50%&quot;
        android:pivotY=&quot;50%&quot;
        android:toXScale=&quot;0.5&quot;
        android:toYScale=&quot;0.5&quot;/&gt;

    1. åœ¨ç»„åˆåŠ¨ç”»é‡Œscaleç¼©æ”¾åŠ¨ç”»è®¾ç½®çš„repeatCountï¼ˆé‡å¤æ’­æ”¾ï¼‰å’ŒfillBeforeï¼ˆæ’­æ”¾å®Œåï¼Œè§†å›¾æ˜¯å¦ä¼šåœç•™åœ¨åŠ¨ç”»å¼€å§‹çš„çŠ¶æ€ï¼‰æ˜¯æ— æ•ˆçš„ã€‚
    2. æ‰€ä»¥å¦‚æœéœ€è¦é‡å¤æ’­æ”¾æˆ–è€…å›åˆ°åŸä½çš„è¯éœ€è¦åœ¨setæ ‡ç­¾é‡Œè®¾ç½®
    3. ä½†æ˜¯ç”±äºæ­¤å¤„rotateæ—‹è½¬åŠ¨ç”»é‡Œå·²è®¾ç½®repeatCountä¸ºinfiniteï¼Œæ‰€ä»¥åŠ¨ç”»ä¸ä¼šç»“æŸï¼Œä¹Ÿå°±çœ‹ä¸åˆ°é‡æ’­å’Œå›å¤åŸä½
&lt;/set&gt;</code></pre><h4 id="ä½¿ç”¨-javaä»£ç "><a href="#ä½¿ç”¨-javaä»£ç " class="headerlink" title="ä½¿ç”¨ javaä»£ç "></a>ä½¿ç”¨ javaä»£ç </h4><pre><code>        Button mButton = (Button) findViewById(R.id.Button);
        // åˆ›å»º éœ€è¦è®¾ç½®åŠ¨ç”»çš„ è§†å›¾View

        // ç»„åˆåŠ¨ç”»è®¾ç½®
        AnimationSet setAnimation = new AnimationSet(true);
        // æ­¥éª¤1:åˆ›å»ºç»„åˆåŠ¨ç”»å¯¹è±¡(è®¾ç½®ä¸ºtrue)


        // æ­¥éª¤2:è®¾ç½®ç»„åˆåŠ¨ç”»çš„å±æ€§
        // ç‰¹åˆ«è¯´æ˜ä»¥ä¸‹æƒ…å†µ
        // å› ä¸ºåœ¨ä¸‹é¢çš„æ—‹è½¬åŠ¨ç”»è®¾ç½®äº†æ— é™å¾ªç¯(RepeatCount = INFINITE)
        // æ‰€ä»¥åŠ¨ç”»ä¸ä¼šç»“æŸï¼Œè€Œæ˜¯æ— é™å¾ªç¯
        // æ‰€ä»¥ç»„åˆåŠ¨ç”»çš„ä¸‹é¢ä¸¤è¡Œè®¾ç½®æ˜¯æ— æ•ˆçš„
        setAnimation.setRepeatMode(Animation.RESTART);
        setAnimation.setRepeatCount(1);// è®¾ç½®äº†å¾ªç¯ä¸€æ¬¡,ä½†æ— æ•ˆ

        // å­åŠ¨ç”»1:æ—‹è½¬åŠ¨ç”»
        Animation rotate = new RotateAnimation(0,360,Animation.RELATIVE_TO_SELF,0.5f,Animation.RELATIVE_TO_SELF,0.5f);
        rotate.setDuration(1000);
        rotate.setRepeatMode(Animation.RESTART);
        rotate.setRepeatCount(Animation.INFINITE);

        // å­åŠ¨ç”»2:å¹³ç§»åŠ¨ç”»
        Animation translate = new TranslateAnimation(TranslateAnimation.RELATIVE_TO_PARENT,-0.5f,
                TranslateAnimation.RELATIVE_TO_PARENT,0.5f,
                TranslateAnimation.RELATIVE_TO_SELF,0
                ,TranslateAnimation.RELATIVE_TO_SELF,0);
        translate.setDuration(10000);

        // å­åŠ¨ç”»3:é€æ˜åº¦åŠ¨ç”»
        Animation alpha = new AlphaAnimation(1,0);
        alpha.setDuration(3000);
        alpha.setStartOffset(7000);

        // å­åŠ¨ç”»4:ç¼©æ”¾åŠ¨ç”»
        Animation scale1 = new ScaleAnimation(1,0.5f,1,0.5f,Animation.RELATIVE_TO_SELF,0.5f,Animation.RELATIVE_TO_SELF,0.5f);
        scale1.setDuration(1000);
        scale1.setStartOffset(4000);

        // æ­¥éª¤4:å°†åˆ›å»ºçš„å­åŠ¨ç”»æ·»åŠ åˆ°ç»„åˆåŠ¨ç”»é‡Œ
        setAnimation.addAnimation(alpha);
        setAnimation.addAnimation(rotate);
        setAnimation.addAnimation(translate);
        setAnimation.addAnimation(scale1);

        mButton.startAnimation(setAnimation);</code></pre><h1 id="å¸§åŠ¨ç”»ï¼Œå°†åŠ¨ç”»åˆ‡å‰²ä¸ºå¤šå¼ å›¾ç‰‡"><a href="#å¸§åŠ¨ç”»ï¼Œå°†åŠ¨ç”»åˆ‡å‰²ä¸ºå¤šå¼ å›¾ç‰‡" class="headerlink" title="å¸§åŠ¨ç”»ï¼Œå°†åŠ¨ç”»åˆ‡å‰²ä¸ºå¤šå¼ å›¾ç‰‡"></a>å¸§åŠ¨ç”»ï¼Œå°†åŠ¨ç”»åˆ‡å‰²ä¸ºå¤šå¼ å›¾ç‰‡</h1><h4 id="ä½¿ç”¨xmlåˆ›å»º"><a href="#ä½¿ç”¨xmlåˆ›å»º" class="headerlink" title="ä½¿ç”¨xmlåˆ›å»º"></a>ä½¿ç”¨xmlåˆ›å»º</h4><pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
  &lt;animation-list
    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:oneshot=&quot;true&quot; 
    // è®¾ç½®æ˜¯å¦åªæ’­æ”¾ä¸€æ¬¡ï¼Œé»˜è®¤ä¸ºfalse&gt;

    //item = åŠ¨ç”»å›¾ç‰‡èµ„æºï¼›duration = è®¾ç½®ä¸€å¸§æŒç»­æ—¶é—´(ms)
    &lt;item android:drawable=&quot;@drawable/a0&quot; android:duration=&quot;100&quot;/&gt;
    &lt;item android:drawable=&quot;@drawable/a1&quot; android:duration=&quot;100&quot;/&gt;
    &lt;item android:drawable=&quot;@drawable/a2&quot; android:duration=&quot;100&quot;/&gt;
    &lt;item android:drawable=&quot;@drawable/a3&quot; android:duration=&quot;100&quot;/&gt;
    &lt;item android:drawable=&quot;@drawable/a4&quot; android:duration=&quot;100&quot;/&gt;
    &lt;item android:drawable=&quot;@drawable/a5&quot; android:duration=&quot;100&quot;/&gt;
    &lt;item android:drawable=&quot;@drawable/a6&quot; android:duration=&quot;100&quot;/&gt;
    &lt;item android:drawable=&quot;@drawable/a7&quot; android:duration=&quot;100&quot;/&gt;
&lt;/animation-list&gt;</code></pre><h4 id="ä½¿ç”¨javaä»£ç "><a href="#ä½¿ç”¨javaä»£ç " class="headerlink" title="ä½¿ç”¨javaä»£ç "></a>ä½¿ç”¨javaä»£ç </h4><pre><code>        ImageView imageView = new ImageView(this);
        imageView.setImageResource(R.drawable.ic_launcher_background);
        AnimationDrawable animationDrawable = (AnimationDrawable) imageView.getDrawable();
        animationDrawable.start();
        animationDrawable.stop();


        //åŠ¨æ€åˆ›å»ºå¸§åŠ¨ç”»
        AnimationDrawable animationDrawable1 = new AnimationDrawable();
        for (int i = 0; i &lt; 10; i++) {
            int drawable = getResources().getIdentifier(&quot;aaa&quot; + i, &quot;drawable&quot;, getPackageName());
            Drawable drawable1 = getResources().getDrawable(drawable);
            animationDrawable1.addFrame(drawable1,100);
        }
        animationDrawable1.setOneShot(true);
        ImageView imageView1 = new ImageView(this);
        imageView.setImageResource(R.drawable.ic_launcher_background);
        //å¼€å¯åŠ¨ç”»ä¹‹å‰å…ˆåœæ­¢åŠ¨ç”»ï¼Œä¸ç„¶ç¬¬ä¸€æ¬¡åŠ¨ç”»ä¹‹åä¼šåœç•™åœ¨æœ€åä¸€å¸§ï¼Œè¿™æ ·åŠ¨ç”»å°±åªä¼šè§¦å‘ä¸€æ¬¡
        animationDrawable1.stop();
        animationDrawable1.start();
</code></pre><h2 id="ç›‘å¬åŠ¨ç”»è¿‡ç¨‹"><a href="#ç›‘å¬åŠ¨ç”»è¿‡ç¨‹" class="headerlink" title="ç›‘å¬åŠ¨ç”»è¿‡ç¨‹"></a>ç›‘å¬åŠ¨ç”»è¿‡ç¨‹</h2><pre><code>    alphaAnimation.setAnimationListener(new Animation.AnimationListener() {
            @Override
            public void onAnimationStart(Animation animation) {

            }

            @Override
            public void onAnimationEnd(Animation animation) {

            }

            @Override
            public void onAnimationRepeat(Animation animation) {

            }
        });</code></pre><h4 id="å±æ€§åŠ¨ç”»å¯ä»¥é‡‡ç”¨ä»¥ä¸‹ç›‘å¬"><a href="#å±æ€§åŠ¨ç”»å¯ä»¥é‡‡ç”¨ä»¥ä¸‹ç›‘å¬" class="headerlink" title="å±æ€§åŠ¨ç”»å¯ä»¥é‡‡ç”¨ä»¥ä¸‹ç›‘å¬"></a>å±æ€§åŠ¨ç”»å¯ä»¥é‡‡ç”¨ä»¥ä¸‹ç›‘å¬</h4><pre><code> ValueAnimator valueAnimator = ValueAnimator.ofFloat(0.0f, 120f);
        valueAnimator.addListener(new AnimatorListenerAdapter() {
            @Override
            public void onAnimationStart(Animator animation) {
                super.onAnimationStart(animation);
            }
        });</code></pre><h1 id="å±æ€§åŠ¨ç”»"><a href="#å±æ€§åŠ¨ç”»" class="headerlink" title="å±æ€§åŠ¨ç”»"></a>å±æ€§åŠ¨ç”»</h1><blockquote>
<p>3.0ä¹‹åå‡ºç°ã€‚é¡¾åæ€ä¹‰ï¼Œä¸ºäº†æ”¹å˜viewçš„æŸä¸€ä¸ªå±æ€§çš„åŠ¨ç”»</p>
</blockquote>
<p>ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>è®¾ç½®åŠ¨ç”»è¿è¡Œæ—¶é•¿ï¼ŒåŠ¨ç”»æ•ˆæœä»¥åŠå¯¹åº”å±æ€§çš„åˆå§‹å€¼å’Œç»“æŸå€¼</p>
</li>
<li><p>è®¾ç½®ä»å¼€å§‹åˆ°ç»“æŸçš„å˜åŒ–é€»è¾‘</p>
<ul>
<li>è®¾ç½®å€¼å˜åŒ–çš„æ¨¡å¼è¶‹åŠ¿ä½¿ç”¨æ’å€¼å™¨ï¼Œè‡ªå®šä¹‰æ’å€¼å™¨éœ€è¦å®ç°interpolatoræ¥å£</li>
<li>è®¾ç½®å€¼å˜åŒ–çš„å…·ä½“æ•°å€¼ä½¿ç”¨ä¼°å€¼å™¨ï¼Œè‡ªå®šä¹‰ä¼°å€¼å™¨å®ç°TypeEvaluatoræ¥å£</li>
</ul>
</li>
<li><p>æ ¹æ®å˜åŒ–ä¸æ–­æ”¹å˜å€¼å¾—æ•ˆæœ</p>
</li>
<li><p>å€¼æ¯æ”¹å˜ä¸€æ¬¡ï¼Œå°±èµ‹å€¼ç»™viewçš„å±æ€§ä¸€æ¬¡ï¼Œ</p>
<ul>
<li>æ‰‹åŠ¨èµ‹å€¼ä½¿ç”¨-valueAnimator</li>
<li>è‡ªåŠ¨èµ‹å€¼ä½¿ç”¨-ObjectAnimator</li>
</ul>
</li>
<li><p>æ¯æ¬¡è°ƒç”¨invalidate();ä¸æ–­åˆ·æ–°è§†å›¾ç›´åˆ°åˆå§‹å€¼å˜ä¸ºç»“æŸå€¼</p>
</li>
</ol>
<h3 id="ValueAnimator-æ‰‹åŠ¨èµ‹å€¼ç»™å¯¹è±¡çš„å±æ€§ï¼Œå®ç°åŠ¨ç”»æ•ˆæœ"><a href="#ValueAnimator-æ‰‹åŠ¨èµ‹å€¼ç»™å¯¹è±¡çš„å±æ€§ï¼Œå®ç°åŠ¨ç”»æ•ˆæœ" class="headerlink" title="ValueAnimator æ‰‹åŠ¨èµ‹å€¼ç»™å¯¹è±¡çš„å±æ€§ï¼Œå®ç°åŠ¨ç”»æ•ˆæœ"></a>ValueAnimator æ‰‹åŠ¨èµ‹å€¼ç»™å¯¹è±¡çš„å±æ€§ï¼Œå®ç°åŠ¨ç”»æ•ˆæœ</h3><p>è‡ªå¸¦ä¼°å€¼å™¨æœ‰ï¼š</p>
<ul>
<li>ValueAnimator ofInt(intâ€¦ values)ï¼Œæ•´å‹ä¼°å€¼å™¨</li>
<li>ValueAnimator ofFloat(floatâ€¦ values) ï¼Œæµ®ç‚¹å‹ä¼°å€¼å™¨</li>
<li>ValueAnimator ofObject(TypeEvaluator evaluator, Objectâ€¦ values)æ“ä½œå¯¹è±¡å®ç°åŠ¨ç”»æ•ˆæœ</li>
</ul>
<h4 id="æ•´å‹æˆ–è€…æµ®ç‚¹å‹ä¼°å€¼å™¨"><a href="#æ•´å‹æˆ–è€…æµ®ç‚¹å‹ä¼°å€¼å™¨" class="headerlink" title="æ•´å‹æˆ–è€…æµ®ç‚¹å‹ä¼°å€¼å™¨"></a>æ•´å‹æˆ–è€…æµ®ç‚¹å‹ä¼°å€¼å™¨</h4><pre><code>        //è®¾ç½®åŠ¨ç”»å±æ€§çš„åˆå§‹å€¼ä»¥åŠç»“æŸå€¼ï¼ŒofIntåˆ›å»ºåŠ¨ç”»å®ä¾‹,è®²ä¼ å…¥çš„å¤šä¸ªIntå‹å‚æ•°è¿›è¡Œå¹³æ»‘è¿‡æ¸¡ï¼Œå†…ç½®æ•´å‹ä¼°å€¼å™¨ï¼Œç›´æ¥ä½¿ç”¨é»˜è®¤
        final ValueAnimator valueAnimator = ValueAnimator.ofInt(100, 180, 500, 700, 600);

        mButton = findViewById(R.id.button2);

        valueAnimator.setDuration(2000);//æ’­æ”¾æ—¶é—´
        valueAnimator.setStartDelay(100);//å»¶è¿Ÿæ’­æ”¾æ—¶é—´
        valueAnimator.setRepeatCount(0);//è®¾ç½®æ’­æ”¾æ¬¡æ•°,-1å°±æ˜¯æ— é™å¾ªç¯
        valueAnimator.setRepeatMode(ValueAnimator.REVERSE);//è®¾ç½®é‡å¤æ’­æ”¾æ¨¡å¼ValueAnimator.RESTART(é»˜è®¤):æ­£åºé‡æ”¾ï¼ŒValueAnimator.REVERSE:å€’åºå›æ”¾

        valueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {
            @Override
            public void onAnimationUpdate(ValueAnimator animation) {
                int animatedValue = (Integer) valueAnimator.getAnimatedValue();

                mButton.setText(&quot;---&quot; + animatedValue);

                mButton.setTranslationX(animatedValue);
                mButton.getLayoutParams().width = animatedValue;
                mButton.getLayoutParams().height = animatedValue;
                mButton.setRotation(animatedValue);
                mButton.setAlpha(animatedValue);

                mButton.requestLayout();//åˆ·æ–°viewçš„ä½ç½®
            }
        });
        valueAnimator.start();</code></pre><h4 id="ValueAnimator-ofObjectï¼ˆï¼‰å°†åˆå§‹å€¼-ä»¥å¯¹è±¡çš„å½¢å¼-è¿‡æ¸¡åˆ°ç»“æŸå€¼"><a href="#ValueAnimator-ofObjectï¼ˆï¼‰å°†åˆå§‹å€¼-ä»¥å¯¹è±¡çš„å½¢å¼-è¿‡æ¸¡åˆ°ç»“æŸå€¼" class="headerlink" title="ValueAnimator.ofObjectï¼ˆï¼‰å°†åˆå§‹å€¼ ä»¥å¯¹è±¡çš„å½¢å¼ è¿‡æ¸¡åˆ°ç»“æŸå€¼"></a>ValueAnimator.ofObjectï¼ˆï¼‰å°†åˆå§‹å€¼ ä»¥å¯¹è±¡çš„å½¢å¼ è¿‡æ¸¡åˆ°ç»“æŸå€¼</h4><pre><code>public class ObjectEvaluatorView extends View {

    private Paint mPaint;
    private Point mPoint;

    private static final int ROUND = 81;

    public ObjectEvaluatorView(Context context) {
        this(context, null);
    }

    public ObjectEvaluatorView(Context context, @Nullable AttributeSet attrs) {

        this(context, attrs, 0);
    }

    public ObjectEvaluatorView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {
        super(context, attrs, defStyleAttr);
        mPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
        mPaint.setColor(Color.YELLOW);
        mPaint.setTextSize(120);
    }

    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        if (mPoint == null) {
            mPoint = new Point(ROUND,ROUND);

            canvas.drawCircle(ROUND,ROUND,ROUND,mPaint);

            Point point = new Point(600, 800);
            Point point3 = new Point(80, 1200);
            Point point4 = new Point(80, 80);

            ValueAnimator valueAnimator = ValueAnimator.ofObject(new ObjectEvaluator(), mPoint, point,point3,point4);
            valueAnimator.setDuration(3000);
            valueAnimator.setRepeatCount(-1);

            valueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {
                @Override
                public void onAnimationUpdate(ValueAnimator animation) {
                    mPoint = (Point) animation.getAnimatedValue();

                    invalidate();
                }
            });

            valueAnimator.start();

        }else {
            canvas.drawText(&quot;ğŸ˜„&quot;,mPoint.getX(),mPoint.getY(),mPaint);
        }
    }
}</code></pre><h3 id="ObjectAnimatorè‡ªåŠ¨èµ‹å€¼å®ç°åŠ¨ç”»æ•ˆæœï¼Œç›´æ¥æ“ä½œå¯¹è±¡çš„å±æ€§"><a href="#ObjectAnimatorè‡ªåŠ¨èµ‹å€¼å®ç°åŠ¨ç”»æ•ˆæœï¼Œç›´æ¥æ“ä½œå¯¹è±¡çš„å±æ€§" class="headerlink" title="ObjectAnimatorè‡ªåŠ¨èµ‹å€¼å®ç°åŠ¨ç”»æ•ˆæœï¼Œç›´æ¥æ“ä½œå¯¹è±¡çš„å±æ€§"></a>ObjectAnimatorè‡ªåŠ¨èµ‹å€¼å®ç°åŠ¨ç”»æ•ˆæœï¼Œç›´æ¥æ“ä½œå¯¹è±¡çš„å±æ€§</h3><h4 id="åŸºæœ¬çš„å››ç§å±æ€§ï¼š"><a href="#åŸºæœ¬çš„å››ç§å±æ€§ï¼š" class="headerlink" title="åŸºæœ¬çš„å››ç§å±æ€§ï¼š"></a>åŸºæœ¬çš„å››ç§å±æ€§ï¼š</h4><pre><code>        ObjectAnimator alpha = ObjectAnimator.ofFloat(mButton3, &quot;alpha&quot;, 1f, 0f, 100f);
        alpha.setDuration(3000);
        alpha.setRepeatCount(-1);
        alpha.start();

        ObjectAnimator rotation = ObjectAnimator.ofFloat(mButton3, &quot;rotation&quot;, 1f, 360f, 100f);
        rotation.setDuration(3000);
        rotation.setRepeatCount(-1);
        rotation.start();

        ObjectAnimator translationX = ObjectAnimator.ofFloat(mButton3, &quot;translationY&quot;, 1f, 360f, 100f);
        translationX.setDuration(3000);
        translationX.setRepeatCount(-1);
        translationX.start();

        ObjectAnimator scaleY = ObjectAnimator.ofFloat(mButton3, &quot;scaleY&quot;, 1f, 4f, 1f);
        scaleY.setDuration(3000);
        scaleY.setRepeatCount(-1);
        scaleY.start();</code></pre><table>
<thead>
<tr>
<th>å±æ€§</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>Alpha</td>
<td>æ§åˆ¶viewçš„é€æ˜åº¦</td>
</tr>
<tr>
<td>TranslationX</td>
<td>æ§åˆ¶xè½´æ–¹å‘ä½ç§»</td>
</tr>
<tr>
<td>TranslationY</td>
<td>Ké€šçŸ¥yè½´æ–¹å‘ä½ç§»</td>
</tr>
<tr>
<td>ScaleX</td>
<td>æ§åˆ¶xè½´æ–¹å‘ç¼©æ”¾å€æ•°</td>
</tr>
<tr>
<td>ScaleY</td>
<td>æ§åˆ¶yè½´æ–¹å‘ç¼©æ”¾å€æ•°</td>
</tr>
<tr>
<td>Rotation</td>
<td>æ§åˆ¶ä»¥å±å¹•æ–¹å‘ä¸ºè½´çš„æ—‹è½¬åº¦æ•°</td>
</tr>
<tr>
<td>RotationX</td>
<td>æ§åˆ¶ä»¥xè½´ä¸ºè½´çš„æ—‹è½¬åº¦æ•°</td>
</tr>
<tr>
<td>RotationY</td>
<td>æ§åˆ¶ä»¥yè½´ä¸ºè½´çš„æ—‹è½¬åº¦æ•°</td>
</tr>
</tbody></table>
<h4 id="æ‰©å±•è‡ªå®šä¹‰å±æ€§"><a href="#æ‰©å±•è‡ªå®šä¹‰å±æ€§" class="headerlink" title="æ‰©å±•è‡ªå®šä¹‰å±æ€§"></a>æ‰©å±•è‡ªå®šä¹‰å±æ€§</h4><p>ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>é€šè¿‡é›†æˆåŸå§‹ç±»ï¼Œæ·»åŠ getï¼ˆï¼‰å’Œsetï¼ˆï¼‰æ–¹æ³• </li>
</ol>
<pre><code>public class MyView2 extends View {
    // è®¾ç½®éœ€è¦ç”¨åˆ°çš„å˜é‡
    public static final float RADIUS = 100f;// åœ†çš„åŠå¾„ = 100
    private Paint mPaint;// ç»˜å›¾ç”»ç¬”

    private String color;
    // è®¾ç½®èƒŒæ™¯é¢œè‰²å±æ€§

    // è®¾ç½®èƒŒæ™¯é¢œè‰²çš„get() &amp; set()æ–¹æ³•
    public String getColor() {
        return color;
    }

    public void setColor(String color) {
        this.color = color;
        mPaint.setColor(Color.parseColor(color));
        // å°†ç”»ç¬”çš„é¢œè‰²è®¾ç½®æˆæ–¹æ³•å‚æ•°ä¼ å…¥çš„é¢œè‰²
        invalidate();
        // è°ƒç”¨äº†invalidate()æ–¹æ³•,å³ç”»ç¬”é¢œè‰²æ¯æ¬¡æ”¹å˜éƒ½ä¼šåˆ·æ–°è§†å›¾ï¼Œç„¶åè°ƒç”¨onDraw()æ–¹æ³•é‡æ–°ç»˜åˆ¶åœ†
        // è€Œå› ä¸ºæ¯æ¬¡è°ƒç”¨onDraw()æ–¹æ³•æ—¶ç”»ç¬”çš„é¢œè‰²éƒ½ä¼šæ”¹å˜,æ‰€ä»¥åœ†çš„é¢œè‰²ä¹Ÿä¼šæ”¹å˜
    }


    // æ„é€ æ–¹æ³•(åˆå§‹åŒ–ç”»ç¬”)
    public MyView2(Context context, AttributeSet attrs) {
        super(context, attrs);
        // åˆå§‹åŒ–ç”»ç¬”
        mPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
        mPaint.setColor(Color.BLUE);
    }

    // å¤å†™onDraw()ä»è€Œå®ç°ç»˜åˆ¶é€»è¾‘
    // ç»˜åˆ¶é€»è¾‘:å…ˆåœ¨åˆå§‹ç‚¹ç”»åœ†,é€šè¿‡ç›‘å¬å½“å‰åæ ‡å€¼(currentPoint)çš„å˜åŒ–,æ¯æ¬¡å˜åŒ–éƒ½è°ƒç”¨onDraw()é‡æ–°ç»˜åˆ¶åœ†,ä»è€Œå®ç°åœ†çš„å¹³ç§»åŠ¨ç”»æ•ˆæœ
    @Override
    protected void onDraw(Canvas canvas) {
        canvas.drawCircle(500, 500, RADIUS, mPaint);
    }
}</code></pre><ol start="2">
<li>æ·»åŠ åŒ…è£…ç±»ï¼Œä¼ é€’å¯¹è±¡è¿›å…¥ï¼Œå°è£…getï¼ˆï¼‰å’Œsetï¼ˆï¼‰æ–¹æ³•</li>
</ol>
<pre><code>
        ObjectAnimator alpha = ObjectAnimator.ofObject(new Test(mButton3), &quot;text&quot;, new Bbb(), &quot;asdasd&quot;, &quot;qweqweqweqw&quot;, &quot;zxczxczxczc&quot;);
        alpha.setDuration(3000);
        alpha.setRepeatCount(-1);
        alpha.start();


    //è‡ªå®šä¹‰åŒ…è£…ç±»
     private class Test{
        private Button mView;

        public Test(Button view) {
            mView = view;
        }
        public String getText(){
            return mView.getText().toString();
        }
        public void setText(String s){
            mView.setText(s);
        }
    }


    //è‡ªå®šä¹‰ä¼°å€¼å™¨
    private class Bbb implements TypeEvaluator {

        @Override
        public Object evaluate(float fraction, Object startValue, Object endValue) {
            return startValue;
        }
    }
</code></pre><h3 id="ç»„åˆåŠ¨ç”»-1"><a href="#ç»„åˆåŠ¨ç”»-1" class="headerlink" title="ç»„åˆåŠ¨ç”»"></a>ç»„åˆåŠ¨ç”»</h3><pre><code>AnimatorSet.play(Animator anim)   ï¼šæ’­æ”¾åŠ¨ç”»
AnimatorSet.after(long delay)   ï¼šåŠ¨ç”»å»¶è¿Ÿxæ¯«ç§’åæ‰§è¡Œ
AnimatorSet.with(Animator anim)   ï¼šç°æœ‰åŠ¨ç”»å’Œä¼ å…¥çš„åŠ¨ç”»åŒæ—¶æ‰§è¡Œ
AnimatorSet.after(Animator anim)   ï¼šç°æœ‰åŠ¨ç”»æ’å…¥åˆ°ä¼ å…¥çš„åŠ¨ç”»ä¹‹åæ‰§è¡Œ
AnimatorSet.before(Animator anim) ï¼š  ç°æœ‰åŠ¨ç”»æ’å…¥åˆ°ä¼ å…¥çš„åŠ¨ç”»ä¹‹å‰æ‰§è¡Œ
</code></pre><h4 id="ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š"><a href="#ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š" class="headerlink" title="ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š"></a>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</h4><pre><code>// æ­¥éª¤1ï¼šè®¾ç½®éœ€è¦ç»„åˆçš„åŠ¨ç”»æ•ˆæœ
ObjectAnimator translation = ObjectAnimator.ofFloat(mButton, &quot;translationX&quot;, curTranslationX, 300,curTranslationX);  

ObjectAnimator rotate = ObjectAnimator.ofFloat(mButton, &quot;rotation&quot;, 0f, 360f);  

ObjectAnimator alpha = ObjectAnimator.ofFloat(mButton, &quot;alpha&quot;, 1f, 0f, 1f);  

AnimatorSet animSet = new AnimatorSet();  

animSet.play(translation).with(rotate).before(alpha);  
animSet.setDuration(5000);  
animSet.start();</code></pre><h3 id="å±æ€§åŠ¨ç”»ç®€å†™æ–¹å¼ï¼š"><a href="#å±æ€§åŠ¨ç”»ç®€å†™æ–¹å¼ï¼š" class="headerlink" title="å±æ€§åŠ¨ç”»ç®€å†™æ–¹å¼ï¼š"></a>å±æ€§åŠ¨ç”»ç®€å†™æ–¹å¼ï¼š</h3><pre><code>        mButton = (Button) findViewById(R.id.Button);
        mButton.animate().alpha(0f);
        mButton.animate().alpha(0f).setDuration(5000).setInterpolator(new BounceInterpolator());
        mButton.animate().alpha(0f).x(500).y(500);</code></pre><h1 id="æ’å€¼å™¨å’Œä¼°å€¼å™¨"><a href="#æ’å€¼å™¨å’Œä¼°å€¼å™¨" class="headerlink" title="æ’å€¼å™¨å’Œä¼°å€¼å™¨"></a>æ’å€¼å™¨å’Œä¼°å€¼å™¨</h1><ul>
<li>è®¾ç½®å€¼å˜åŒ–çš„æ¨¡å¼è¶‹åŠ¿ä½¿ç”¨æ’å€¼å™¨ï¼Œè‡ªå®šä¹‰æ’å€¼å™¨éœ€è¦å®ç°interpolatoræ¥å£</li>
<li>è®¾ç½®å€¼å˜åŒ–çš„å…·ä½“æ•°å€¼ä½¿ç”¨ä¼°å€¼å™¨ï¼Œè‡ªå®šä¹‰ä¼°å€¼å™¨å®ç°TypeEvaluatoræ¥å£</li>
</ul>
<p>ç³»ç»Ÿé»˜è®¤è‡ªå¸¦æ’å€¼å™¨æœ‰ï¼š<br>|javaç±»|ä½œç”¨|<br>|â€“|â€“|<br>|AccelerateInterpolator|åŠ é€Ÿï¼Œå¼€å§‹æ—¶æ…¢ä¸­é—´åŠ é€Ÿï¼Œç³»ç»Ÿé»˜è®¤|<br>|DecelerateInterpolator|å‡é€Ÿï¼Œå¼€å§‹æ—¶å¿«ç„¶åå‡é€Ÿ|<br>|AccelerateDecelerateInterolator|å…ˆåŠ é€Ÿåå‡é€Ÿï¼Œå¼€å§‹ç»“æŸæ—¶æ…¢ï¼Œä¸­é—´åŠ é€Ÿ|<br>|AnticipateInterpolator|åå‘ï¼Œå…ˆå‘ç›¸åæ–¹å‘æ”¹å˜ä¸€æ®µå†åŠ é€Ÿæ’­æ”¾|<br>|AnticipateOvershootInterpolator|åå‘åŠ è¶…è¶Šï¼Œå…ˆå‘ç›¸åæ–¹å‘æ”¹å˜ï¼Œå†åŠ é€Ÿæ’­æ”¾ï¼Œä¼šè¶…å‡ºç›®çš„å€¼ç„¶åç¼“æ…¢ç§»åŠ¨è‡³ç›®çš„å€¼|<br>|BounceInterpolator|è·³è·ƒï¼Œå¿«åˆ°ç›®çš„å€¼æ—¶å€¼ä¼šè·³è·ƒï¼Œå¦‚ç›®çš„å€¼100ï¼Œåé¢çš„å€¼å¯èƒ½ä¾æ¬¡ä¸º85ï¼Œ77ï¼Œ70ï¼Œ80ï¼Œ90ï¼Œ100|<br>|CycleIinterpolator|å¾ªç¯ï¼ŒåŠ¨ç”»å¾ªç¯ä¸€å®šæ¬¡æ•°ï¼Œå€¼çš„æ”¹å˜ä¸ºä¸€æ­£å¼¦å‡½æ•°ï¼šMath.sin(2* mCycles* Math.PI* input)|<br>|LinearInterpolator|çº¿æ€§ï¼Œçº¿æ€§å‡åŒ€æ”¹å˜|<br>|OvershootInterpolator|è¶…è¶Šï¼Œæœ€åè¶…å‡ºç›®çš„å€¼ç„¶åç¼“æ…¢æ”¹å˜åˆ°ç›®çš„å€¼|</p>
<h3 id="è‡ªå®šä¹‰æ’å€¼å™¨"><a href="#è‡ªå®šä¹‰æ’å€¼å™¨" class="headerlink" title="è‡ªå®šä¹‰æ’å€¼å™¨"></a>è‡ªå®šä¹‰æ’å€¼å™¨</h3><blockquote>
<p><strong>è¡¥é—´åŠ¨ç”» å®ç° Interpolatoræ¥å£ï¼›å±æ€§åŠ¨ç”»å®ç°TimeInterpolatoræ¥å£</strong></p>
</blockquote>
<pre><code>     private class Ccc implements TimeInterpolator {
        /**
         * @param input èŒƒå›´å˜åŒ–1-0ï¼Œ
         * @return
         */
        @Override
        public float getInterpolation(float input) {
            float aa;
            if (input &lt;= 0.5) {
                aa = (float) ((Math.sin(Math.PI * input)) / 2);
            } else {
                aa = (float) (2 - Math.sin(Math.PI * input) / 2);
            }
            return aa;
        }
    }</code></pre><h3 id="è‡ªå®šä¹‰ä¼°å€¼å™¨"><a href="#è‡ªå®šä¹‰ä¼°å€¼å™¨" class="headerlink" title="è‡ªå®šä¹‰ä¼°å€¼å™¨"></a>è‡ªå®šä¹‰ä¼°å€¼å™¨</h3><pre><code>    private class Bbb implements TypeEvaluator {

        @Override
        public Object evaluate(float fraction, Object startValue, Object endValue) {

            return startValue;
        }
    }</code></pre>]]></content>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰viewGroupä½ç½®æ‘†æ”¾onLayoutä»¥åŠè®¾ç½®marginæ¢³ç†</title>
    <url>/2019/06/26/%E8%87%AA%E5%AE%9A%E4%B9%89viewGroup%E4%BD%8D%E7%BD%AE%E6%91%86%E6%94%BEonLayout%E4%BB%A5%E5%8F%8A%E8%AE%BE%E7%BD%AEmargin%E6%A2%B3%E7%90%86/</url>
    <content><![CDATA[<blockquote>
<p>è‡ªå®šä¹‰viewGroupå¿…é¡»è¦å®ç°çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ç°æ‰€æœ‰å­æ§ä»¶å¸ƒå±€çš„å‡½æ•°ï¼Œè‡ªé¡¶å‘ä¸‹é€šè¿‡è®¡ç®—å¥½çš„å°ºå¯¸æ”¾ç½®æ¯ä¸€ä¸ªå­View</p>
</blockquote>
<p><strong>é¦–å…ˆæœ‰å…³getWidth()å’ŒgetMeasuredWidth()çš„åŒºåˆ«ä¸ºï¼šonlayout()æ–¹æ³•å†…ä¼šç”¨åˆ°</strong></p>
<ul>
<li>getMeasuredWidth()æ˜¯åœ¨measureè¿‡ç¨‹åå°±å¯ä»¥è·å–åˆ°çš„ï¼ŒgetWidth()æ˜¯åœ¨layout()è¿‡ç¨‹ç»“æŸåæ‰èƒ½è·å¾—åˆ°çš„</li>
<li>getMeasuredWidth()ä¸­çš„å€¼æ˜¯å­viewåœ¨ä¾§æ¥æœ€åä½¿ç”¨setMeasuredDimension(width, height)æ¥è®¾ç½®çš„ï¼ŒgetWidth()çš„å€¼æ˜¯åœ¨onlayout()æ–¹æ³•ä¹‹åçˆ¶viewåŠ¨æ€è®¾ç½®çš„</li>
<li>setMeasuredDimension(width, height)åªæ˜¯å…ˆç¡®å®šäº†ç»™çˆ¶viewçš„ä¸€ä¸ªå»ºè®®å®½é«˜ï¼Œå­viewæœ€ç»ˆçš„å®½é«˜è¿˜æ˜¯é€šè¿‡childAt.layout(0,top,measuredWidth,measuredHeight+top)æ¥è®¾ç½®çš„</li>
<li>getMeasureWidth()åªæœ‰åœ¨measure()è¿‡ç¨‹ä¸­æ‰å¯ä»¥è·å¾—ï¼ŒgetWidth()åªæœ‰åœ¨layout()ä¹‹åæ‰å¯ä»¥è·å¾—</li>
</ul>
<a id="more"></a>

<h3 id="å¦‚ä¸‹æ‰€ç¤ºï¼š"><a href="#å¦‚ä¸‹æ‰€ç¤ºï¼š" class="headerlink" title="å¦‚ä¸‹æ‰€ç¤ºï¼š"></a>å¦‚ä¸‹æ‰€ç¤ºï¼š</h3><pre><code>@Override
    protected void onLayout(boolean changed, int l, int t, int r, int b) {

        int lineWidth = 0;
        int lineHeight = 0;
        int top = 0;
        int left = 0;

        int count = getChildCount();

        for (int i = 0; i &lt; count; i++) {

            View childAt = getChildAt(i);

            MarginLayoutParams layoutParams = (MarginLayoutParams) childAt.getLayoutParams();

            //å¾—åˆ°å­viewçš„æµ‹é‡å»ºè®®é«˜åº¦
            int measuredHeight = childAt.getMeasuredHeight() + layoutParams.bottomMargin + layoutParams.topMargin;
            int measuredWidth = childAt.getMeasuredWidth() + layoutParams.leftMargin + layoutParams.rightMargin;

            //æ¢è¡Œ
            if (measuredWidth + lineWidth &gt; getMeasuredWidth()) {

                top += lineHeight;
                left = 0;
                lineHeight = measuredHeight;
                lineWidth = measuredWidth;
            } else {

                lineHeight = Math.max(measuredHeight, lineHeight);
                lineWidth += measuredWidth;
            }

            //çš„åˆ°å­—viewçš„å½“å‰ä½ç½®
            int ll = left + layoutParams.leftMargin;
            int tt = top + layoutParams.topMargin;
            int rr = ll + childAt.getMeasuredWidth();
            int bb = tt + childAt.getMeasuredHeight();

            //è®¾ç½®å­viewçš„ç¡®å®šä½ç½®
            childAt.layout(ll, tt, rr, bb);

            left += measuredWidth;
        }</code></pre><h3 id="è®¾ç½®marginæ—¶éœ€è¦é‡è½½çš„æ–¹æ³•æœ‰ï¼š"><a href="#è®¾ç½®marginæ—¶éœ€è¦é‡è½½çš„æ–¹æ³•æœ‰ï¼š" class="headerlink" title="è®¾ç½®marginæ—¶éœ€è¦é‡è½½çš„æ–¹æ³•æœ‰ï¼š"></a>è®¾ç½®marginæ—¶éœ€è¦é‡è½½çš„æ–¹æ³•æœ‰ï¼š</h3><pre><code> @Override
    protected LayoutParams generateLayoutParams(LayoutParams p) {
        return new MarginLayoutParams(p);
    }

    @Override
    public LayoutParams generateLayoutParams(AttributeSet attrs) {
        return new MarginLayoutParams(getContext(),attrs);
    }

    @Override
    protected LayoutParams generateDefaultLayoutParams() {
        return new MarginLayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.MATCH_PARENT);
    }</code></pre><h3 id="è®¾ç½®å­viewçš„ç‚¹å‡»äº‹ä»¶"><a href="#è®¾ç½®å­viewçš„ç‚¹å‡»äº‹ä»¶" class="headerlink" title="è®¾ç½®å­viewçš„ç‚¹å‡»äº‹ä»¶"></a>è®¾ç½®å­viewçš„ç‚¹å‡»äº‹ä»¶</h3><pre><code>    /**
     * è®¾ç½®ç‚¹å‡»äº‹ä»¶
     *
     * @param listener
     */
    public void setOnItemClickListener(final OnItemClickListener listener) {
        for (int i = 0; i &lt; getChildCount(); i++) {
            final int index = i;
            View childAt = getChildAt(i);
            childAt.setOnClickListener(new OnClickListener() {
                @Override
                public void onClick(View v) {
                    listener.onItemClick(index);
                }
            });
        }
    }

    public interface OnItemClickListener {
        void onItemClick(int position);
    }</code></pre>]]></content>
  </entry>
  <entry>
    <title>Viewçš„ç›¸å…³åˆ·æ–°é‡ç»˜æ–¹æ³•</title>
    <url>/2019/06/25/View%E7%9A%84%E7%9B%B8%E5%85%B3%E5%88%B7%E6%96%B0%E9%87%8D%E7%BB%98%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h3 id="1-mButton-invalidate"><a href="#1-mButton-invalidate" class="headerlink" title="1. mButton.invalidate();"></a>1. mButton.invalidate();</h3><p>Viewæœ¬èº«è°ƒç”¨è¿«ä½¿viewé‡ç”»ï¼Œå¯ä»¥åœ¨ä¸»çº¿ç¨‹è°ƒç”¨ï¼Œä¸èƒ½å†å­çº¿ç¨‹è°ƒç”¨ï¼Œå¦‚æœéœ€è¦ï¼Œè¦é…åˆhandlerä½¿ç”¨</p>
<h3 id="2-mButton-postInvalidate"><a href="#2-mButton-postInvalidate" class="headerlink" title="2. mButton.postInvalidate();"></a>2. mButton.postInvalidate();</h3><p>å¯ä»¥åœ¨å­çº¿ç¨‹ä¸­ç›´æ¥è°ƒç”¨,åº•å±‚ä¹Ÿæ˜¯é€šè¿‡handleræ¥å¤„ç†çš„</p>
<h3 id="3-postInvalidateDelayed-long-aaa"><a href="#3-postInvalidateDelayed-long-aaa" class="headerlink" title="3. postInvalidateDelayed(long aaa)"></a>3. postInvalidateDelayed(long aaa)</h3><p>è®¾ç½®å»¶è¿Ÿæ—¶é—´åˆ·æ–°</p>
<h3 id="4-mButton-requestLayout"><a href="#4-mButton-requestLayout" class="headerlink" title="4. mButton.requestLayout();"></a>4. mButton.requestLayout();</h3><p>å½“viewç¡®å®šè‡ªèº«å·²ç»ä¸å†é€‚åˆç°æœ‰çš„åŒºåŸŸæ—¶ï¼Œè¯¥viewæœ¬èº«è°ƒç”¨è¿™ä¸ªæ–¹æ³•è¦æ±‚parent viewé‡æ–°è°ƒç”¨ä»–çš„onMeasure onLayoutæ¥å¯¹é‡æ–°è®¾ç½®è‡ªå·±ä½ç½®ã€‚åªè°ƒç”¨measureï¼ˆï¼‰å’Œlayoutï¼ˆï¼‰ï¼Œä¸è°ƒç”¨onDrawï¼ˆï¼‰</p>
<h3 id="5-mButton-requestFocus"><a href="#5-mButton-requestFocus" class="headerlink" title="5. mButton.requestFocus();"></a>5. mButton.requestFocus();</h3><p>å±€éƒ¨åˆ·æ–°ï¼Œè·å–ç„¦ç‚¹çš„éƒ¨åˆ†</p>
]]></content>
  </entry>
  <entry>
    <title>å…³äºLayoutParamsçš„ä½¿ç”¨</title>
    <url>/2019/06/24/%E5%85%B3%E4%BA%8ELayoutParams%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h3 id="ä¸»è¦ç”¨æ¥åŠ¨æ€æ§åˆ¶å­viewçš„æ‘†æ”¾ä½ç½®"><a href="#ä¸»è¦ç”¨æ¥åŠ¨æ€æ§åˆ¶å­viewçš„æ‘†æ”¾ä½ç½®" class="headerlink" title="ä¸»è¦ç”¨æ¥åŠ¨æ€æ§åˆ¶å­viewçš„æ‘†æ”¾ä½ç½®"></a>ä¸»è¦ç”¨æ¥åŠ¨æ€æ§åˆ¶å­viewçš„æ‘†æ”¾ä½ç½®</h3><pre><code>        TextView textView = new TextView(context);
        ViewGroup.LayoutParams layoutParams = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, 200);
        layoutParams.width=100;
        layoutParams.height=200;
        textView.setLayoutParams(layoutParams);</code></pre><a id="more"></a>


<p>æ„é€ å‡½æ•°å¯æ˜¯è®¾ç½®ä¸‰ç§å‚æ•°</p>
<ul>
<li>å›ºå®šæ•°å€¼ï¼Œå•ä½px</li>
<li>ViewGroup.LayoutParams.MATCH_PARENT ï¼Œæ„æ€ä¸ºå®½åº¦å’Œçˆ¶viewç›¸åŒ</li>
<li>ViewGroup.LayoutParams.WRAP_CONTENTï¼Œæ„æ€ä¸ºè‡ªé€‚åº”</li>
</ul>
<p>æ³¨æ„æ¯ä¸ªviewæ‰€èƒ½è·å¾—çš„layoutparamséƒ½æ˜¯ä»–æ‰€å¯¹åº”çš„çˆ¶view</p>
<h4 id="æ¯”å¦‚textviewå¤–å±‚åŒ…è£¹ç€çš„æ˜¯ä¸€ä¸ªlinearlayoutï¼Œé‚£ä¹ˆ"><a href="#æ¯”å¦‚textviewå¤–å±‚åŒ…è£¹ç€çš„æ˜¯ä¸€ä¸ªlinearlayoutï¼Œé‚£ä¹ˆ" class="headerlink" title="æ¯”å¦‚textviewå¤–å±‚åŒ…è£¹ç€çš„æ˜¯ä¸€ä¸ªlinearlayoutï¼Œé‚£ä¹ˆ"></a>æ¯”å¦‚textviewå¤–å±‚åŒ…è£¹ç€çš„æ˜¯ä¸€ä¸ªlinearlayoutï¼Œé‚£ä¹ˆ</h4><pre><code>        LinearLayout.LayoutParams layoutParams1 = (LinearLayout.LayoutParams) textView.getLayoutParams();

        //è®¾ç½®æƒé‡æ¯”ä¾‹
        layoutParams1.weight=1;

        //è®¾ç½®ä¸Šéƒ¨é—´è·
        layoutParams1.topMargin=5;

        //è®¾ç½®å³è¾¹é—´è·
        layoutParams1.setMarginEnd(20);

        //è®¾ç½®å››å‘¨é—´è·
        layoutParams1.setMargins(3,3,3,3);</code></pre><h4 id="å¦‚æœæ˜¯RelativeLayoutï¼š"><a href="#å¦‚æœæ˜¯RelativeLayoutï¼š" class="headerlink" title="å¦‚æœæ˜¯RelativeLayoutï¼š"></a>å¦‚æœæ˜¯RelativeLayoutï¼š</h4><pre><code>        RelativeLayout.LayoutParams layoutParams1 = (RelativeLayout.LayoutParams) textView.getLayoutParams();

        //è®¾ç½®ä½ç½®å±…ä¸­
        layoutParams1.addRule(RelativeLayout.CENTER_IN_PARENT);

        //è®¾ç½®åœ¨æŸä¸€ä¸ªidæ‰€å¯¹åº”çš„viewçš„å³è¾¹
        layoutParams1.addRule(RelativeLayout.RIGHT_OF, R.id.all);

        layoutParams1.topMargin=5;
        layoutParams1.setMarginEnd(20);
        layoutParams1.setMargins(3,3,3,3);

        layoutParams1.removeRule(RelativeLayout.CENTER_IN_PARENT);
</code></pre><h4 id="å¦‚æœæ˜¯FrameLayout"><a href="#å¦‚æœæ˜¯FrameLayout" class="headerlink" title="å¦‚æœæ˜¯FrameLayout:"></a>å¦‚æœæ˜¯FrameLayout:</h4><pre><code>        FrameLayout.LayoutParams layoutParams1 = (FrameLayout.LayoutParams) textView.getLayoutParams();

        //è®¾ç½®ä½ç½®å±…ä¸­
        layoutParams1.gravity = Gravity.CENTER;

        layoutParams1.topMargin = 5;
        layoutParams1.setMarginEnd(20);
        layoutParams1.setMargins(3, 3, 3, 3);</code></pre>]]></content>
  </entry>
  <entry>
    <title>åˆ›å»ºbitmapçš„å‡ ç§æ–¹æ³•</title>
    <url>/2019/06/23/%E5%88%9B%E5%BB%BAbitmap%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<ul>
<li>åˆ›å»ºä¸€ä¸ªä½å›¾çš„æ–¹æ³•,åˆ‡è®°é€šè¿‡å·¥å‚å¾—åˆ°çš„ä½å›¾ä¸èƒ½é€šè¿‡çŸ©é˜µè¿›è¡Œä¸€ç³»åˆ—è½¬æ¢ï¼Œå¿…é¡»é‡æ–°åˆ›å»ºä¸€ä¸ª</li>
<li>é€šè¿‡æµè·å¾—bitmapæ˜¯ä¼šæ›´çœå†…å­˜  </li>
</ul>
<a id="more"></a>

<pre><code> private Bitmap bitmap1;

    /**
     * åˆ›å»ºä¸€ä¸ªä½å›¾çš„æ–¹æ³•,åˆ‡è®°é€šè¿‡å·¥å‚å¾—åˆ°çš„ä½å›¾ä¸èƒ½é€šè¿‡çŸ©é˜µè¿›è¡Œä¸€ç³»åˆ—è½¬æ¢ï¼Œå¿…é¡»é‡æ–°åˆ›å»ºä¸€ä¸ª
     * Bitmap.Configæšä¸¾ç±»ï¼Œ
     * Bitmap.Config getConfig
     * setConfig(Bitmap.Config config)
     * &lt;p&gt;
     * ALPHA_8
     * &lt;p&gt;
     * RGB_565
     * &lt;p&gt;
     * ARGB_8888
     * &lt;p&gt;
     * RGBA_F16
     * &lt;p&gt;
     * HARDWARE
     *
     * @param context
     */
    public void createBitmap(Context context) {

        BitmapFactory.Options options = new BitmapFactory.Options();
        options.inPreferredConfig = Bitmap.Config.ARGB_8888;
        options.inBitmap = bitmap1;
        bitmap1 = BitmapFactory.decodeResource(context.getResources(), R.mipmap.ic_launcher, options);

        Bitmap.Config config = bitmap1.getConfig();
        bitmap1.setConfig(Bitmap.Config.ARGB_8888);


        //ç›´æ¥åˆ›å»ºä¸€ä¸ªä½å›¾
        Bitmap bitmap2 = Bitmap.createBitmap(bitmap1);

        //åˆ›å»ºä¸€ä¸ªç©ºä½å›¾ï¼Œä½å›¾ä¿¡æ¯å¯ä»¥é€šè¿‡bufferæµï¼Œæˆ–è€…canvaså¤åˆ¶å¾—åˆ°
        Bitmap bitmap = Bitmap.createBitmap(100, 200, Bitmap.Config.ARGB_8888);

        //åœ¨åŸå›¾çš„åŸºç¡€ä¸Šè¿›è¡Œè£å‰ªï¼Œèµ·ç‚¹ï¼Œä»¥åŠæ–°çš„ä½å›¾çš„å®½é«˜
        Bitmap bitmap3 = Bitmap.createBitmap(bitmap1, 20, 30, 50, 50);

        //å…ˆå°†åŸå›¾é€šè¿‡çŸ©é˜µè¿›è¡Œå˜æ¢ï¼Œä¹‹ååœ¨è¿›è¡Œè£å‰ª,filteråªæœ‰åœ¨matrixåŒ…å«ä¿¡æ¯çš„æ—¶å€™æ‰ä¼šç”¨åˆ°
        Matrix matrix = new Matrix();
        matrix.setScale(2, 2);
        matrix.postRotate(180);
        Bitmap.createBitmap(bitmap1, 0, 0, 30, 30, matrix, true);


        //å°†ä½å›¾ç¼©æ”¾åˆ°è¿™ä¸ªå°ºå¯¸ï¼Œæºç é€šè¿‡çŸ©é˜µå®ç°
        Bitmap.createScaledBitmap(bitmap1, 102, 300, true);

        //æ”¹å˜åŸä½å›¾çš„å®½é«˜ä»¥åŠè‰²å½©ï¼Œç”Ÿæˆæ–°ä½å›¾ï¼Œä¸ä¼šäº§ç”Ÿæ–°ä½å›¾
        bitmap1.reconfigure(100, 200, Bitmap.Config.RGB_565);


        //å°†ç½‘ç»œå›¾è½¬åŒ–ä¸ºbitmap
        URL conurl = null;
        try {
            conurl = new URL(&quot;&quot;);
            HttpURLConnection con = (HttpURLConnection) conurl.openConnection();
            bitmap1 = BitmapFactory.decodeStream(con.getInputStream());
        } catch (Exception e) {
            e.printStackTrace();
        }


        //é€šè¿‡æµè·å¾—å›¾ç‰‡ä»¥æ–‡ä»¶æµçš„æ–¹å¼
        try {
            FileInputStream fis = new FileInputStream(&quot;/sdcard/test.png&quot;);
            Bitmap bitmap4 = BitmapFactory.decodeStream(fis);
        } catch (Exception e) {
        }


        BitmapDrawable bitmapDrawable = (BitmapDrawable) ContextCompat.getDrawable(context, R.mipmap.ic_launcher);
        Bitmap bitmap6 = bitmapDrawable.getBitmap();

        //ä»¥ResourceStreamçš„æ–¹å¼ï¼Œä¸ç”¨Ræ–‡ä»¶
        Bitmap bitmap7 = BitmapFactory.decodeStream(getClass().getResourceAsStream(&quot;/res/drawable/test.png&quot;));

        //ä»¥æ–‡ä»¶æµ+Ræ–‡ä»¶çš„æ–¹å¼
        @SuppressLint(&quot;ResourceType&quot;) InputStream in = context.getResources().openRawResource(R.mipmap.ic_launcher);
        Bitmap bitmap8 = BitmapFactory.decodeStream(in);

        try {
            InputStream issn = context.getResources().getAssets().open(&quot;ic&quot;);
            Bitmap imageBitmap4 = BitmapFactory.decodeStream(in);
        } catch (IOException e) {
            e.printStackTrace();
        }

    }


    public void bitmapOtherApi() {

        //å¾—åˆ°å­˜å‚¨è¯¥ä½å›¾æ‰€å ç”¨å†…å­˜çš„å¤§å°
        int allocationByteCount = bitmap1.getAllocationByteCount();

        //è¿”å›å­˜å‚¨è¯¥ä½å›¾çš„åƒç´ å­—èŠ‚æ•°
        int byteCount = bitmap1.getByteCount();

        //åˆ¤æ–­æ˜¯å¦å›æ”¶
        boolean recycled = bitmap1.isRecycled();
        bitmap1.recycle();

        //æ¯”è¾ƒä¸¤ä¸ªä½å›¾æ˜¯å¦ç›¸åŒ
        boolean b = bitmap1.sameAs(bitmap1);

    }

    /**
     * å¤åˆ¶å›¾ç‰‡çš„æ–¹æ³•
     */
    private void copyBitmap() {

        //å¤åˆ¶å›¾ç‰‡ï¼ŒisMutableä»£è¡¨æ˜¯å¦å¯ä»¥ä¿®æ”¹æ–°ä½å›¾åƒç´ 
        Bitmap copy = bitmap1.copy(Bitmap.Config.RGB_565, false);


        //é€šè¿‡bufferæµå¤åˆ¶
        //è®¾ç½®ç¼“å†²å¤§å°ï¼Œä¸€èˆ¬è®¾ç½®ä½å›¾çš„å¤§å°
        Buffer buffer = ByteBuffer.allocate(bitmap1.getByteCount());
        //å°†å›¾ç‰‡ä¿¡æ¯å¤åˆ¶åˆ°ç¼“å†²æµä¸­
        bitmap1.copyPixelsToBuffer(buffer);
        buffer.position(0);
        Bitmap bitmap = Bitmap.createBitmap(bitmap1.getWidth(), bitmap1.getHeight(), Bitmap.Config.ARGB_8888);
        //é€šè¿‡åˆ˜å¾—åˆ°å›¾ç‰‡ä¿¡æ¯
        bitmap.copyPixelsFromBuffer(buffer);


        //åˆ›å»ºæ–°çš„ä½å›¾ï¼Œå…è®¸æ–°çš„ä½å›¾å®½é«˜å¤§äºä¹‹å‰çš„ä½å›¾
        Canvas canvas = new Canvas(bitmap);
        canvas.drawBitmap(bitmap1, null, new Rect(0, 0, bitmap.getWidth(), bitmap.getHeight()), null);

    }

    /**
     * è®¾ç½®å‹ç¼©å›¾ç‰‡ï¼ŒCompressFormatè®¾ç½®ä¸ºBitmap.CompressFormat.PNG,æ— æ•ˆ
     */
    public void compressBitmap() {

        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        bitmap1.compress(Bitmap.CompressFormat.JPEG, 100, byteArrayOutputStream);

    }</code></pre>]]></content>
  </entry>
  <entry>
    <title>JSç¬”è®°-007-JS Window-cookie</title>
    <url>/2019/06/23/JS%E7%AC%94%E8%AE%B0-007-JS%20Window-cookie/</url>
    <content><![CDATA[<p>Window å¯¹è±¡</p>
<ul>
<li>æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ window å¯¹è±¡ã€‚å®ƒè¡¨ç¤ºæµè§ˆå™¨çª—å£ã€‚</li>
<li>æ‰€æœ‰ JavaScript å…¨å±€å¯¹è±¡ã€å‡½æ•°ä»¥åŠå˜é‡å‡è‡ªåŠ¨æˆä¸º window å¯¹è±¡çš„æˆå‘˜ã€‚</li>
<li>å…¨å±€å˜é‡æ˜¯ window å¯¹è±¡çš„å±æ€§ã€‚</li>
<li>å…¨å±€å‡½æ•°æ˜¯ window å¯¹è±¡çš„æ–¹æ³•ã€‚</li>
<li>ç”šè‡³ HTML DOM çš„ document ä¹Ÿæ˜¯ window å¯¹è±¡çš„å±æ€§ä¹‹ä¸€<pre><code>window.document.getElementById(&quot;header&quot;);</code></pre>ç­‰åŒäº<pre><code>document.getElementById(&quot;header&quot;);</code></pre><a id="more"></a>


</li>
</ul>
<h3 id="JS-cookie"><a href="#JS-cookie" class="headerlink" title="JS_cookie"></a>JS_cookie</h3><ul>
<li>cookie æ˜¯å­˜å‚¨äºè®¿é—®è€…çš„è®¡ç®—æœºä¸­çš„å˜é‡ã€‚æ¯å½“åŒä¸€å°è®¡ç®—æœºé€šè¿‡æµè§ˆå™¨è¯·æ±‚æŸä¸ªé¡µé¢æ—¶ï¼Œå°±ä¼šå‘é€è¿™ä¸ª cookieã€‚ä½ å¯ä»¥ä½¿ç”¨ JavaScript æ¥åˆ›å»ºå’Œå–å› cookie çš„å€¼ã€‚</li>
</ul>
<h5 id="æœ‰å…³cookieçš„ä¾‹å­ï¼š"><a href="#æœ‰å…³cookieçš„ä¾‹å­ï¼š" class="headerlink" title="æœ‰å…³cookieçš„ä¾‹å­ï¼š"></a>æœ‰å…³cookieçš„ä¾‹å­ï¼š</h5><h6 id="åå­—-cookie"><a href="#åå­—-cookie" class="headerlink" title="åå­— cookie"></a>åå­— cookie</h6><p>å½“è®¿é—®è€…é¦–æ¬¡è®¿é—®é¡µé¢æ—¶ï¼Œä»–æˆ–å¥¹ä¹Ÿè®¸ä¼šå¡«å†™ä»–/å¥¹ä»¬çš„åå­—ã€‚åå­—ä¼šå­˜å‚¨äº cookie ä¸­ã€‚å½“è®¿é—®è€…å†æ¬¡è®¿é—®ç½‘ç«™æ—¶ï¼Œä»–ä»¬ä¼šæ”¶åˆ°ç±»ä¼¼ â€œWelcome John Doe!â€ çš„æ¬¢è¿è¯ã€‚è€Œåå­—åˆ™æ˜¯ä» cookie ä¸­å–å›çš„ã€‚</p>
<h6 id="å¯†ç -cookie"><a href="#å¯†ç -cookie" class="headerlink" title="å¯†ç  cookie"></a>å¯†ç  cookie</h6><p>å½“è®¿é—®è€…é¦–æ¬¡è®¿é—®é¡µé¢æ—¶ï¼Œä»–æˆ–å¥¹ä¹Ÿè®¸ä¼šå¡«å†™ä»–/å¥¹ä»¬çš„å¯†ç ã€‚å¯†ç ä¹Ÿå¯è¢«å­˜å‚¨äº cookie ä¸­ã€‚å½“ä»–ä»¬å†æ¬¡è®¿é—®ç½‘ç«™æ—¶ï¼Œå¯†ç å°±ä¼šä» cookie ä¸­å–å›ã€‚</p>
<h6 id="æ—¥æœŸ-cookie"><a href="#æ—¥æœŸ-cookie" class="headerlink" title="æ—¥æœŸ cookie"></a>æ—¥æœŸ cookie</h6><p>å½“è®¿é—®è€…é¦–æ¬¡è®¿é—®ä½ çš„ç½‘ç«™æ—¶ï¼Œå½“å‰çš„æ—¥æœŸå¯å­˜å‚¨äº cookie ä¸­ã€‚å½“ä»–ä»¬å†æ¬¡è®¿é—®ç½‘ç«™æ—¶ï¼Œä»–ä»¬ä¼šæ”¶åˆ°ç±»ä¼¼è¿™æ ·çš„ä¸€æ¡æ¶ˆæ¯ï¼šâ€Your last visit was on Tuesday August 11, 2005!â€ã€‚æ—¥æœŸä¹Ÿæ˜¯ä» cookie ä¸­å–å›çš„ã€‚</p>
<h5 id="åˆ›å»ºå’Œå­˜å‚¨-cookie"><a href="#åˆ›å»ºå’Œå­˜å‚¨-cookie" class="headerlink" title="åˆ›å»ºå’Œå­˜å‚¨ cookie"></a>åˆ›å»ºå’Œå­˜å‚¨ cookie</h5><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªå­˜å‚¨è®¿é—®è€…åå­—çš„ cookieã€‚å½“è®¿é—®è€…é¦–æ¬¡è®¿é—®ç½‘ç«™æ—¶ï¼Œä»–ä»¬ä¼šè¢«è¦æ±‚å¡«å†™å§“åã€‚åå­—ä¼šå­˜å‚¨äº cookie ä¸­ã€‚å½“è®¿é—®è€…å†æ¬¡è®¿é—®ç½‘ç«™æ—¶ï¼Œä»–ä»¬å°±ä¼šæ”¶åˆ°æ¬¢è¿è¯ã€‚</p>
<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
function getCookie(c_name)
{
if (document.cookie.length&gt;0)
{ 
c_start=document.cookie.indexOf(c_name + &quot;=&quot;)
if (c_start!=-1)
{ 
c_start=c_start + c_name.length+1 
c_end=document.cookie.indexOf(&quot;;&quot;,c_start)
if (c_end==-1) c_end=document.cookie.length
return unescape(document.cookie.substring(c_start,c_end))
} 
}
return &quot;&quot;
}

function setCookie(c_name,value,expiredays)
{
var exdate=new Date()
exdate.setDate(exdate.getDate()+expiredays)
document.cookie=c_name+ &quot;=&quot; +escape(value)+
((expiredays==null) ? &quot;&quot; : &quot;; expires=&quot;+exdate.toGMTString())
}

function checkCookie()
{
username=getCookie(&#39;username&#39;)
if (username!=null &amp;&amp; username!=&quot;&quot;)
  {alert(&#39;Welcome again &#39;+username+&#39;!&#39;)}
else 
  {
  username=prompt(&#39;Please enter your name:&#39;,&quot;&quot;)
  if (username!=null &amp;&amp; username!=&quot;&quot;)
    {
    setCookie(&#39;username&#39;,username,365)
    }
  }
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body onLoad=&quot;checkCookie()&quot;&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>]]></content>
  </entry>
  <entry>
    <title>MVVM--ä¹‹Lifecycleçš„ä½¿ç”¨</title>
    <url>/2019/06/23/MVVM--%E4%B9%8BLifecycle%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>é€šè¿‡lifecycleæ¥æ§åˆ¶ç”Ÿå‘½å‘¨æœŸç›¸å¯¹æ¥è¯´ä¼šå°‘å†™å¾ˆå¤šæ— ç”¨ä»£ç ï¼Œä¾‹å¦‚å¯ä»¥åœ¨viewModelä¸­æ§åˆ¶ä¸€äº›éœ€è¦åœ¨ç”Ÿå‘½å‘¨æœŸä¸­ä½¿ç”¨çš„æ³¨å†Œçš„æ–¹æ³•ç­‰ï¼Œå› ä¸ºæŒ‰ç…§ä¼ ç»Ÿæ–¹æ³•ï¼Œå¦‚æœæƒ³è¦åœ¨viewModelä¸­å®ç°å£°æ˜å‘¨æœŸæ–¹æ³•ç­‰ï¼Œå¿…é¡»åœ¨avtivityæˆ–è€…fragmentä¸­è¿›è¡ŒviewModelç›¸å¯¹åº”çš„æ–¹æ³•è¿›è¡Œå›è°ƒç­‰</p>
<h3 id="ä½¿ç”¨Lifecycleçš„ä¸‰ç§æ–¹å¼"><a href="#ä½¿ç”¨Lifecycleçš„ä¸‰ç§æ–¹å¼" class="headerlink" title="ä½¿ç”¨Lifecycleçš„ä¸‰ç§æ–¹å¼"></a>ä½¿ç”¨Lifecycleçš„ä¸‰ç§æ–¹å¼</h3><h4 id="1-ç›´æ¥å®ç°LifecycleObserveræ¥å£ï¼Œç„¶åæ‰‹åŠ¨è¿›è¡Œå¯¹åº”å‘¨æœŸçš„æ–¹æ³•æ³¨å†Œï¼ˆé€šè¿‡æ³¨è§£ï¼‰"><a href="#1-ç›´æ¥å®ç°LifecycleObserveræ¥å£ï¼Œç„¶åæ‰‹åŠ¨è¿›è¡Œå¯¹åº”å‘¨æœŸçš„æ–¹æ³•æ³¨å†Œï¼ˆé€šè¿‡æ³¨è§£ï¼‰" class="headerlink" title="1. ç›´æ¥å®ç°LifecycleObserveræ¥å£ï¼Œç„¶åæ‰‹åŠ¨è¿›è¡Œå¯¹åº”å‘¨æœŸçš„æ–¹æ³•æ³¨å†Œï¼ˆé€šè¿‡æ³¨è§£ï¼‰"></a>1. ç›´æ¥å®ç°LifecycleObserveræ¥å£ï¼Œç„¶åæ‰‹åŠ¨è¿›è¡Œå¯¹åº”å‘¨æœŸçš„æ–¹æ³•æ³¨å†Œï¼ˆé€šè¿‡æ³¨è§£ï¼‰</h4><pre><code>/**
 * lifeCycleçš„ä½¿ç”¨ï¼Œä¹‹åå¯ä»¥è®©ViewModelä½¿ç”¨è¯¥å‘æ–¹æ³•ï¼Œä»¥ä¾¿ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•
 *
 * lifecycleå¯ä»¥å°†lifecycleOwnerå¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸæ—¶é—´ä¼ é€’ç»™å†…éƒ¨çš„Lifecycleå¯¹è±¡å»å¤„ç†ï¼Œ
 * äºæ˜¯ç”Ÿå‘½å‘¨æœŸçš„æ”¹å˜å°±å¯ä»¥è¢«lifecycleæ‰€æ³¨å†Œçš„è§‚å¯Ÿè€…LifecycleObserverè§‚å¯Ÿåˆ°å¹¶è§¦å‘å…¶å¯¹åº”çš„äº‹ä»¶
 *
 * @author alguojian
 * @date 2019/1/29
 */
class MyLifecycleObserver : LifecycleObserver {

    /**
     * é€šè¿‡lifecycleçš„æ³¨è§£æ³¨å…¥ï¼Œå°†activityçš„ç”Ÿå‘½å‘¨æœŸåŒæ­¥ä¸è¯¥æ–¹æ³•
     */
    @OnLifecycleEvent(Lifecycle.Event.ON_CREATE)
    fun onCreate() {
        println(&quot;lifecycleçš„onCreateæ–¹æ³•&quot;)
    }


    /**
     * å¯ä»¥æ¥å—å‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯LifecycleOwner
     */
    @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)
    fun onPause(owner: LifecycleOwner) {
        println(&quot;lifecycleçš„ON_PAUSEæ–¹æ³•&quot;)
    }


    /**
     * ä½¿ç”¨anyå¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯LifecycleOwnerï¼Œç¬¬äºŒä¸ªæ˜¯Lifecycle.Event)
     */
    @OnLifecycleEvent(Lifecycle.Event.ON_ANY)
    fun onAny(owner: LifecycleOwner, event: Lifecycle.Event) {
        println(&quot;lifecycleçš„ON_ANYæ–¹æ³•&quot;)
    }
}</code></pre><a id="more"></a>

<h4 id="2-å®ç°GenericLifecycleObserveræ¥å£ï¼Œå®ç°å›è°ƒæ–¹æ³•onStateChanged"><a href="#2-å®ç°GenericLifecycleObserveræ¥å£ï¼Œå®ç°å›è°ƒæ–¹æ³•onStateChanged" class="headerlink" title="2.å®ç°GenericLifecycleObserveræ¥å£ï¼Œå®ç°å›è°ƒæ–¹æ³•onStateChanged"></a>2.å®ç°GenericLifecycleObserveræ¥å£ï¼Œå®ç°å›è°ƒæ–¹æ³•onStateChanged</h4><pre><code>/**
 * ä½¿ç”¨lifecycleçš„ç¬¬äºŒç§æ–¹æ³•ä¸º ç›´æ¥ç»§æ‰¿GenericLifecycleObserver
 *
 * @author alguojian
 * @date 2019/1/29
 */
class MyLifecycleObserverTwo : GenericLifecycleObserver {
    override fun onStateChanged(source: LifecycleOwner?, event: Lifecycle.Event?) {
        when (event) {
            Lifecycle.Event.ON_CREATE -&gt; {
                println(&quot;ä½¿ç”¨lifecycleçš„ç¬¬äºŒç§æ–¹æ³•ä¸º ç›´æ¥ç»§æ‰¿GenericLifecycleObserver&quot;)
            }
            Lifecycle.Event.ON_START -&gt; {
            }
            Lifecycle.Event.ON_DESTROY -&gt; {
            }
            else -&gt; {
            }
        }
    }
}</code></pre><h4 id="3-å®ç°æ¥å£DefaultLifecycleObserverï¼Œç›´æ¥é‡å†™å¯¹åº”çš„å£°æ˜å‘¨æœŸçš„æ–¹æ³•ï¼ˆæ¨èä½¿ç”¨ï¼‰"><a href="#3-å®ç°æ¥å£DefaultLifecycleObserverï¼Œç›´æ¥é‡å†™å¯¹åº”çš„å£°æ˜å‘¨æœŸçš„æ–¹æ³•ï¼ˆæ¨èä½¿ç”¨ï¼‰" class="headerlink" title="3.å®ç°æ¥å£DefaultLifecycleObserverï¼Œç›´æ¥é‡å†™å¯¹åº”çš„å£°æ˜å‘¨æœŸçš„æ–¹æ³•ï¼ˆæ¨èä½¿ç”¨ï¼‰"></a>3.å®ç°æ¥å£DefaultLifecycleObserverï¼Œç›´æ¥é‡å†™å¯¹åº”çš„å£°æ˜å‘¨æœŸçš„æ–¹æ³•ï¼ˆæ¨èä½¿ç”¨ï¼‰</h4><blockquote>
<p>æ³¨æ„ï¼šè¯¥æ–¹æ³•ä½¿ç”¨java8ï¼Œå¹¶ä¸”éœ€è¦æ·»åŠ ä¾èµ–   <code>implementation &#39;android.arch.lifecycle:common-java8:1.1.1&#39;</code></p>
</blockquote>
<pre><code>/**
 * ä½¿ç”¨lifecycleçš„ç¬¬ä¸‰ç§æ–¹æ³•ä¸º ç›´æ¥å®ç°DefaultLifecycleObserver
 *
 * ä½¿ç”¨è¯¥æ–¹æ³•éœ€è¦æ·»åŠ ä¾èµ–ï¼šimplementation &#39;android.arch.lifecycle:common-java8:1.1.1&#39;
 *
 * ä½¿ç”¨java8ï¼Œè¯¥æ–¹æ³•ä½œä¸ºä¼˜å…ˆé€‰æ‹©ï¼Œå› ä¸ºä¸éœ€è¦å†å†™å…¶ä»–æ³¨è§£ç­‰ï¼Œï¼Œï¼Œï¼ŒÃ¸
 *
 * @author alguojian
 * @date 2019/1/29
 */
class MyLifecycleObserverThree : DefaultLifecycleObserver {

    override fun onCreate(@NonNull owner: LifecycleOwner) {
        println(&quot;ä½¿ç”¨lifecycleçš„ç¬¬ä¸‰ç§æ–¹æ³•ä¸º ç›´æ¥å®ç°DefaultLifecycleObserver&quot;)
    }
}</code></pre><h3 id="åœ¨activityæˆ–è€…fragmentä¸­ä½¿ç”¨ï¼š"><a href="#åœ¨activityæˆ–è€…fragmentä¸­ä½¿ç”¨ï¼š" class="headerlink" title="åœ¨activityæˆ–è€…fragmentä¸­ä½¿ç”¨ï¼š"></a>åœ¨activityæˆ–è€…fragmentä¸­ä½¿ç”¨ï¼š</h3><pre><code>  //activity
  lifecycle.addObserver(MyLifecycleObserver())


    /**
     * fragmentä¸­ä½¿ç”¨éœ€è¦åœ¨æ„é€ æ–¹æ³•ä¸­è¿›è¡Œæ³¨å†Œ
     */
    init {
        lifecycle.addObserver(MyLifecycleObserverThree())
    }</code></pre><p>activityå’ŒfragmentæŒæœ‰LifecycleOwnerçš„å¯¹è±¡ï¼Œé€šè¿‡getLifecycle()è·å¾—Lifecycleå¯¹è±¡ï¼Œå®é™…è·å¾—çš„æ˜¯Lifecycleçš„ä¸€ä¸ªå®ç°ç±»LifecycleRegistryï¼Œé€šè¿‡addObserver()æ–¹æ³•æ·»åŠ æˆ‘ä»¬çš„è§‚å¯Ÿè€…ï¼ŒLifecycleObserver</p>
]]></content>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰viewçš„Canvasæ¢³ç†</title>
    <url>/2019/06/23/%E8%87%AA%E5%AE%9A%E4%B9%89view%E7%9A%84Canvas%E6%A2%B3%E7%90%86/</url>
    <content><![CDATA[<h3 id="åˆ›å»ºCanvasçš„æ–¹å¼"><a href="#åˆ›å»ºCanvasçš„æ–¹å¼" class="headerlink" title="åˆ›å»ºCanvasçš„æ–¹å¼"></a>åˆ›å»ºCanvasçš„æ–¹å¼</h3><pre><code>        Bitmap bitmap = Bitmap.createBitmap(500, 500,   Bitmap.Config.ARGB_8888);
        Canvas canvas1 = new Canvas();
        Canvas canvas2 = new Canvas(bitmap);


        //ä½¿ç”¨äºç»˜åˆ¶é«˜è´¨é‡å›¾å½¢ï¼Œåˆ·æ–°é¢‘ç‡é«˜ï¼Œä½†æ˜¯ç³»ç»ŸèŠ±é”€æ¯”è¾ƒå¤§
        SurfaceView surfaceView = new SurfaceView(context);
        SurfaceHolder holder = surfaceView.getHolder();
        Canvas canvas = holder.lockCanvas();
        holder.unlockCanvasAndPost(canvas);</code></pre><a id="more"></a>


<h3 id="åŸºæœ¬ç»˜åˆ¶æ–¹æ³•"><a href="#åŸºæœ¬ç»˜åˆ¶æ–¹æ³•" class="headerlink" title="åŸºæœ¬ç»˜åˆ¶æ–¹æ³•"></a>åŸºæœ¬ç»˜åˆ¶æ–¹æ³•</h3><pre><code>
        //ç»˜åˆ¶å›¾ç‰‡
        drawable.draw(Canvas canvas)

        //ç»˜åˆ¶é¢œè‰²
        canvas.drawColor(Color.BLUE);
        canvas.drawColor(Color.BLUE, PorterDuff.Mode.SRC_IN);


        //ç»˜åˆ¶ç‚¹
        canvas.drawPoint(300, 300, paint);
        //ç»˜åˆ¶å¤šä¸ªç‚¹
        canvas.drawPoints(new float[]{299, 399, 123, 234, 123, 567}, paint);

        //ç»˜åˆ¶ç›´çº¿
        canvas.drawLine(100, 200, 400, 500, paint);
        //ç»˜åˆ¶å¤šæ¡ç›´çº¿
        canvas.drawLines(new float[]{100, 200, 400, 500, 400, 200, 800, 20}, paint);

        //ç»˜åˆ¶çŸ©å½¢
        Rect rect = new Rect(100, 100, 500, 500);
        canvas.drawRect(rect, paint);

        //ä¸rectçš„åŒºåˆ«,Rect = int , RectF = float
        RectF rectF = new RectF(100, 100, 600, 800);
        canvas.drawRect(rectF, paint);

        //ç»˜åˆ¶åœ†è§’çŸ©å½¢ï¼Œ50ä»£è¡¨ç€åœ†è§’å¯¹åº”çš„æ¤­åœ†åŠå¾„
        canvas.drawRoundRect(rectF, 50, 50, paint);

        //ç»˜åˆ¶æ¤­åœ†ï¼Œæ¤­åœ†åŠå¾„å°±æ˜¯çŸ©å½¢çš„å®½é«˜ä¸€åŠ
        canvas.drawOval(rectF, paint);

        //ç»˜åˆ¶åœ†å½¢
        canvas.drawCircle(500, 500, 300, paint);

        //ç»˜åˆ¶åœ†å¼§ï¼Œå¼€å§‹è§’åº¦ï¼Œæ‰«è¿‡å¾—è§’åº¦ï¼Œæ˜¯å¦ä½¿ç”¨ä¸­å¿ƒç‚¹ï¼Œä½¿ç”¨çš„è¯ç»˜åˆ¶çš„å°±æ˜¯å¼§çº¿ä»¥åŠä¸­å¿ƒç‚¹è¿æ¥å½¢æˆçš„å›¾æ¡ˆï¼Œä¸é€‚ç”¨å°±æ˜¯å¼§çº¿èµ·ç‚¹ä»¥åŠç»ˆç‚¹è¿æ¥çš„å›¾æ¡ˆ
        canvas.drawArc(rectF, 15, 180, true, paint);

        //ç»˜åˆ¶æ–‡å­—,èµ·å§‹ç‚¹é»˜è®¤ä¸ºæ–‡æœ¬çš„å·¦ä¸‹è§’

        String string = &quot;è¯·é—®é¥¿å“¦è‰æˆ‘å•Šæ˜¯å¤šç©ºæˆ‘çœ‹&quot;;
        canvas.drawText(string, 200, 300, paint);

        //æŒ‡å®šç»˜åˆ¶æ–‡æœ¬å­—ä½“å¼€å§‹ä»¥åŠç»“æŸç´¢å¼•
        canvas.drawText(string, 2, 6, 300, 400, paint);

        //æŒ‡å®šå¼€å§‹ç´¢å¼•ï¼Œä»¥åŠç»˜åˆ¶çš„é•¿åº¦
        char[] chars = string.toCharArray();
        canvas.drawText(chars, 1, 5, 300, 300, paint);

        //æŒ‡å®šæ¯ä¸€ä¸ªå­—çš„åæ ‡ç‚¹ï¼Œåˆ‡è®°æ˜¯æ¯ä¸€ä¸ªå­—ï¼Œæ–‡æœ¬è¿‡é•¿å¯èƒ½é€ æˆå¡é¡¿ï¼Œä¸ç”¨åŒ…å«è¡¨æƒ…
        canvas.drawPosText(string, new float[]{10, 20, 100, 200, 200, 200}, paint);

        //åœ¨pathè·¯å¾„ä¸Šç»˜åˆ¶æ–‡å­—ï¼Œä¸è·¯å¾„èµ·å§‹ç‚¹çš„æ°´å¹³åç§»è·ç¦»ï¼Œä¸è·¯å¾„ä¸­å¿ƒçš„å‚ç›´åç§»è·ç¦»
        canvas.drawTextOnPath(string, new Path(), 50, 0, paint);

        //ç»˜åˆ¶ä½å›¾ï¼Œå›¾ç‰‡å·¦ä¸Šè§’ä¸ºç»˜åˆ¶åŸç‚¹

        //è·å¾—å›¾ç‰‡èµ„æºä»drawableç­‰
        Bitmap bitmap = BitmapFactory.decodeResource(mContext.getResources(), R.drawable.ic_launcher_foreground);

        //ä»assetsè·å¾—å›¾ç‰‡
        try {
            InputStream open = mContext.getAssets().open(&quot;aaa.png&quot;);

            Bitmap bitmap1 = BitmapFactory.decodeStream(open);
            open.close();
        } catch (IOException e) {
            e.printStackTrace();
        }

        //ä»å†…å­˜å¡è·å¾—å›¾ç‰‡
        Bitmap bitmap1 = BitmapFactory.decodeFile(&quot;/sdcard/aaa.png&quot;);

        //matrixç”¨äºç»˜åˆ¶æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œä¸€ä¸‹æ”¹å˜
        canvas.drawBitmap(bitmap, new Matrix(), paint);

        //æŒ‡å®šç»˜åˆ¶åŸç‚¹
        canvas.drawBitmap(bitmap, 300, 400, paint);


        //æŒ‡å®šç»˜åˆ¶åŒºåŸŸ
        Rect rect1 = new Rect(0, 0, bitmap.getWidth() / 2, bitmap.getHeight());
        //æŒ‡å®šå›¾ç‰‡è¦æ˜¾ç¤ºåœ¨é‚£å—åŒºåŸŸ
        Rect rect2 = new Rect(100, 200, 400, 500);
        canvas.drawBitmap(bitmap, rect1, rect2, paint);

        //å‘æœ‰ä¸€æ ‹300pxï¼Œå‘ä¸‹ç§»åŠ¨400px
        canvas.translate(300,400);

        //è®¾ç½®ç¼©æ”¾ï¼Œä»¥åŠç¼©æ”¾ä¸­å¿ƒç‚¹ï¼Œé»˜è®¤æ˜¯åŸç‚¹
        canvas.scale(1.2f,0.8f,100,0);

        //å·²ç‚¹ï¼ˆ30ï¼Œ50ï¼‰æ—‹è½¬90åº¦ï¼Œå³ä¸xè½´è§’åº¦å¢å¤§90åº¦ï¼Œåˆ‡è®°ï¼šå±å¹•åæ ‡ç³»ä¸æ•°å­¦åæ ‡ç³»æˆé•œåƒæ˜¾ç¤º
        canvas.rotate(90,30,50);

        //å‘xè½´æ­£æ–¹å‘å€¾æ–œ45åº¦
        canvas.skew(1f,0);


        //ç”»å¸ƒè£å‰ªï¼Œå…¶ä»–åŒºåŸŸä¸åœ¨ç¼–è¾‘
        canvas.clipPath(new Path());

        //æŒ‡å®šè£å‰ªå åŠ è£å‰ªæ—¶çš„æ•ˆæœ,æœ‰å…³Region.OPå…¨éƒ¨å‚æ•°çœ‹ä¸‹é¢
        canvas.clipPath(new Path(), Region.Op.XOR);

        //è£å‰ªçŸ©å½¢
        canvas.clipRect(rect);

        //ä¿å­˜å…¨éƒ¨çŠ¶æ€
        canvas.save();

        //è·å¾—ä¿å­˜æ¬¡æ•°
        canvas.getSaveCount();

        //å›é€€ä¸Šä¸€æ¬¡
        canvas.restore();

        //æŒ‡å®šå›é€€çš„ç‰ˆæœ¬
        canvas.restoreToCount(2);</code></pre><h3 id="Region-OPå‚æ•°ï¼Œå’Œpathçš„å¸ƒå°”å€¼æ“ä½œç±»ä¼¼"><a href="#Region-OPå‚æ•°ï¼Œå’Œpathçš„å¸ƒå°”å€¼æ“ä½œç±»ä¼¼" class="headerlink" title="Region.OPå‚æ•°ï¼Œå’Œpathçš„å¸ƒå°”å€¼æ“ä½œç±»ä¼¼"></a>Region.OPå‚æ•°ï¼Œå’Œpathçš„å¸ƒå°”å€¼æ“ä½œç±»ä¼¼</h3><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>DIFFERENCE</td>
<td>ç¬¬ä¸€æ¬¡ä¸åŒäºç¬¬äºŒæ¬¡åŒºåŸŸ</td>
</tr>
<tr>
<td>INTERSECT</td>
<td>äºŒæ¬¡äº¤é›†</td>
</tr>
<tr>
<td>UNION</td>
<td>ä¸¤æ¬¡çš„åˆé›†</td>
</tr>
<tr>
<td>XOR</td>
<td>äºŒè€…åˆé›†å‡å»äºŒè€…äº¤é›†</td>
</tr>
<tr>
<td>REVERSE_DIFFERENCE</td>
<td>ç¬¬äºŒæ¬¡ä¸åŒäºç¬¬ä¸€æ¬¡åŒºåŸŸ</td>
</tr>
<tr>
<td>REPLACE</td>
<td>ç¬¬äºŒæ¬¡å…¨éƒ¨åŒºåŸŸ</td>
</tr>
</tbody></table>
]]></content>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰viewçš„ç”»ç¬”Paintçš„æ¢³ç†</title>
    <url>/2019/05/23/%E8%87%AA%E5%AE%9A%E4%B9%89view%E7%9A%84%E7%94%BB%E7%AC%94Paint%E7%9A%84%E6%A2%B3%E7%90%86/</url>
    <content><![CDATA[<h3 id="ç”»ç¬”ï¼šç¡®å®šç»˜åˆ¶å†…å®¹çš„å…·ä½“æ•ˆæœ"><a href="#ç”»ç¬”ï¼šç¡®å®šç»˜åˆ¶å†…å®¹çš„å…·ä½“æ•ˆæœ" class="headerlink" title="ç”»ç¬”ï¼šç¡®å®šç»˜åˆ¶å†…å®¹çš„å…·ä½“æ•ˆæœ"></a>ç”»ç¬”ï¼šç¡®å®šç»˜åˆ¶å†…å®¹çš„å…·ä½“æ•ˆæœ</h3><p>4.0ä»¥ä¸Šå»ºè®®å…³é—­ç¡¬ä»¶åŠ é€Ÿ</p>
<pre><code>android:hardwareAccelerated=&quot;false&quot;</code></pre><a id="more"></a>


<h3 id="åŸºæœ¬å±æ€§"><a href="#åŸºæœ¬å±æ€§" class="headerlink" title="åŸºæœ¬å±æ€§"></a>åŸºæœ¬å±æ€§</h3><pre><code> Paint mPaint = new Paint();

 mPaint.reset();//é‡ç½®paint

 mPaint.setColor(Color.BLUE);

 mPaint.setStyle(Paint.Style.FILL);//åªå¡«å……ï¼Œä¸æè¾¹
 mPaint.setStyle(Paint.Style.STROKE);//åªæè¾¹ï¼Œä¸å¡«å……
 mPaint.setStyle(Paint.Style.FILL_AND_STROKE);//æè¾¹å’Œå¡«å……

 mPaint.setStrokeWidth(1.2f);//è®¾ç½®ç”»ç¬”çš„ç²—ç»†

 mPaint.setStrokeWidth(10f);//è®¾ç½®ç”»ç¬”å®½åº¦ä¸º10px

 mPaint.getColor();//è·å¾—ç”»ç¬”é¢œè‰²

 mPaint.setShader(new Shader());//è®¾ç½®ç€è‰²å™¨ï¼Œç»˜åˆ¶å¤šå½©å›¾æ¡ˆ

 mPaint.setARGB(100, 100, 100, 100);//è®¾ç½®ç”»ç¬”é¢œè‰²

 mPaint.setAlpha(30);//è®¾ç½®é€æ˜åº¦
 mPaint.getAlpha();//è·å¾—ç”»ç¬”é€æ˜åº¦

 mPaint.setTextSize(10);//è®¾ç½®å­—ä½“å¤§å°10px

 mPaint.setTextAlign(Paint.Align.LEFT);//è®¾ç½®å·¦å¯¹é½
 mPaint.setTextAlign(Paint.Align.CENTER);//è®¾ç½®ä¸­é—´å¯¹é½
 mPaint.setTextAlign(Paint.Align.RIGHT);//è®¾ç½®å³å¯¹é½

 mPaint.setUnderlineText(true);//è®¾ç½®æ–‡æœ¬ä¸‹åˆ’çº¿

 mPaint.setStrikeThruText(true);//è®¾ç½®åˆ é™¤çº¿

 mPaint.setFakeBoldText(true);//è®¾ç½®æ–‡æœ¬ç²—ä½“

 mPaint.setTextSkewX(-0.5f);//è®¾ç½®æ–œä½“

 mPaint.setShadowLayer(5, 5, 5, Color.YELLOW);//è®¾ç½®æ–‡å­—é˜´å½±

 mPaint.setAntiAlias(true);//è®¾ç½®æŠ—é”¯é½¿

 mPaint.setStrokeCap(Paint.Cap.ROUND);//è¿™åªæœ«ç«¯ä»™å¸½ä¸ºåœ†å½¢ï¼Œå³åœ¨ç»˜åˆ¶çš„å›¾å½¢ä¸¤ç«¯æ·»åŠ åŠåœ†å½¢
 mPaint.setStrokeCap(Paint.Cap.BUTT);//é»˜è®¤æ— çº¿å¸½
 mPaint.setStrokeCap(Paint.Cap.SQUARE);//è¿™åªæœ«ç«¯ä»™å¸½ä¸ºæ–¹å½¢ï¼Œå³åœ¨ç»˜åˆ¶çš„å›¾å½¢ä¸¤ç«¯æ·»åŠ åŠåœ†å½¢

 mPaint.setStrokeJoin(Paint.Join.BEVEL);//è®¾ç½®çº¿æ®µè¿æ¥å¤„æ ·å¼ä¸ºç›´çº¿
 mPaint.setStrokeJoin(Paint.Join.MITER);//è®¾ç½®çº¿æ®µè¿æ¥å¤„æ ·å¼ä¸ºé”è§’
 mPaint.setStrokeJoin(Paint.Join.ROUND);//åœ†è§’

 mPaint.setStrokeMiter(30f);//è®¾ç½®ç”»ç¬”çš„å€¾æ–œåº¦ï¼Œå®é™…å¹¶æ²¡ä»€ä¹ˆåµç”¨

 mPaint.setPathEffect(new CornerPathEffect(100));//è®¾ç½®è¿æ¥ç‚¹ä¸ºåŠå¾„100pxçš„åœ†å½¢æ¥å…¥


 mPaint.setTextSkewX(-0.3f);//è¿™æ˜¯å­—ä½“å€¾æ–œåº¦ï¼Œé»˜è®¤å³æ–¹å‘å€¾æ–œä¸º-0.25

 mPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.ADD));//è®¾ç½®å¤šå›¾æ¡ˆå åŠ æ–¹å¼
// case  0: return Mode.CLEAR;
// case  1: return Mode.SRC;
// case  2: return Mode.DST;
// case  3: return Mode.SRC_OVER;
// case  4: return Mode.DST_OVER;
// case  5: return Mode.SRC_IN;
// case  6: return Mode.DST_IN;
// case  7: return Mode.SRC_OUT;
// case  8: return Mode.DST_OUT;
// case  9: return Mode.SRC_ATOP;
// case 10: return Mode.DST_ATOP;
// case 11: return Mode.XOR;
// case 16: return Mode.DARKEN;
// case 17: return Mode.LIGHTEN;
// case 13: return Mode.MULTIPLY;
// case 14: return Mode.SCREEN;
// case 12: return Mode.ADD;
// case 15: return Mode.OVERLAY;</code></pre><p><img src="http://upload-images.jianshu.io/upload_images/7426378-ab6f0a0c1e2b52bc?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<h3 id="åŸºæœ¬æ–¹æ³•"><a href="#åŸºæœ¬æ–¹æ³•" class="headerlink" title="åŸºæœ¬æ–¹æ³•"></a>åŸºæœ¬æ–¹æ³•</h3><pre><code>        String s = &quot;1231111111&quot;;

        float v = mPaint.measureText(s);//æµ‹é‡æ–‡æœ¬é•¿åº¦

        mPaint.measureText(s, 2, 5);//æµ‹é‡æ–‡æœ¬é•¿åº¦ï¼Œå¼€å§‹ä»¥åŠç»“æŸçš„ç´¢å¼•


        //é€šè¿‡å¤–è¾¹è·çŸ©å½¢è·å¾—å†…ç½®æ–‡æœ¬å®½é«˜
        Rect rect = new Rect();
        mPaint.getTextBounds(s, 2, 6, rect);
        int width = rect.width();
        int height = rect.height();


        //è·å¾—ç²¾ç¡®å­—ä½“å®½åº¦
        int arr = 0;
        int len = s.length();
        float[] floats = new float[len];
        mPaint.getTextWidths(s, floats);

        for (int i = 0; i &lt; len; i++) {
            arr += (int) Math.ceil(floats[i]);
        }
        int widthText = arr;</code></pre>]]></content>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰viewçš„pathå¸¸ç”¨apiæ¢³ç†</title>
    <url>/2019/04/23/%E8%87%AA%E5%AE%9A%E4%B9%89view%E7%9A%84path%E5%B8%B8%E7%94%A8api%E6%A2%B3%E7%90%86/</url>
    <content><![CDATA[<h2 id="åŸºæœ¬æ–¹æ³•"><a href="#åŸºæœ¬æ–¹æ³•" class="headerlink" title="åŸºæœ¬æ–¹æ³•"></a>åŸºæœ¬æ–¹æ³•</h2><ul>
<li><p>reset()   æ¸…é™¤æ‰pathé‡Œé¢æ‰€æœ‰çº¿æ¡ä»¥åŠæ›²çº¿ï¼Œä½†ä¸ä¼šæ”¹å˜ä»–çš„fill-typeï¼Œä¸ä¿ç•™åŸæœ‰æ•°æ®ç»“æ„</p>
</li>
<li><p>rewind()  æ¸…é™¤pathé‡Œé¢çº¿æ¡å’Œæ›²çº¿ï¼Œä¿ç•™å†…éƒ¨æ•°æ®ç»“æ„ä»¥ä¾¿å¤ç”¨,åˆ é™¤fill-typeï¼ˆä¸€èˆ¬é€‰æ‹©reset()ï¼‰</p>
</li>
<li><p>set(Path mPath) ç”¨æ–°pathæ›¿æ¢æ—§path</p>
</li>
<li><p>moveTo(float x,float y)  è®¾ç½®å½“å‰ç‚¹ä½ç½®ï¼Œåé¢çš„ç»˜åˆ¶ä»è¯¥ç‚¹å¼€å§‹ï¼Œè®¾ç½®ç»˜åˆ¶èµ·ç‚¹</p>
</li>
<li><p>setLastPoint(300, 300) è®¾ç½®ä¸Šä¸ªç‚¹ç§»åŠ¨åˆ°è¯¥ç‚¹å¤„ï¼Œä»¥åä»è¯¥ç‚¹å¼€å§‹ç»˜åˆ¶</p>
</li>
<li><p>lineTo(float x,float y) ä¸Šæ¬¡ç»“æŸç‚¹è¿æ¥æ”¹ç‚¹ï¼Œå¦‚æœä¸Šæ¬¡æ²¡æœ‰æ“ä½œï¼Œåˆ™è®¾ç½®æ”¹ç‚¹ä¸ºç»˜åˆ¶èµ·ç‚¹</p>
</li>
<li><p>close() è®¾ç½®é—­åˆè·¯å¾„ï¼Œå³è¿æ¥æœ€åä¸€ä¸ªç‚¹å’Œç¬¬ä¸€ä¸ªç‚¹ï¼Œå¦‚æœæ— æ³•è¿æ¥ï¼Œåˆ™ä»€ä¹ˆéƒ½ä¸åš</p>
</li>
</ul>
<a id="more"></a>


<h2 id="FILL-TYPEå±æ€§"><a href="#FILL-TYPEå±æ€§" class="headerlink" title="FILL_TYPEå±æ€§"></a>FILL_TYPEå±æ€§</h2><ul>
<li>WINDING é»˜è®¤</li>
<li>EVEN_ODD å åŠ çš„åœ°æ–¹åˆ‡å‰²ï¼Œé¢œè‰²ä¸ºé»˜è®¤ç™½è‰²</li>
<li>INVERSE_WINDING å…¨éƒ¨ä¸ºé»˜è®¤ç™½è‰²</li>
<li>INVERSE_EVEN_ODD å åŠ çš„åœ°æ–¹ä¸ºç»˜åˆ¶é¢œè‰²ï¼Œå…¶ä»–åœ°æ–¹ä¸ºé»˜è®¤ç™½è‰²</li>
</ul>
<p><strong>toggleInverseFillType()åˆ‡æ¢ç›¸åçš„å¡«å……æ¨¡å¼</strong></p>
<h2 id="æ·»åŠ åŸºæœ¬å›¾å½¢"><a href="#æ·»åŠ åŸºæœ¬å›¾å½¢" class="headerlink" title="æ·»åŠ åŸºæœ¬å›¾å½¢"></a>æ·»åŠ åŸºæœ¬å›¾å½¢</h2><h4 id="æ·»åŠ åœ†å¼§"><a href="#æ·»åŠ åœ†å¼§" class="headerlink" title="æ·»åŠ åœ†å¼§,"></a>æ·»åŠ åœ†å¼§,</h4><pre><code>startAngle,ç¡®å®šè§’åº¦èµ·å§‹ä½ç½®
sweepAngleï¼Œç¡®å®šæ‰«è¿‡çš„è§’åº¦
public void addArc(Rectf ovel ,float startAngle,float sweepAngle)</code></pre><h4 id="æ·»åŠ åœ†å¼§ï¼Œä¸ä¸Šé¢æ–¹æ³•å”¯ä¸€ä¸åŒçš„æ˜¯ï¼šå¦‚æœåœ†å¼§çš„èµ·ç‚¹å’Œä¸Šæ¬¡æœ€åä¸€ä¸ªåæ ‡ç‚¹ä¸ç›¸åŒï¼Œå°±è¿æ¥ä¸¤ä¸ªç‚¹"><a href="#æ·»åŠ åœ†å¼§ï¼Œä¸ä¸Šé¢æ–¹æ³•å”¯ä¸€ä¸åŒçš„æ˜¯ï¼šå¦‚æœåœ†å¼§çš„èµ·ç‚¹å’Œä¸Šæ¬¡æœ€åä¸€ä¸ªåæ ‡ç‚¹ä¸ç›¸åŒï¼Œå°±è¿æ¥ä¸¤ä¸ªç‚¹" class="headerlink" title="æ·»åŠ åœ†å¼§ï¼Œä¸ä¸Šé¢æ–¹æ³•å”¯ä¸€ä¸åŒçš„æ˜¯ï¼šå¦‚æœåœ†å¼§çš„èµ·ç‚¹å’Œä¸Šæ¬¡æœ€åä¸€ä¸ªåæ ‡ç‚¹ä¸ç›¸åŒï¼Œå°±è¿æ¥ä¸¤ä¸ªç‚¹"></a>æ·»åŠ åœ†å¼§ï¼Œä¸ä¸Šé¢æ–¹æ³•å”¯ä¸€ä¸åŒçš„æ˜¯ï¼šå¦‚æœåœ†å¼§çš„èµ·ç‚¹å’Œä¸Šæ¬¡æœ€åä¸€ä¸ªåæ ‡ç‚¹ä¸ç›¸åŒï¼Œå°±è¿æ¥ä¸¤ä¸ªç‚¹</h4><pre><code>public void arcTo (RectF oval, float startAngle, float sweepAngle)</code></pre><h4 id="æ·»åŠ åœ†å¼§ï¼Œæ˜¯å¦å°†ä¹‹å‰è·¯å¾„çš„ç»“æŸç‚¹è®¾ç½®ä¸ºåœ†å¼§èµ·ç‚¹"><a href="#æ·»åŠ åœ†å¼§ï¼Œæ˜¯å¦å°†ä¹‹å‰è·¯å¾„çš„ç»“æŸç‚¹è®¾ç½®ä¸ºåœ†å¼§èµ·ç‚¹" class="headerlink" title="æ·»åŠ åœ†å¼§ï¼Œæ˜¯å¦å°†ä¹‹å‰è·¯å¾„çš„ç»“æŸç‚¹è®¾ç½®ä¸ºåœ†å¼§èµ·ç‚¹"></a>æ·»åŠ åœ†å¼§ï¼Œæ˜¯å¦å°†ä¹‹å‰è·¯å¾„çš„ç»“æŸç‚¹è®¾ç½®ä¸ºåœ†å¼§èµ·ç‚¹</h4><p>true,åœ¨æ–°çš„èµ·ç‚¹ç”»åœ†å¼§ï¼Œä¸è¿æ¥æœ€åä¸€ä¸ªç‚¹ä¸åœ†å¼§èµ·ç‚¹ï¼Œå³ä¸ä¹‹å‰è·¯å¾„æ²¡æœ‰äº¤é›†ï¼ˆåŒaddArc()ï¼‰<br>false,åœ¨æ–°çš„èµ·ç‚¹ç”»åœ†å¼§ï¼Œè¿æ¥ä¹‹å‰è·¯å¾„çš„ç»“æŸç‚¹ä¸åœ†å¼§èµ·ç‚¹ï¼Œå³ä¸ä¹‹å‰è·¯å¾„æœ‰äº¤é›†ï¼Œï¼ˆåŒarcTo(ä¸‰å‚æ•°)ï¼‰</p>
<pre><code>public void arcTi(RectF oval, float startAngle, float sweepAngle,boolean forcemoveTo)</code></pre><h4 id="æ·»åŠ åœ†å½¢ï¼Œæ·»åŠ ä¹‹åä¸‹æ¬¡è·¯å¾„èµ·ç‚¹å˜ä¸ºåœ†åœ¨Xè½´æ­£æ–¹å‘æœ€å¤§çš„ç‚¹"><a href="#æ·»åŠ åœ†å½¢ï¼Œæ·»åŠ ä¹‹åä¸‹æ¬¡è·¯å¾„èµ·ç‚¹å˜ä¸ºåœ†åœ¨Xè½´æ­£æ–¹å‘æœ€å¤§çš„ç‚¹" class="headerlink" title="æ·»åŠ åœ†å½¢ï¼Œæ·»åŠ ä¹‹åä¸‹æ¬¡è·¯å¾„èµ·ç‚¹å˜ä¸ºåœ†åœ¨Xè½´æ­£æ–¹å‘æœ€å¤§çš„ç‚¹"></a>æ·»åŠ åœ†å½¢ï¼Œæ·»åŠ ä¹‹åä¸‹æ¬¡è·¯å¾„èµ·ç‚¹å˜ä¸ºåœ†åœ¨Xè½´æ­£æ–¹å‘æœ€å¤§çš„ç‚¹</h4><p>èµ·ç‚¹ xè½´æ­£æ–¹å‘çš„0åº¦<br>åæ ‡ç‚¹<br>åŠå¾„<br>dirï¼ŒæŒ‡å®šç»˜åˆ¶æ—¶æ˜¯é¡ºæ—¶é’ˆè¿˜æ˜¯é€†æ—¶é’ˆï¼ŒCWä¸ºé¡ºæ—¶é’ˆï¼ŒCCWä¸ºé€†æ—¶é’ˆ</p>
<pre><code>addCircle(float x ,float y, float radius ,Path.Direction dir)</code></pre><h4 id="æ·»åŠ æ¤­åœ†å½¢è·¯å¾„"><a href="#æ·»åŠ æ¤­åœ†å½¢è·¯å¾„" class="headerlink" title="æ·»åŠ æ¤­åœ†å½¢è·¯å¾„"></a>æ·»åŠ æ¤­åœ†å½¢è·¯å¾„</h4><p>oval,æ¤­åœ†çš„å¤–åˆ‡çŸ©å½¢åŒºåŸŸ</p>
<pre><code>addOval(Rectf oval,Path.Direction dir)</code></pre><h4 id="åŠ å…¥çŸ©å½¢è·¯å¾„"><a href="#åŠ å…¥çŸ©å½¢è·¯å¾„" class="headerlink" title="åŠ å…¥çŸ©å½¢è·¯å¾„"></a>åŠ å…¥çŸ©å½¢è·¯å¾„</h4><p>è·¯å¾„èµ·ç‚¹å˜ä¸ºçŸ©å½¢çš„å·¦ä¸Šè§’èµ·ç‚¹</p>
<pre><code>addRect(Rectf oval,Path.Direction dir)</code></pre><h4 id="åŠ å…¥åœ†è§’çŸ©å½¢è·¯å¾„"><a href="#åŠ å…¥åœ†è§’çŸ©å½¢è·¯å¾„" class="headerlink" title="åŠ å…¥åœ†è§’çŸ©å½¢è·¯å¾„"></a>åŠ å…¥åœ†è§’çŸ©å½¢è·¯å¾„</h4><p>æ·»åŠ åœ†å½¢è·¯å¾„åä¼šæ”¹å˜è·¯å¾„çš„èµ·ç‚¹</p>
<pre><code>addRoundRect(Rectf oval,float x,float y,Path.Direction dir)</code></pre><h4 id="æ·»åŠ æ–°çš„path"><a href="#æ·»åŠ æ–°çš„path" class="headerlink" title="æ·»åŠ æ–°çš„path"></a>æ·»åŠ æ–°çš„path</h4><p>å°†åœ†å½¢è·¯å¾„ç§»åŠ¨åˆ°ï¼ˆdx,dyï¼‰ï¼Œå†æ·»åŠ åˆ°æ–°çš„pathå†…éƒ¨</p>
<pre><code> public void addPath(Path src, float dx, float dy)</code></pre><p>å°†mPathè¿›è¡ŒMatrixå˜æ¢å†æ·»åŠ åˆ°å½“å‰path</p>
<pre><code>public void addPath (Path mPath, Matrix matrix)</code></pre><h4 id="å¹³ç§»è·¯å¾„-ä¸canvasçš„translate-ç±»ä¼¼"><a href="#å¹³ç§»è·¯å¾„-ä¸canvasçš„translate-ç±»ä¼¼" class="headerlink" title="å¹³ç§»è·¯å¾„,ä¸canvasçš„translate()ç±»ä¼¼"></a>å¹³ç§»è·¯å¾„,ä¸canvasçš„translate()ç±»ä¼¼</h4><pre><code>path.offset(float x , float y);</code></pre><h4 id="è®¾ç½®æ–°çš„pathè·¯å¾„"><a href="#è®¾ç½®æ–°çš„pathè·¯å¾„" class="headerlink" title="è®¾ç½®æ–°çš„pathè·¯å¾„"></a>è®¾ç½®æ–°çš„pathè·¯å¾„</h4><pre><code>set(Path src)</code></pre><h2 id="æœ‰å…³å¸ƒå°”å€¼æ“ä½œ"><a href="#æœ‰å…³å¸ƒå°”å€¼æ“ä½œ" class="headerlink" title="æœ‰å…³å¸ƒå°”å€¼æ“ä½œ"></a>æœ‰å…³å¸ƒå°”å€¼æ“ä½œ</h2><ul>
<li>è¿›è¡Œä¸åŒçš„pathä¹‹é—´çš„è¿ç®—</li>
<li>æŠŠç®€å•çš„å›¾å½¢é€šè¿‡ä¸€å®šè§„åˆ™åˆæˆå¤æ‚çš„å›¾å½¢</li>
</ul>
<pre><code>å¯¹ path1 å’Œ path2 æ‰§è¡Œå¸ƒå°”è¿ç®—ï¼Œè¿ç®—æ–¹å¼ç”±ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®š
è¿ç®—ç»“æœå­˜å…¥åˆ°path1ä¸­ã€‚

boolean op (Path path, Path.Op op)
path1.op(path2, Path.Op.DIFFERENCE);


å¯¹ path1 å’Œ path2 æ‰§è¡Œå¸ƒå°”è¿ç®—ï¼Œè¿ç®—æ–¹å¼ç”±ç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®š
è¿ç®—ç»“æœå­˜å…¥åˆ°path3ä¸­ã€‚

boolean op (Path path1, Path path2, Path.Op op)
path3.op(path1, path2, Path.Op.DIFFERENCE)</code></pre><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>DIFFERENCE</td>
<td>path1ä¸åŒäºpath2çš„åŒºåŸŸ</td>
</tr>
<tr>
<td>REVERSE_DIFFERENCE</td>
<td>path2ä¸åŒäºpath1çš„åŒºåŸŸ</td>
</tr>
<tr>
<td>INTERSECT</td>
<td>path1å’Œpath2çš„äº¤é›†</td>
</tr>
<tr>
<td>UNION</td>
<td>path1å’Œpath2çš„å¹¶é›†</td>
</tr>
<tr>
<td>XOR</td>
<td>å‡å»äºŒè€…äº¤é›†æ‰€å‰©ä¸‹çš„</td>
</tr>
</tbody></table>
<h2 id="è´å¡å°”æ›²çº¿ï¼Œé€šè¿‡ä¸€ä¸ªæ•°æ®ç‚¹ä»¥åŠå¤šä¸ªæ§åˆ¶ç‚¹æè¿°"><a href="#è´å¡å°”æ›²çº¿ï¼Œé€šè¿‡ä¸€ä¸ªæ•°æ®ç‚¹ä»¥åŠå¤šä¸ªæ§åˆ¶ç‚¹æè¿°" class="headerlink" title="è´å¡å°”æ›²çº¿ï¼Œé€šè¿‡ä¸€ä¸ªæ•°æ®ç‚¹ä»¥åŠå¤šä¸ªæ§åˆ¶ç‚¹æè¿°"></a>è´å¡å°”æ›²çº¿ï¼Œé€šè¿‡ä¸€ä¸ªæ•°æ®ç‚¹ä»¥åŠå¤šä¸ªæ§åˆ¶ç‚¹æè¿°</h2><ul>
<li>æ•°æ®ç‚¹ï¼šå€¼è·¯å¾„çš„èµ·å§‹ç‚¹å’Œç»ˆæ­¢ç‚¹</li>
<li>æ§åˆ¶ç‚¹ï¼šå†³å®šè·¯å¾„çš„å¼¯æ›²ä¼°è®¡</li>
<li>n+1é˜¶è´å¡å°”æ›²çº¿=æœ‰nä¸ªæ§åˆ¶ç‚¹</li>
<li>1é˜¶=ä¸€æ¡ç›´çº¿</li>
</ul>
<h3 id="pathæ–¹æ³•å¦‚ä¸‹ï¼š"><a href="#pathæ–¹æ³•å¦‚ä¸‹ï¼š" class="headerlink" title="pathæ–¹æ³•å¦‚ä¸‹ï¼š"></a>pathæ–¹æ³•å¦‚ä¸‹ï¼š</h3><ul>
<li><p>ç»˜åˆ¶äºŒé˜¶è´å¡å°”æ›²çº¿ï¼ˆx1,y1ï¼‰ä¸ºæ§åˆ¶ç‚¹ï¼Œ(x2,y2)ä¸ºç»ˆç‚¹<br>quadTo(float x1,floaty1,float x2,float y2)</p>
</li>
<li><p>(x1,y1)ä¸ºæ§åˆ¶ç‚¹è·ç¦»èµ·ç‚¹çš„åç§»é‡ï¼Œ(x2,y2)ä¸ºç»ˆç‚¹è·ç¦»èµ·ç‚¹çš„åç§»é‡<br>rQuadTo(float x1, float y1, float x2, float y2)</p>
</li>
<li><p>ç»˜åˆ¶ä¸‰é˜¶è´å¡å°”æ›²çº¿,(x1,y1),(x2,y2)ä¸ºæ§åˆ¶ç‚¹ï¼Œ(x3,y3)ä¸ºç»ˆç‚¹<br>cubicTo(float x1, float y1, float x2, float y2, float x3, float y3)</p>
</li>
<li><p>(x1,y1)ï¼Œ(x2,y2)ä¸ºæ§åˆ¶ç‚¹è·ç¦»èµ·ç‚¹çš„åç§»é‡ï¼Œ(x3,y3)ä¸ºç»ˆç‚¹è·ç¦»èµ·ç‚¹çš„åç§»é‡<br>rCubicTo(float x1, float y1, float x2, float y2, float x3, float y3)</p>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰viewæµ‹é‡onMeasureæ¢³ç†</title>
    <url>/2019/03/29/%E8%87%AA%E5%AE%9A%E4%B9%89view%E6%B5%8B%E9%87%8FonMeasure%E6%A2%B3%E7%90%86/</url>
    <content><![CDATA[<h2 id="è‡ªå®šä¹‰viewæµç¨‹çš„ç¬¬ä¸€æ­¥ï¼Œæµ‹é‡"><a href="#è‡ªå®šä¹‰viewæµç¨‹çš„ç¬¬ä¸€æ­¥ï¼Œæµ‹é‡" class="headerlink" title="è‡ªå®šä¹‰viewæµç¨‹çš„ç¬¬ä¸€æ­¥ï¼Œæµ‹é‡"></a>è‡ªå®šä¹‰viewæµç¨‹çš„ç¬¬ä¸€æ­¥ï¼Œæµ‹é‡</h2><blockquote>
<p><strong>onMeasure(),æµ‹é‡è‡ªå·±çš„å¤§å°ï¼Œä¸ºæ­£å¼å¸ƒå±€æä¾›å»ºè®®ï¼ˆåªæ˜¯å»ºè®®ï¼Œç”¨ä¸ç”¨è¿˜è¦çœ‹onlayout()</strong></p>
</blockquote>
<p>æµ‹é‡è¿‡ç¨‹é€šè¿‡measureæ–¹æ³•å®ç°ï¼Œæ˜¯Viewæ ‘çš„è‡ªé¡¶å‘ä¸‹çš„ä¸€æ¬¡éå†ï¼Œæ¯ä¸ªViewåœ¨å¾ªç¯è¿‡ç¨‹ä¸­å°†è‡ªå·±çš„å°ºå¯¸å‘ä¸‹ä¼ é€’ï¼Œæµ‹é‡å®Œæˆåæ‰€æœ‰çš„viewéƒ½æ¸…æ¥šè‡ªå·±çš„å°ºå¯¸ï¼Œ</p>
<p>é€šè¿‡<code>setMeasuredDimension(width, height);</code>è®¾ç½®ç»™ç³»ç»Ÿ</p>
<a id="more"></a>


<p>è·å–å½“å‰viewçš„ä½ç½®æœ‰</p>
<pre><code>
// è·å–Topä½ç½®
public final int getTop() {  
    return mTop;  
}  

// å…¶ä½™å¦‚ä¸‹ï¼š
  getLeft();      //è·å–å­Viewå·¦ä¸Šè§’è·çˆ¶Viewå·¦ä¾§çš„è·ç¦»
  getBottom();    //è·å–å­Viewå³ä¸‹è§’è·çˆ¶Viewé¡¶éƒ¨çš„è·ç¦»
  getRight();     //è·å–å­Viewå³ä¸‹è§’è·çˆ¶Viewå·¦ä¾§çš„è·ç¦»
</code></pre><p>ä¸MotionEventä¸­ get()å’ŒgetRaw()çš„åŒºåˆ«</p>
<pre><code>viewè‡ªèº«ä¸­å¿ƒç‚¹ä¸ºåæ ‡åŸç‚¹
//get() ï¼šè§¦æ‘¸ç‚¹ç›¸å¯¹äºå…¶æ‰€åœ¨ç»„ä»¶åæ ‡ç³»çš„åæ ‡
 event.getX();       
 event.getY();

//getRaw() ï¼šè§¦æ‘¸ç‚¹ç›¸å¯¹äºå±å¹•é»˜è®¤åæ ‡ç³»çš„åæ ‡
 event.getRawX();    
 event.getRawY();</code></pre><p> æœ‰å…³measureè¿‡ç¨‹</p>
<p> æµ‹é‡è§„æ ¼ï¼ˆMeasureSpecï¼‰ = æµ‹é‡æ¨¡å¼ï¼ˆmodeï¼‰ + æµ‹é‡å¤§å°ï¼ˆsizeï¼‰</p>
<p> æµ‹é‡æ¨¡å¼æœ‰ä¸‰ç§ï¼š</p>
<table>
<thead>
<tr>
<th>æ¨¡å¼</th>
<th>å…·ä½“ç§’é€Ÿ</th>
<th>åº”ç”¨åœºæ™¯</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>UNSPECIFIED</td>
<td>çˆ¶è§†å›¾ä¸çº¦æŸå­è§†å›¾ï¼Œå³viewå¯å–ä»»æ„å°ºå¯¸</td>
<td>ç³»ç»Ÿå†…éƒ¨recyclerviewç­‰</td>
<td></td>
</tr>
<tr>
<td>EXACTLY</td>
<td>- çˆ¶è§†å›¾ä¸ºå­è§†å›¾åˆ¶å®šä¸€ä¸ªç¡®åˆ‡å°ºå¯¸</td>
<td>match_parentæˆ–è€…100dp</td>
<td>åˆ©ç”¨çˆ¶Viewçš„å‰©ä½™ç©ºé—´</td>
</tr>
<tr>
<td>AT_MOST</td>
<td>çˆ¶è§†å›¾ä¸ºå­è§†å›¾åˆ¶å®šä¸€ä¸ªæœ€å¤§å°ºå¯¸ï¼Œå­è§†å›¾å¿…é¡»ç¡®ä¿è‡ªèº«å¯é€‚åº”åœ¨å…¶å†…éƒ¨</td>
<td>wrap_content</td>
<td>å°†å¤§å°è®¾ç½®ä¸ºåŒ…è£¹viewçš„å†…å®¹</td>
</tr>
</tbody></table>
<p>ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<pre><code>    // 1. è·å–æµ‹é‡æ¨¡å¼ï¼ˆModeï¼‰
    int specMode = MeasureSpec.getMode(measureSpec)

    // 2. è·å–æµ‹é‡å¤§å°ï¼ˆSizeï¼‰
    int specSize = MeasureSpec.getSize(measureSpec)

    // 3. é€šè¿‡Mode å’Œ Size ç”Ÿæˆæ–°çš„SpecMode
    int measureSpec=MeasureSpec.makeMeasureSpec(size, mode);

    //è®¾ç½®æµ‹é‡çš„å®½é«˜å€¼
    setMeasuredDimension(width, height);</code></pre><p>ä¸‹é¢æ˜¯ä¸€ä¸ªviewGroupä¸­çš„æµ‹é‡ï¼š</p>
<pre><code>    /**
     * æµ‹é‡å­view
     *
     * @param widthMeasureSpec
     * @param heightMeasureSpec
     */
    @Override
    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
        super.onMeasure(widthMeasureSpec, heightMeasureSpec);

        //æ¯ä¸€è¡Œçš„é«˜åº¦
        int lineWidth = 0;

        //æ¯ä¸€è¡Œçš„é«˜åº¦
        int lineHeight = 0;

        //æ•´ä¸ªviewGroupçš„å®½åº¦
        int allWidth = 0;

        //æ•´ä¸ªviewGroupçš„é«˜åº¦
        int allHeight = 0;

        //è·å¾—ç³»ç»Ÿçš„å»ºè®®å®½é«˜
        int width = MeasureSpec.getSize(widthMeasureSpec);
        int height = MeasureSpec.getSize(heightMeasureSpec);

        //è·å¾—æ§ä»¶çš„å®½é«˜æ¨¡å¼
        int widthMode = MeasureSpec.getMode(widthMeasureSpec);
        int heightMode = MeasureSpec.getMode(heightMeasureSpec);


        //è·å¾—å­viewçš„æ•°é‡
        int count = getChildCount();

        //éå†æµ‹é‡å­view
        for (int i = 0; i &lt; count; i++) {

            //è·å¾—å­viewå¯¹è±¡
            View childAt = getChildAt(i);

            //æµ‹é‡å­viewï¼Œé€šè¿‡è‡ªviewå¯¹è±¡ä»¥åŠçˆ¶viewçš„æµ‹é‡å‚æ•°
            measureChild(childAt, widthMeasureSpec, heightMeasureSpec);

            //è·å¾—å­viewçš„marginçš„layoutParamsæ¥è·å¾—å­viewçš„å››å‘¨é—´è·ï¼Œå…¼å®¹è‡ªå®šä¹‰viewGroupè®¾ç½®äº†margin
            MarginLayoutParams layoutParams = (MarginLayoutParams) childAt.getLayoutParams();

            //è·å¾—å­viewæµ‹é‡çš„å®½åº¦
            int childWidth = childAt.getMeasuredWidth() + layoutParams.leftMargin + layoutParams.rightMargin;

            //è·å¾—å­viewæµ‹é‡çš„é«˜åº¦
            int childHeight = childAt.getMeasuredHeight() + layoutParams.topMargin + layoutParams.bottomMargin;


            //å¦‚æœç°åœ¨çš„å®½åº¦åŠ ä¸Šä¸€ä¸ªå­—viewçš„å®½åº¦å¤§äºæ•´ä¸ªviewGroupçš„å®½åº¦ï¼Œé‚£ä¹ˆå°±éœ€è¦æ¢è¡Œæ˜¾ç¤º
            if (lineWidth + childWidth &gt; width) {

                //æ¢è¡Œåï¼Œåˆ·æ–°viewGroupçš„å®½åº¦ï¼Œè®°å½•ä¸€ä¸ªæœ€å¤§å€¼
                allWidth = Math.max(lineWidth, childWidth);

                //è®°å½•viewGroupçš„é«˜åº¦
                allHeight += lineHeight;

                lineWidth = childWidth;
                lineHeight = childHeight;

            } else {
                lineHeight = Math.max(lineHeight, childHeight);
                lineWidth += childWidth;
            }


            //å½“æ—¶æœ€åä¸€è¡Œçš„æ—¶å€™ï¼Œå°±ä¸ä¼šæ¢è¡Œï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åŠ ä¸Šæœ€åä¸€è¡Œçš„é«˜åº¦
            if (i == count - 1) {

                allHeight += lineHeight;

                //è·å¾—æœ€å¤§çš„å®½åº¦ï¼Œæ¯”è¾ƒå€¼é’±å®½åº¦çš„æœ€å¤§å€¼ï¼Œä»¥åŠå½“å‰è¡Œçš„å®½åº¦å€¼
                allWidth = Math.max(lineWidth, allWidth);
            }

        }
        setMeasuredDimension(widthMode == MeasureSpec.EXACTLY ? width : allWidth, heightMode == MeasureSpec.EXACTLY ? height : allHeight);

    }</code></pre>]]></content>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰behavior</title>
    <url>/2019/03/28/%E8%87%AA%E5%AE%9A%E4%B9%89behavior/</url>
    <content><![CDATA[<p>Behavioræ˜¯CoordinatorLayoutçš„ä¸€ä¸ªæŠ½è±¡å†…éƒ¨ç±»</p>
<pre><code>public abstract static class Behavior&lt;V extends View&gt; {
      public Behavior() {
      }

      public Behavior(Context context, AttributeSet attrs) {
      }
      ...
}</code></pre><a id="more"></a>


<p>æ³›å‹å¯¹åº”çš„å°±æ˜¯ç›‘å¬çš„view</p>
<p>è‡ªå®šä¹‰behavioræœ‰ä¸¤ç§æƒ…å†µ</p>
<blockquote>
<p>1.æŸä¸ªviewç›‘å¬å¦ä¸€ä¸ªviewçš„çŠ¶æ€å˜åŒ–ï¼Œä¾‹å¦‚å¤§å°ã€ä½ç½®ã€æ˜¾ç¤ºçŠ¶æ€ç­‰</p>
<blockquote>
<ul>
<li>layoutDependsOn  æ–¹æ³•</li>
<li>onDependentViewChanged  æ–¹æ³•</li>
</ul>
</blockquote>
</blockquote>
<blockquote>
<p>2.æŸä¸ªviewç›‘å¬CoordinatorLayouté‡Œçš„æ»‘åŠ¨çŠ¶æ€</p>
<blockquote>
<ul>
<li>onStartNestedScroll    æ–¹æ³•</li>
<li>onNestedPreScroll æ–¹æ³•</li>
</ul>
</blockquote>
</blockquote>
<p>ä¸‹é¢å®šä¹‰ä¸€ä¸ªbehavior ï¼Œå®ç°ä¸€ä¸ªviewç›‘æ§å¦ä¸€ä¸ªviewå®ç°æ»‘åŠ¨</p>
<pre><code>public class MyBehavior extends CoordinatorLayout.Behavior&lt;View&gt; {

    public MyBehavior(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    @Override
    public boolean layoutDependsOn(CoordinatorLayout parent, View child, View dependency) {
        return super.layoutDependsOn(parent, child, dependency);
    }

    @Override
    public boolean onDependentViewChanged(CoordinatorLayout parent, View child, View dependency) {
        ViewCompat.offsetLeftAndRight();
        return super.onDependentViewChanged(parent, child, dependency);
    }
}</code></pre><p>å¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„è¿™ä¸ªæ„é€ å¿…é¡»é‡è½½ï¼Œå› ä¸ºåœ¨CoordinatorLayouté‡Œåˆ©ç”¨åå°„å»è·å–è¿™ä¸ªBehaviorçš„æ—¶å€™å°±æ˜¯æ‹¿çš„è¿™ä¸ªæ„é€ ã€‚é‡ä¸¤ä¸ªæ–¹æ³•layoutDependsOnå’ŒonDependentViewChangedï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„å‚æ•°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æˆ‘ä»¬è®¾ç½®è¿™ä¸ªBehaviorçš„Viewï¼Œç¬¬ä¸‰ä¸ªæ˜¯æˆ‘ä»¬å…³å¿ƒçš„é‚£ä¸ªViewã€‚å¦‚ä½•çŸ¥é“å…³å¿ƒçš„å“ªä¸ªå‘¢ï¼ŸlayoutDependsOnçš„è¿”å›å€¼å†³å®šäº†ä¸€åˆ‡ï¼</p>
<p>æ¯”å¦‚ä¸€ä¸ªTextView</p>
<pre><code>@Override
public boolean layoutDependsOn(CoordinatorLayout parent, View child, View dependency) {
    return dependency instanceof TextView;
}</code></pre><p>è®¾ç½®äº†å…³å¿ƒè°ï¼Œå°±æ˜¯åœ¨è¯¥viewçŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶æˆ‘ä»¬çš„viewè¦åšå‡ºä¸€äº›å˜åŒ–</p>
<pre><code>@Override
public boolean onDependentViewChanged(CoordinatorLayout parent, View child, View dependency) {
    child.setX(dependency.getX()+200);
    child.setY(dependency.getY()+200);
    child.setText(dependency.getX()+&quot;,&quot;+dependency.getY());
    return true;
}</code></pre><p>è·å–ä¸¤ä¸ªViewçš„è·ç¦»é¡¶éƒ¨å€¼çš„å·®ï¼Œç„¶åè®©childçš„ä½ç½®è¿›è¡Œç§»åŠ¨</p>
<p>é‚£ä¹ˆxmlæˆ‘ä¹ˆå¯ä»¥è¿™æ ·å†™</p>
<pre><code>&lt;android.support.design.widget.CoordinatorLayout
    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;&gt;

    &lt;Button
        android:onclick=&quot;click&quot;
        android:id=&quot;@+id/button&quot;
        android:layout_width=&quot;100dp&quot;
        android:layout_height=&quot;100dp&quot;
        android:background=&quot;#57caa1&quot;
        android:gravity=&quot;center&quot;
        android:textColor=&quot;#fff&quot;
        android:layout_gravity=&quot;top|left&quot;
        android:text=&quot;å•Šå“ˆ&quot;/&gt;

    &lt;TextView
        android:layout_width=&quot;100dp&quot;
        android:layout_height=&quot;100dp&quot;
        android:background=&quot;#F26D7E&quot;
        android:gravity=&quot;center&quot;
        android:textColor=&quot;@android:color/white&quot;
        android:layout_gravity=&quot;top|right&quot;
        app:layout_behavior=&quot;com.emplme.MytBehavior&quot;
        android:text=&quot;555666&quot;/&gt;
&lt;/android.support.design.widget.CoordinatorLayout&gt;</code></pre><p>ç¬¬äºŒä¸ªtextViewå°±æ˜¯æˆ‘ä»¬çš„viewè®¾ç½®äº†æˆ‘ä»¬è‡ªå®šä¹‰çš„behavior</p>
<p>ç„¶å</p>
<pre><code>@Override protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    findViewById(R.id.button).setOnTouchListener(new View.OnTouchListener() {
      @Override public boolean onTouch(View v, MotionEvent event) {
        switch (event.getAction()){

          case MotionEvent.ACTION_MOVE:
            v.setX(event.getRawX()-v.getWidth()/2);
            v.setY(event.getRawY()-v.getHeight()/2);
            break;
        }
        return false;
      }
    });

  }
</code></pre><p>æ¥ä¸‹æ¥ç¬¬äºŒç§æƒ…å†µ</p>
<pre><code>public class ScrollBehavior extends CoordinatorLayout.Behavior&lt;View&gt; {

    public ScrollBehavior(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    @Override
    public boolean onStartNestedScroll(CoordinatorLayout coordinatorLayout, View child, View directTargetChild, View target, int nestedScrollAxes) {
        return super.onStartNestedScroll(coordinatorLayout, child, directTargetChild, target, nestedScrollAxes);
    }

    @Override
    public void onNestedPreScroll(CoordinatorLayout coordinatorLayout, View child, View target, int dx, int dy, int[] consumed) {
        super.onNestedPreScroll(coordinatorLayout, child, target, dx, dy, consumed);
    }

    @Override
    public boolean onNestedPreFling(CoordinatorLayout coordinatorLayout, View child, View target, float velocityX, float velocityY) {
        return super.onNestedPreFling(coordinatorLayout, child, target, velocityX, velocityY);
    }
}</code></pre><p>onStartNestedScrollè¿”å›å€¼è¡¨ç¤ºè¦ä¸è¦å…³å¿ƒCoordinatorLayoutæ»‘åŠ¨ï¼Œé‚£ä¸ªæ–¹å‘çš„</p>
<pre><code>@Override
public boolean onStartNestedScroll(CoordinatorLayout coordinatorLayout, View child, View directTargetChild, View target, int nestedScrollAxes) {
    return (nestedScrollAxes &amp; ViewCompat.SCROLL_AXIS_VERTICAL) != 0;
}
å½“ç„¶æˆ‘ä»¬è¿™æ˜¯Yè½´æ–¹å‘çš„</code></pre><p>onNestedPreScrollå…³äºæ»‘åŠ¨çš„å¤„ç†</p>
<pre><code>@Override
public void onNestedPreScroll(CoordinatorLayout coordinatorLayout, View child, View target, int dx, int dy, int[] consumed) {
    super.onNestedPreScroll(coordinatorLayout, child, target, dx, dy, consumed);
    int leftScrolled = target.getScrollY();
    child.setScrollY(leftScrolled);
}</code></pre><p>åˆ—å­å¦‚ä¸‹ï¼š</p>
<pre><code>public class ScrollAwareFABBehavior extends CoordinatorLayout.Behavior&lt;View&gt; {

    private static final Interpolator INTERPOLATOR = new FastOutSlowInInterpolator();
    private boolean mIsAnimatingOut = false;

    public ScrollAwareFABBehavior(Context context, AttributeSet attrs) {
        super();
    }


    @Override
    public boolean onStartNestedScroll(@NonNull CoordinatorLayout coordinatorLayout, @NonNull View child, @NonNull View directTargetChild, @NonNull View target, int axes, int type) {
        return axes == ViewCompat.SCROLL_AXIS_VERTICAL;

    }

    @Override
    public void onNestedPreScroll(@NonNull CoordinatorLayout coordinatorLayout, @NonNull View child, @NonNull View target, int dx, int dy, @NonNull int[] consumed, int type) {
        super.onNestedPreScroll(coordinatorLayout, child, target, dx, dy, consumed, type);

        if (dy&gt;0 &amp;&amp; !this.mIsAnimatingOut &amp;&amp; child.getVisibility() == View.VISIBLE) {
            animateOut(child);
        } else if (dy &lt; 0 &amp;&amp; child.getVisibility() != View.VISIBLE) {
            animateIn(child);
        }
    }

    private void animateOut(final View button) {

        ViewCompat.animate(button).translationY(button.getHeight() + getMarginBottom(button)).setInterpolator(INTERPOLATOR).withLayer()
                .setListener(new ViewPropertyAnimatorListener() {
                    @Override
                    public void onAnimationStart(View view) {
                        ScrollAwareFABBehavior.this.mIsAnimatingOut = true;
                    }

                    @Override
                    public void onAnimationEnd(View view) {
                        ScrollAwareFABBehavior.this.mIsAnimatingOut = false;
                        view.setVisibility(View.INVISIBLE);
                    }

                    @Override
                    public void onAnimationCancel(View view) {
                        ScrollAwareFABBehavior.this.mIsAnimatingOut = false;
                    }
                }).start();
    }

    private void animateIn(View button) {
        button.setVisibility(View.VISIBLE);
        ViewCompat.animate(button).translationY(0)
                .setInterpolator(INTERPOLATOR).withLayer().setListener(null)
                .start();
    }

    private int getMarginBottom(View v) {
        int marginBottom = 0;
        final ViewGroup.LayoutParams layoutParams = v.getLayoutParams();
        if (layoutParams instanceof ViewGroup.MarginLayoutParams) {
            marginBottom = ((ViewGroup.MarginLayoutParams) layoutParams).bottomMargin;
        }
        return marginBottom;
    }

}

</code></pre><p>ç»“å°¾åœ¨æ”¾ä¸Šä¸€äº›è‡ªå®šä¹‰behaviorçš„ç‚«é…·æ•ˆæœ</p>
<blockquote>
<p> <a href="http://androidwing.net/index.php/70" target="_blank" rel="noopener">CoordinatorLayout è‡ªå®šä¹‰Behaviorå¹¶ä¸éš¾ï¼Œç”±ç®€åˆ°éš¾æ‰‹æŠŠæ‰‹å¸¦ä½ æ’¸ä¸‰æ¬¾</a><br> <a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0717/3196.html" target="_blank" rel="noopener">CoordinatorLayoutä¸æ»šåŠ¨çš„å¤„ç†â€“åŸºç¡€</a><br> <a href="http://blog.csdn.net/tiankong1206/article/details/48394393" target="_blank" rel="noopener">è‡ªå®šä¹‰CoordinatorLayoutçš„Behaviorå®ç°çŸ¥ä¹å’Œç®€ä¹¦å¿«é€Ÿè¿”å›æ•ˆæœ</a><br> <a href="http://blog.csdn.net/qibin0506/article/details/50290421" target="_blank" rel="noopener"> CoordinatorLayouté«˜çº§ç”¨æ³•-è‡ªå®šä¹‰Behavior</a></p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>androidä½¿ç”¨jenkinsè¿›è¡Œè‡ªåŠ¨åŒ–æ‰“åŒ…å¹¶ä¸”ä¸Šä¼ åˆ°firæˆ–è€…è’²å…¬è‹±</title>
    <url>/2019/03/24/android%E4%BD%BF%E7%94%A8jenkins%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85%E5%B9%B6%E4%B8%94%E4%B8%8A%E4%BC%A0%E5%88%B0fir%E6%88%96%E8%80%85%E8%92%B2%E5%85%AC%E8%8B%B1/</url>
    <content><![CDATA[<h3 id="androidä½¿ç”¨jenkinsè¿›è¡Œè‡ªåŠ¨åŒ–æ‰“åŒ…"><a href="#androidä½¿ç”¨jenkinsè¿›è¡Œè‡ªåŠ¨åŒ–æ‰“åŒ…" class="headerlink" title="androidä½¿ç”¨jenkinsè¿›è¡Œè‡ªåŠ¨åŒ–æ‰“åŒ…"></a>androidä½¿ç”¨jenkinsè¿›è¡Œè‡ªåŠ¨åŒ–æ‰“åŒ…</h3><p>é¦–å…ˆéœ€è¦é…ç½®jdkï¼Œgradleï¼Œä»¥åŠandroid sdkç¯å¢ƒå˜é‡ï¼Œé»˜è®¤è¿™äº›éƒ½æ˜¯å¯ä»¥çš„ï¼Œä¸‹è½½jenkinsçš„waråŒ…ï¼Œmacå¯ä»¥ç›´æ¥ä½¿ç”¨homebrewå®‰è£…</p>
<p>windowsä¸‹æ‰“å¼€jenkins</p>
<pre><code>open /Applications/Jenkins/jenkins.war</code></pre><a id="more"></a>


<p>macä¸‹<br>å®‰è£…homebrew</p>
<pre><code>$ ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</code></pre><p>å®‰è£…jenkins</p>
<pre><code>$ brew install jenkins    </code></pre><p>å¯åŠ¨jenkins</p>
<pre><code>$ jenkins</code></pre><p>å¯åŠ¨ä¹‹åå¯ä»¥ç›´æ¥è®¿é—®jenkinsç½‘å€ï¼Œé»˜è®¤ç«¯å£8080/å› ä¸ºä¸–ç•Œå°±æ˜¯æœ¬åœ°çš„tomcatæœåŠ¡å™¨</p>
<pre><code> http://localhost:8080/</code></pre><p>å¦‚æœç«¯å£å†²çªï¼Œä¿®æ”¹å¦‚ä¸‹ï¼šxxxxå°±æ˜¯ç«¯å£å·</p>
<pre><code>defaults write /Library/Preferences/org.jenkins-ci httpPort xxxx</code></pre><p>æ‰“å¼€ä¹‹åå»ºè®®é€‰æ‹©è‡ªå®šä¹‰å®‰è£…æ’ä»¶,ä¾‹å¦‚ï¼š</p>
<blockquote>
<p>git plugin ã€github pluginã€gitlab pluginã€fir.imã€svn pluginç­‰</p>
</blockquote>
<p>ç„¶ååœ¨ç³»ç»Ÿç®¡ç†-å…¨å±€å·¥å…·é…ç½®é‡Œé¢ï¼Œé…ç½®ä¸€äº›ç¯å¢ƒå˜é‡<br><img src="http://upload-images.jianshu.io/upload_images/7426378-5357e6799d0c8d21.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="jdkä»¥åŠgitç¯å¢ƒå˜é‡"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-7fb423c1f314c609.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="gradleç¯å¢ƒå˜é‡"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-01ba2a822286aae3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="android_sdkç¯å¢ƒå˜é‡"></p>
<p>æ¥ä¸‹æ¥åˆ›å»ºä¸€ä¸ªjenkinsä»»åŠ¡ï¼Œé£æ ¼éšæ„é€‰æ‹©ï¼Œç„¶åè¿›å…¥ä»»åŠ¡é€‰æ‹©é…ç½®</p>
<p>é¦–å…ˆé…ç½®å·¥ç¨‹ç›®å½•</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-95fb00890d178491.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>åœ¨é…ç½®æºç ç®¡ç†ï¼Œç‚¹å‡»addæ·»åŠ ä¸€ä¸ªgithubçš„è¿æ¥</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-fcf9cb0b3802a517.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-535d6f6d52212dbd.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>æ„å»ºç¯å¢ƒé€‰æ‹© invoke gradle script</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-4d80f8b57157921d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>æ„å»ºä¹‹åï¼Œä¸Šä¼ åˆ°fir.imä¸Šç”¨äºæµ‹è¯•</p>
<p>é¦–å…ˆéœ€è¦æ·»åŠ fir.imæ’ä»¶å…·ä½“å¯ä»¥æŸ¥çœ‹è¿™é‡Œ<a href="http://blog.fir.im/jenkins/" target="_blank" rel="noopener">fir.im Jenkins æ’ä»¶ä½¿ç”¨æ–¹æ³•</a>ï¼Œæ·»åŠ ä¹‹ååœ¨é…ç½®é‡Œé¢</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-ed500b5945d08db8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>åˆ°æ­¤å°±å…¨éƒ¨é…ç½®å®Œæˆï¼Œç‚¹å‡»ç«‹å³æ„å»ºï¼Œå¼€å§‹è¿›è¡Œè‡ªåŠ¨åŒ–æ‰“åŒ…æµ‹è¯•å§ï¼</p>
]]></content>
  </entry>
  <entry>
    <title>webviewå…¨å±æ’­æ”¾è§†é¢‘ä¹‹ååŠ è½½å¼¹æ¡†å¤±è´¥</title>
    <url>/2019/03/23/webview%E5%85%A8%E5%B1%8F%E6%92%AD%E6%94%BE%E8%A7%86%E9%A2%91%E4%B9%8B%E5%90%8E%E5%8A%A0%E8%BD%BD%E5%BC%B9%E6%A1%86%E5%A4%B1%E8%B4%A5/</url>
    <content><![CDATA[<p>webviewæ’­æ”¾è§†é¢‘ä¹‹åï¼Œjså¼¹æ¡†å¼¹å‡ºå¤±è´¥ï¼Œå®é™…å±å¹•æ˜¯æš—è‰²çš„ï¼Œè¯´æ˜å¼¹æ¡†å·²ç»å¼¹å‡ºï¼Œæ€€ç–‘æ˜¯x5å†…æ ¸è‡ªå·±å®ç°çš„å…¨å±å‡ºç°å†²çªï¼Œæ‰€ä»¥æ”¹ä¸ºè‡ªå·±å®ç°å…¨å±æ’­æ”¾å¤„ç†</p>
<p>æ’­æ”¾è§†é¢‘å»ºè®®ä½¿ç”¨è…¾è®¯x5å†…æ ¸</p>
<pre><code> /**
     * è§†é¢‘å…¨å±å‚æ•°
     */
    protected static final FrameLayout.LayoutParams COVER_SCREEN_PARAMS = new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);
    private Context mContext;
    private WebView mWebView;
    private LoadingDialog mLoadingDialog;
    private boolean mShowLoading = true;
    private IWebView.OnErrorListener mOnErrorListener;
    private OnPageListener mOnPageListener;
    private View customView;
    private FrameLayout fullscreenContainer;
    private IX5WebChromeClient.CustomViewCallback mCustomViewCallback;
    private FrameLayout mRoot;</code></pre><a id="more"></a>


<pre><code>æ·»åŠ ç›‘å¬
 wv.setWebChromeClient(new WebChromeClient() {

             //æ¶ˆå¤±å…¨å±æ—¶è‡ªå·±å¤„ç†
            @Override
            public void onHideCustomView() {

                KLog.d(Constant.TTAG, &quot;å¤„ç†å…¨å±&quot;);
                if (customView == null) {
                    return;
                }
                KLog.d(Constant.TTAG, &quot;å¤„ç†å…¨å±&quot;);
                FrameLayout decor = (FrameLayout) ((Activity) mContext).getWindow().getDecorView();

                if (fullscreenContainer != null) {
                    fullscreenContainer.removeAllViews();
                    decor.removeView(fullscreenContainer);
                }
                fullscreenContainer = null;
                customView = null;
                mCustomViewCallback.onCustomViewHidden();
                wv.setVisibility(View.VISIBLE);
            }

            //ç‚¹å‡»å…¨å±æ—¶è‡ªå·±å¤„ç†
            @Override
            public void onShowCustomView(View view, IX5WebChromeClient.CustomViewCallback customViewCallback) {

                KLog.d(Constant.TTAG, &quot;å¤„ç†å…¨å±&quot;);

                if (customView != null) {
                    customViewCallback.onCustomViewHidden();
                    return;
                }

                FrameLayout decor = (FrameLayout) ((Activity) mContext).getWindow().getDecorView();
                fullscreenContainer = new FullscreenHolder(mContext);
                fullscreenContainer.addView(view, COVER_SCREEN_PARAMS);
                decor.addView(fullscreenContainer, COVER_SCREEN_PARAMS);
                customView = view;
                mCustomViewCallback = customViewCallback;
            }
        });</code></pre>]]></content>
  </entry>
  <entry>
    <title>JSç¬”è®°-006-JSå¯¹è±¡-æ•°å­—-å­—ç¬¦ä¸²-æ—¥æœŸ-æ•°ç»„-é€»è¾‘</title>
    <url>/2019/03/21/JS%E7%AC%94%E8%AE%B0-006-JS%E5%AF%B9%E8%B1%A1-%E6%95%B0%E5%AD%97-%E5%AD%97%E7%AC%A6%E4%B8%B2-%E6%97%A5%E6%9C%9F-%E6%95%B0%E7%BB%84-%E9%80%BB%E8%BE%91/</url>
    <content><![CDATA[<h3 id="JSå¯¹è±¡"><a href="#JSå¯¹è±¡" class="headerlink" title="JSå¯¹è±¡"></a>JSå¯¹è±¡</h3><h5 id="åˆ›å»º-JavaScript-å¯¹è±¡"><a href="#åˆ›å»º-JavaScript-å¯¹è±¡" class="headerlink" title="åˆ›å»º JavaScript å¯¹è±¡"></a>åˆ›å»º JavaScript å¯¹è±¡</h5><p>é€šè¿‡ JavaScriptï¼Œæ‚¨èƒ½å¤Ÿå®šä¹‰å¹¶åˆ›å»ºè‡ªå·±çš„å¯¹è±¡ã€‚</p>
<p>åˆ›å»ºæ–°å¯¹è±¡æœ‰ä¸¤ç§ä¸åŒçš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>å®šä¹‰å¹¶åˆ›å»ºå¯¹è±¡çš„å®ä¾‹(ç›´æ¥åˆ›å»ºå¯¹è±¡)</p>
<pre><code>person=new Object();
person.firstname=&quot;Bill&quot;;
person.lastname=&quot;Gates&quot;;
person.age=56;
person.eyecolor=&quot;blue&quot;;</code></pre><a id="more"></a>
</li>
<li><p>ä½¿ç”¨å‡½æ•°æ¥å®šä¹‰å¯¹è±¡ï¼Œç„¶ååˆ›å»ºæ–°çš„å¯¹è±¡å®ä¾‹ï¼Œç±»ä¼¼äºæ„é€ æ–¹æ³•</p>
<pre><code>person={firstname:&quot;John&quot;,lastname:&quot;Doe&quot;,age:50,eyecolor:&quot;blue&quot;};</code></pre></li>
<li><p>ä½¿ç”¨æ„é€ å™¨åˆ›å»ºå¯¹è±¡ï¼Œå’Œjavaç±»ä¼¼äº†ï¼Œç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œèµ‹å€¼è°ƒç”¨å°è£…æ–¹æ³•</p>
</li>
</ul>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;script&gt;
function person(firstname,lastname,age,eyecolor)
{
this.firstname=firstname;
this.lastname=lastname;
this.age=age;
this.eyecolor=eyecolor;
}

myFather=new person(&quot;Bill&quot;,&quot;Gates&quot;,56,&quot;blue&quot;);

document.write(myFather.firstname + &quot; is &quot; + myFather.age + &quot; years old.&quot;);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><h5 id="æŠŠå±æ€§æ·»åŠ åˆ°-JavaScript-å¯¹è±¡"><a href="#æŠŠå±æ€§æ·»åŠ åˆ°-JavaScript-å¯¹è±¡" class="headerlink" title="æŠŠå±æ€§æ·»åŠ åˆ° JavaScript å¯¹è±¡"></a>æŠŠå±æ€§æ·»åŠ åˆ° JavaScript å¯¹è±¡</h5><p>æ‚¨å¯ä»¥é€šè¿‡ä¸ºå¯¹è±¡èµ‹å€¼ï¼Œå‘å·²æœ‰å¯¹è±¡æ·»åŠ æ–°å±æ€§ï¼šå‡è®¾ personObj å·²å­˜åœ¨ - æ‚¨å¯ä»¥ä¸ºå…¶æ·»åŠ è¿™äº›æ–°å±æ€§ï¼šfirstnameã€lastnameã€age ä»¥åŠ eyecolorï¼š</p>
<pre><code>person.firstname=&quot;Bill&quot;;
person.lastname=&quot;Gates&quot;;
person.age=56;
person.eyecolor=&quot;blue&quot;;

x=person.firstname;</code></pre><h5 id="æŠŠæ–¹æ³•æ·»åŠ åˆ°-JavaScript-å¯¹è±¡"><a href="#æŠŠæ–¹æ³•æ·»åŠ åˆ°-JavaScript-å¯¹è±¡" class="headerlink" title="æŠŠæ–¹æ³•æ·»åŠ åˆ° JavaScript å¯¹è±¡"></a>æŠŠæ–¹æ³•æ·»åŠ åˆ° JavaScript å¯¹è±¡</h5><p>æ–¹æ³•åªä¸è¿‡æ˜¯é™„åŠ åœ¨å¯¹è±¡ä¸Šçš„å‡½æ•°ã€‚<br>åœ¨æ„é€ å™¨å‡½æ•°å†…éƒ¨å®šä¹‰å¯¹è±¡çš„æ–¹æ³•ï¼š</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
&lt;script&gt;
function person(firstname,lastname,age,eyecolor)
{
this.firstname=firstname;
this.lastname=lastname;
this.age=age;
this.eyecolor=eyecolor;

this.changeName=changeName;
function changeName(name)
{
this.lastname=name;
}
}
myMother=new person(&quot;Steve&quot;,&quot;Jobs&quot;,56,&quot;green&quot;);
myMother.changeName(&quot;Ballmer&quot;);
document.write(myMother.lastname);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="JSæ•°å­—"><a href="#JSæ•°å­—" class="headerlink" title="JSæ•°å­—"></a>JSæ•°å­—</h3><h4 id="JavaScript-Number-å¯¹è±¡"><a href="#JavaScript-Number-å¯¹è±¡" class="headerlink" title="JavaScript Number å¯¹è±¡"></a>JavaScript Number å¯¹è±¡</h4><p>JavaScript åªæœ‰ä¸€ç§æ•°å­—ç±»å‹ã€‚å¯ä»¥ä½¿ç”¨ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨å°æ•°ç‚¹æ¥ä¹¦å†™æ•°å­—ã€‚<br>æå¤§æˆ–æå°çš„æ•°å­—å¯é€šè¿‡ç§‘å­¦ï¼ˆæŒ‡æ•°ï¼‰è®¡æ•°æ³•æ¥å†™ï¼š</p>
<pre><code>var y=123e5;    // 12300000
var z=123e-5;   // 0.00123</code></pre><p><strong>æ‰€æœ‰ JavaScript æ•°å­—å‡ä¸º 64 ä½</strong></p>
<p>JavaScript ä¸æ˜¯ç±»å‹è¯­è¨€ã€‚ä¸è®¸å¤šå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸åŒï¼ŒJavaScript ä¸å®šä¹‰ä¸åŒç±»å‹çš„æ•°å­—ï¼Œæ¯”å¦‚æ•´æ•°ã€çŸ­ã€é•¿ã€æµ®ç‚¹ç­‰ç­‰ã€‚<br>JavaScript ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½å­˜å‚¨ä¸ºæ ¹ä¸º 10 çš„ 64 ä½ï¼ˆ8 æ¯”ç‰¹ï¼‰ï¼Œæµ®ç‚¹æ•°ã€‚</p>
<h3 id="JSå­—ç¬¦ä¸²å±æ€§"><a href="#JSå­—ç¬¦ä¸²å±æ€§" class="headerlink" title="JSå­—ç¬¦ä¸²å±æ€§"></a>JSå­—ç¬¦ä¸²å±æ€§</h3><p>è½¬å¤§å†™<br><code>txt.toUpperCase()</code></p>
<p>æ›´æ”¹æ ·å¼</p>
<pre><code>&lt;html&gt;
&lt;body&gt;

&lt;script type=&quot;text/javascript&quot;&gt;

var txt=&quot;Hello World!&quot;

document.write(&quot;&lt;p&gt;Big: &quot; + txt.big() + &quot;&lt;/p&gt;&quot;)
document.write(&quot;&lt;p&gt;Small: &quot; + txt.small() + &quot;&lt;/p&gt;&quot;)

document.write(&quot;&lt;p&gt;Bold: &quot; + txt.bold() + &quot;&lt;/p&gt;&quot;)
document.write(&quot;&lt;p&gt;Italic: &quot; + txt.italics() + &quot;&lt;/p&gt;&quot;)

document.write(&quot;&lt;p&gt;Blink: &quot; + txt.blink() + &quot; (does not work in IE)&lt;/p&gt;&quot;)
document.write(&quot;&lt;p&gt;Fixed: &quot; + txt.fixed() + &quot;&lt;/p&gt;&quot;)
document.write(&quot;&lt;p&gt;Strike: &quot; + txt.strike() + &quot;&lt;/p&gt;&quot;)

document.write(&quot;&lt;p&gt;Fontcolor: &quot; + txt.fontcolor(&quot;Red&quot;) + &quot;&lt;/p&gt;&quot;)
document.write(&quot;&lt;p&gt;Fontsize: &quot; + txt.fontsize(16) + &quot;&lt;/p&gt;&quot;)

document.write(&quot;&lt;p&gt;Lowercase: &quot; + txt.toLowerCase() + &quot;&lt;/p&gt;&quot;)
document.write(&quot;&lt;p&gt;Uppercase: &quot; + txt.toUpperCase() + &quot;&lt;/p&gt;&quot;)

document.write(&quot;&lt;p&gt;Subscript: &quot; + txt.sub() + &quot;&lt;/p&gt;&quot;)
document.write(&quot;&lt;p&gt;Superscript: &quot; + txt.sup() + &quot;&lt;/p&gt;&quot;)

document.write(&quot;&lt;p&gt;Link: &quot; + txt.link(&quot;http://www.w3school.com.cn&quot;) + &quot;&lt;/p&gt;&quot;)
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="JSæ—¥æœŸ"><a href="#JSæ—¥æœŸ" class="headerlink" title="JSæ—¥æœŸ"></a>JSæ—¥æœŸ</h3><ul>
<li>è¿”å›å½“å‰æ—¥æœŸ<pre><code>&lt;html&gt;
&lt;body&gt;
</code></pre></li>
</ul>
<script type="text/javascript">

document.write(Date())

</script>




<pre><code>- getTime()ï¼Œè¿”å›ä» 1970 å¹´ 1 æœˆ 1 æ—¥è‡³ä»Šçš„æ¯«ç§’æ•°ã€‚</code></pre><html>
<body>

<script type="text/javascript">
var d=new Date();
document.write("ä» 1970/01/01 è‡³ä»Šå·²è¿‡å» " + d.getTime() + " æ¯«ç§’");
</script>

</body>
</html>

<pre><code>- setFullYear()ï¼Œå¦‚ä½•ä½¿ç”¨ setFullYear() è®¾ç½®å…·ä½“çš„æ—¥æœŸã€‚</code></pre><html>
<body>

<script type="text/javascript">

var d = new Date()
d.setFullYear(1992,10,3)
document.write(d)

</script>

</body>
</html>

<pre><code>-  toUTCString()ï¼Œä½¿ç”¨ toUTCString() å°†å½“æ—¥çš„æ—¥æœŸï¼ˆæ ¹æ® UTCï¼‰è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</code></pre><html>
<body>

<script type="text/javascript">

var d = new Date()
document.write (d.toUTCString())

</script>

</body>
</html>

<pre><code>- getDay()ï¼Œä½¿ç”¨ getDay() å’Œæ•°ç»„æ¥æ˜¾ç¤ºæ˜ŸæœŸï¼Œè€Œä¸ä»…ä»…æ˜¯æ•°å­—</code></pre><html>
<body>

<script type="text/javascript">

var d=new Date()
var weekday=new Array(7)
weekday[0]="æ˜ŸæœŸæ—¥"
weekday[1]="æ˜ŸæœŸä¸€"
weekday[2]="æ˜ŸæœŸäºŒ"
weekday[3]="æ˜ŸæœŸä¸‰"
weekday[4]="æ˜ŸæœŸå››"
weekday[5]="æ˜ŸæœŸäº”"
weekday[6]="æ˜ŸæœŸå…­"

document.write("ä»Šå¤©æ˜¯" + weekday[d.getDay()])

</script>

</body>
</html>

<pre><code>- æ˜¾ç¤ºä¸€ä¸ªé’Ÿè¡¨</code></pre><html>
<head><meta name="generator" content="Hexo 3.9.0">
<script type="text/javascript">
function startTime()
{
var today=new Date()
var h=today.getHours()
var m=today.getMinutes()
var s=today.getSeconds()
// add a zero in front of numbers<10
m=checkTime(m)
s=checkTime(s)
document.getElementById('txt').innerHTML=h+":"+m+":"+s
t=setTimeout('startTime()',500)
}

<p>function checkTime(i)<br>{<br>if (i&lt;10)<br>  {i=â€0â€ + i}<br>  return i<br>}<br></script><p></p>
</head>

<body onload="startTime()">
<div id="txt"></div>
</body>
</html>

<pre><code>##### å®šä¹‰æ—¥æœŸ</code></pre><p>var myDate=new Date() </p>
<pre><code>
### JSæ•°ç»„

##### åˆ›å»ºæ•°ç»„</code></pre><html>
<body>

<script type="text/javascript">
var mycars = new Array()
mycars[0] = "Saab"
mycars[1] = "Volvo"
mycars[2] = "BMW"

for (i=0;i<mycars.length;i++)
{
document.write(mycars[i] + "<br />")
}
</script>

</body>
</html>

<pre><code>
##### For...Inå¾ªç¯æ•°ç»„</code></pre><html>
<body>
<script type="text/javascript">
var x
var mycars = new Array()
mycars[0] = "Saab"
mycars[1] = "Volvo"
mycars[2] = "BMW"

<p>for (x in mycars)<br>{<br>document.write(mycars[x] + â€œ<br />â€œ)<br>}<br></script><p></p>
</body>
</html>
```
##### åˆå¹¶æ•°ç»„ï¼Œarr.concat(arr2)
```
<html>
<body>

<script type="text/javascript">

var arr = new Array(3)
arr[0] = "George"
arr[1] = "John"
arr[2] = "Thomas"

var arr2 = new Array(3)
arr2[0] = "James"
arr2[1] = "Adrew"
arr2[2] = "Martin"

document.write(arr.concat(arr2))

</script>

</body>
</html>

<pre><code>##### å°†æ•°ç»„å…ƒç´ ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œjoin</code></pre><html>
<body>

<script type="text/javascript">

var arr = new Array(3);
arr[0] = "George"
arr[1] = "John"
arr[2] = "Thomas"

document.write(arr.join());

document.write("<br />");

document.write(arr.join("."));

</script>

</body>
</html>

<pre><code>
#####  sort() æ–¹æ³•ä»å­—é¢ä¸Šå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œè‡ªç„¶æ’åºï¼ˆæ•°å­—å¯ä»¥é’ˆå¯¹å¤§å°æ’åºï¼‰
</code></pre><html>
<body>

<script type="text/javascript">

var arr = new Array(6)
arr[0] = "George"
arr[1] = "John"
arr[2] = "Thomas"
arr[3] = "James"
arr[4] = "Adrew"
arr[5] = "Martin"

document.write(arr + "<br />")
document.write(arr.sort())

</script>

</body>
</html>

<pre><code>
### JSé€»è¾‘ï¼ˆBooleanå¯¹è±¡ï¼‰
æ‚¨å¯ä»¥å°† Boolean å¯¹è±¡ç†è§£ä¸ºä¸€ä¸ªäº§ç”Ÿé€»è¾‘å€¼çš„å¯¹è±¡åŒ…è£…å™¨ã€‚
Booleanï¼ˆé€»è¾‘ï¼‰å¯¹è±¡ç”¨äºå°†éé€»è¾‘å€¼è½¬æ¢ä¸ºé€»è¾‘å€¼ï¼ˆtrue æˆ–è€… falseï¼‰ã€‚

åˆ›å»ºBooleanå¯¹è±¡</code></pre><p>var myBoolean=new Boolean()</p>
<pre><code>å¦‚æœé€»è¾‘å¯¹è±¡æ— åˆå§‹å€¼æˆ–è€…å…¶å€¼ä¸º 0ã€-0ã€nullã€&quot;&quot;ã€falseã€undefined æˆ–è€… NaNï¼Œé‚£ä¹ˆå¯¹è±¡çš„å€¼ä¸º falseã€‚å¦åˆ™ï¼Œå…¶å€¼ä¸º trueï¼ˆå³ä½¿å½“è‡ªå˜é‡ä¸ºå­—ç¬¦ä¸² &quot;false&quot; æ—¶ï¼‰ï¼</code></pre><p>var myBoolean=new Boolean();<br>var myBoolean=new Boolean(0);<br>var myBoolean=new Boolean(null);<br>var myBoolean=new Boolean(â€œâ€);<br>var myBoolean=new Boolean(false);<br>var myBoolean=new Boolean(NaN);</p>
<pre><code>åˆå§‹å€¼å…¨éƒ¨ä¸ºtrue</code></pre><p>var myBoolean=new Boolean(1);<br>var myBoolean=new Boolean(true);<br>var myBoolean=new Boolean(â€œtrueâ€);<br>var myBoolean=new Boolean(â€œfalseâ€);<br>var myBoolean=new Boolean(â€œBill Gatesâ€);</p>
<pre><code>
### JSç®—æ•°
- Math å¯¹è±¡çš„ round æ–¹æ³•å¯¹ä¸€ä¸ªæ•°è¿›è¡Œå››èˆäº”å…¥ã€‚</code></pre><p>document.write(Math.round(4.7))</p>
<pre><code>- Math å¯¹è±¡çš„ random() æ–¹æ³•æ¥è¿”å›ä¸€ä¸ªä»‹äº 0 å’Œ 1 ä¹‹é—´çš„éšæœºæ•°</code></pre><p>document.write(Math.random())</p>
<pre><code>- ä½¿ç”¨äº† Math å¯¹è±¡çš„ floor() æ–¹æ³•å’Œ random() æ¥è¿”å›ä¸€ä¸ªä»‹äº 0 å’Œ 10 ä¹‹é—´çš„éšæœºæ•°</code></pre><p>document.write(Math.floor(Math.random()*11)) </p>
<pre><code>













</code></pre>]]></content>
  </entry>
  <entry>
    <title>JSç¬”è®°-005-DOM(æ–‡æ¡£å¯¹è±¡æ¨¡å‹)</title>
    <url>/2019/03/19/JS%E7%AC%94%E8%AE%B0-005-DOM(%E6%96%87%E6%A1%A3%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B)/</url>
    <content><![CDATA[<p><img src="http://upload-images.jianshu.io/upload_images/7426378-b9868f154ccce243..gif?imageMogr2/auto-orient/strip" alt="HTML DOM æ ‘"></p>
<p>å½“ç½‘é¡µè¢«åŠ è½½æ—¶ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºé¡µé¢çš„æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDocument Object Modelï¼‰ã€‚HTML DOM æ¨¡å‹è¢«æ„é€ ä¸ºå¯¹è±¡çš„æ ‘ã€‚</p>
<ul>
<li>JavaScript èƒ½å¤Ÿæ”¹å˜é¡µé¢ä¸­çš„æ‰€æœ‰ HTML å…ƒç´ </li>
<li>JavaScript èƒ½å¤Ÿæ”¹å˜é¡µé¢ä¸­çš„æ‰€æœ‰ HTML å±æ€§</li>
<li>JavaScript èƒ½å¤Ÿæ”¹å˜é¡µé¢ä¸­çš„æ‰€æœ‰ CSS æ ·å¼</li>
<li>JavaScript èƒ½å¤Ÿå¯¹é¡µé¢ä¸­çš„æ‰€æœ‰äº‹ä»¶åšå‡ºååº”</li>
</ul>
<a id="more"></a>


<h5 id="æŸ¥æ‰¾HTMLå…ƒç´ "><a href="#æŸ¥æ‰¾HTMLå…ƒç´ " class="headerlink" title="æŸ¥æ‰¾HTMLå…ƒç´ "></a>æŸ¥æ‰¾HTMLå…ƒç´ </h5><ul>
<li>é€šè¿‡ID<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
</code></pre></li>
</ul>
<p id="intro">Hello World!</p>
<p>æœ¬ä¾‹æ¼”ç¤º <b>getElementById</b> æ–¹æ³•ï¼</p>

<script>
x=document.getElementById("intro");
document.write('<p>id="intro" çš„æ®µè½ä¸­çš„æ–‡æœ¬æ˜¯ï¼š' + x.innerHTML + '</p>');
</script>




<pre><code>- é€šè¿‡æ ‡ç­¾åï¼Œä¹Ÿæ˜¯å…ˆé€šè¿‡IDæ‹¿åˆ°æ§ä»¶ï¼Œå†é€šè¿‡æ§ä»¶ä»¥åŠæ ‡ç­¾åå­—æ‹¿åˆ°æ§ä»¶ï¼ˆæ„Ÿè§‰å¤šæ­¤ä¸€ä¸¾ï¼‰</code></pre><!DOCTYPE html>
<html>
<body>

<p>Hello World!</p>

<div id="main">
<p>The DOM is very useful.</p>
<p>æœ¬ä¾‹æ¼”ç¤º <b>getElementsByTagName</b> æ–¹æ³•ã€‚</p>
</div>

<script>
var x=document.getElementById("main");
var y=x.getElementsByTagName("p");
document.write('id ä¸º "main" çš„ div ä¸­çš„ç¬¬ä¸€æ®µæ–‡æœ¬æ˜¯ï¼š' + y[0].innerHTML);
</script>

</body>
</html>

<pre><code>
- é€šè¿‡ç±»åï¼ˆé€šè¿‡ç±»åæŸ¥æ‰¾ HTML å…ƒç´ åœ¨ IE 5,6,7,8 ä¸­æ— æ•ˆã€‚ï¼‰


##### æ”¹å˜é¡µé¢ä¸­çš„å…ƒç´ å†…å®¹
- ç›´æ¥ä½¿ç”¨innerHTML</code></pre><p>var element=document.getElementById(â€œheaderâ€);<br>element.innerHTML=â€New Headerâ€;</p>
<pre><code>##### æ”¹å˜ HTML å±æ€§ï¼ŒattributeæŒ‡çš„æ˜¯å¯¹åº”çš„å±æ€§å­—æ®µ
- ä½¿ç”¨`document.getElementById(id).attribute=new value`</code></pre><!DOCTYPE html>
<html>
<body>

<img id="image" src="/i/eg_tulip.jpg">

<script>
document.getElementById("image").src="/i/shanghai_lupu_bridge.jpg";
</script>

<p>åŸå§‹å›¾ç‰‡æ˜¯éƒé‡‘é¦™ï¼ˆeg_tulip.jpgï¼‰ï¼Œä½†æ˜¯å·²è¢«ä¿®æ”¹ä¸ºå¢æµ¦å¤§æ¡¥ï¼ˆshanghai_lupu_bridge.jpgï¼‰ã€‚</p>

</body>
</html>

<pre><code>
##### æ”¹å˜HTMLæ ·å¼
- ä½¿ç”¨`document.getElementById(id).style.property=new style`</code></pre><!DOCTYPE html>
<html>
<body>

<p id="p1">Hello World!</p>
<p id="p2">Hello World!</p>

<script>
document.getElementById("p2").style.color="blue";
document.getElementById("p2").style.fontFamily="Arial";
document.getElementById("p2").style.fontSize="larger";
</script>

<p>ä¸Šé¢çš„æ®µè½å·²è¢«ä¸€æ®µè„šæœ¬ä¿®æ”¹ã€‚</p>

</body>
</html>

<pre><code>ä¾‹å­2ï¼ŒåŠ¨æ€æ˜¾ç¤ºä»¥åŠéšè—æ–‡å­—</code></pre><!DOCTYPE html>
<html>
<body>

<p id="p1">è¿™æ˜¯ä¸€æ®µæ–‡æœ¬ã€‚</p>

<input type="button" value="éšè—æ–‡æœ¬" onclick="document.getElementById('p1').style.visibility='hidden'">
<input type="button" value="æ˜¾ç¤ºæ–‡æœ¬" onclick="document.getElementById('p1').style.visibility='visible'">

</body>
</html>

<pre><code>
##### DOMäº‹ä»¶çš„å“åº”

æˆ‘ä»¬å¯ä»¥åœ¨äº‹ä»¶å‘ç”Ÿæ—¶æ‰§è¡Œ JavaScriptï¼Œæ¯”å¦‚å½“ç”¨æˆ·åœ¨ HTML å…ƒç´ ä¸Šç‚¹å‡»æ—¶ã€‚å¦‚éœ€åœ¨ç”¨æˆ·ç‚¹å‡»æŸä¸ªå…ƒç´ æ—¶æ‰§è¡Œä»£ç ï¼Œè¯·å‘ä¸€ä¸ª HTML äº‹ä»¶å±æ€§æ·»åŠ  JavaScript ä»£ç ï¼š

**HTML äº‹ä»¶çš„ä¾‹å­ï¼š**
- å½“ç”¨æˆ·ç‚¹å‡»é¼ æ ‡æ—¶
- å½“ç½‘é¡µå·²åŠ è½½æ—¶
- å½“å›¾åƒå·²åŠ è½½æ—¶
- å½“é¼ æ ‡ç§»åŠ¨åˆ°å…ƒç´ ä¸Šæ—¶
- å½“è¾“å…¥å­—æ®µè¢«æ”¹å˜æ—¶
- å½“æäº¤ HTML è¡¨å•æ—¶
- å½“ç”¨æˆ·è§¦å‘æŒ‰é”®æ—¶
</code></pre><!DOCTYPE html>
<html>
<body>

<h1 onclick="this.innerHTML='è°¢è°¢!'">è¯·ç‚¹å‡»è¯¥æ–‡æœ¬</h1>

</body>
</html>

<pre><code>è°ƒç”¨å°è£…æ–¹æ³•ï¼ŒIDç›´æ¥ä¼ thiså³å¯</code></pre><!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
<script>
function changetext(id)
{
id.innerHTML="è°¢è°¢!";
}
</script>
</head>
<body>

<h1 onclick="changetext(this)">è¯·ç‚¹å‡»è¯¥æ–‡æœ¬</h1>

</body>
</html>

<pre><code>##### äº‹ä»¶å±æ€§ä½œå‡ºç›¸åº”,button
ç±»ä¼¼äºxmlå†™å¥½onclickï¼Œjavaç›´æ¥å†™äº‹ä»¶</code></pre><!DOCTYPE html>
<html>
<body>

<p>ç‚¹å‡»æŒ‰é’®å°±å¯ä»¥æ‰§è¡Œ <em>displayDate()</em> å‡½æ•°ã€‚</p>

<p><button onclick="displayDate()">ç‚¹å‡»è¿™é‡Œ</button></p>
<script>
function displayDate()
{
document.getElementById("demo").innerHTML=Date();
}
</script>

<p id="demo"></p>

</body>
</html>
```
##### ä½¿ç”¨ HTML DOM æ¥åˆ†é…äº‹ä»¶ï¼Œç±»ä¼¼äºä½¿ç”¨buttonä¸»åŠ¨è°ƒç”¨onclickäº‹ä»¶
```
<!DOCTYPE html>
<html>
<body>

<p>ç‚¹å‡»æŒ‰é’®å°±å¯ä»¥æ‰§è¡Œ <em>displayDate()</em> å‡½æ•°ã€‚</p>

<p><button id="myBtn">ç‚¹å‡»è¿™é‡Œ</button></p>
<script>
document.getElementById("myBtn").onclick=function(){displayDate()};
function displayDate()
{
document.getElementById("demo").innerHTML=Date();
}
</script>

<p id="demo"></p>

</body>
</html> 
```
##### onloadä»¥åŠonunloadäº‹ä»¶
onload å’Œ onunload äº‹ä»¶ä¼šåœ¨ç”¨æˆ·è¿›å…¥æˆ–ç¦»å¼€é¡µé¢æ—¶è¢«è§¦å‘(ç±»ä¼¼äºè·å¾—ç„¦ç‚¹å¤±å»ç„¦ç‚¹ä¸¤ç§ç”Ÿå‘½å‘¨æœŸ)ã€‚

<p>onload äº‹ä»¶å¯ç”¨äºæ£€æµ‹è®¿é—®è€…çš„æµè§ˆå™¨ç±»å‹å’Œæµè§ˆå™¨ç‰ˆæœ¬ï¼Œå¹¶åŸºäºè¿™äº›ä¿¡æ¯æ¥åŠ è½½ç½‘é¡µçš„æ­£ç¡®ç‰ˆæœ¬ã€‚</p>
<p>onload å’Œ onunload äº‹ä»¶å¯ç”¨äºå¤„ç† cookieã€‚</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body onload=&quot;checkCookies()&quot;&gt;

&lt;script&gt;
function checkCookies()
{
if (navigator.cookieEnabled==true)
    {
    alert(&quot;å·²å¯ç”¨ cookie&quot;)
    }
else
    {
    alert(&quot;æœªå¯ç”¨ cookie&quot;)
    }
}
&lt;/script&gt;

&lt;p&gt;æç¤ºæ¡†ä¼šå‘Šè¯‰ä½ ï¼Œæµè§ˆå™¨æ˜¯å¦å·²å¯ç”¨ cookieã€‚&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h5 id="onchangeäº‹ä»¶-ç¦»å¼€è¾“å…¥æ¡†ä¼šè§¦å‘"><a href="#onchangeäº‹ä»¶-ç¦»å¼€è¾“å…¥æ¡†ä¼šè§¦å‘" class="headerlink" title="onchangeäº‹ä»¶,ç¦»å¼€è¾“å…¥æ¡†ä¼šè§¦å‘"></a>onchangeäº‹ä»¶,ç¦»å¼€è¾“å…¥æ¡†ä¼šè§¦å‘</h5><p>onchange äº‹ä»¶å¸¸ç»“åˆå¯¹è¾“å…¥å­—æ®µçš„éªŒè¯æ¥ä½¿ç”¨ã€‚</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;script&gt;
function myFunction()
{
var x=document.getElementById(&quot;fname&quot;);
x.value=x.value.toUpperCase();
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

è¯·è¾“å…¥è‹±æ–‡å­—ç¬¦ï¼š&lt;input type=&quot;text&quot; id=&quot;fname&quot; onchange=&quot;myFunction()&quot;&gt;
&lt;p&gt;å½“æ‚¨ç¦»å¼€è¾“å…¥å­—æ®µæ—¶ï¼Œä¼šè§¦å‘å°†è¾“å…¥æ–‡æœ¬è½¬æ¢ä¸ºå¤§å†™çš„å‡½æ•°ã€‚&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><h5 id="onmouseover-å’Œ-onmouseout-äº‹ä»¶"><a href="#onmouseover-å’Œ-onmouseout-äº‹ä»¶" class="headerlink" title="onmouseover å’Œ onmouseout äº‹ä»¶"></a>onmouseover å’Œ onmouseout äº‹ä»¶</h5><p>onmouseover å’Œ onmouseout äº‹ä»¶å¯ç”¨äºåœ¨ç”¨æˆ·çš„é¼ æ ‡ç§»è‡³ HTML å…ƒç´ ä¸Šæ–¹æˆ–ç§»å‡ºå…ƒç´ æ—¶è§¦å‘å‡½æ•°ã€‚</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;div onmouseover=&quot;mOver(this)&quot; onmouseout=&quot;mOut(this)&quot; style=&quot;background-color:green;width:120px;height:20px;padding:40px;color:#ffffff;&quot;&gt;æŠŠé¼ æ ‡ç§»åˆ°ä¸Šé¢&lt;/div&gt;

&lt;script&gt;
function mOver(obj)
{
obj.innerHTML=&quot;è°¢è°¢&quot;
}

function mOut(obj)
{
obj.innerHTML=&quot;æŠŠé¼ æ ‡ç§»åˆ°ä¸Šé¢&quot;
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;h1 onmouseover=&quot;style.color=&#39;red&#39;&quot; onmouseout=&quot;style.color=&#39;blue&#39;&quot;&gt;
è¯·æŠŠé¼ æ ‡ç§»åˆ°è¿™æ®µæ–‡æœ¬ä¸Š
&lt;/h1&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><h5 id="onmousedownã€onmouseup-ä»¥åŠ-onclick-äº‹ä»¶"><a href="#onmousedownã€onmouseup-ä»¥åŠ-onclick-äº‹ä»¶" class="headerlink" title="onmousedownã€onmouseup ä»¥åŠ onclick äº‹ä»¶"></a>onmousedownã€onmouseup ä»¥åŠ onclick äº‹ä»¶</h5><p>onmousedown, onmouseup ä»¥åŠ onclick æ„æˆäº†é¼ æ ‡ç‚¹å‡»äº‹ä»¶çš„æ‰€æœ‰éƒ¨åˆ†ã€‚é¦–å…ˆå½“ç‚¹å‡»é¼ æ ‡æŒ‰é’®æ—¶ï¼Œä¼šè§¦å‘ onmousedown äº‹ä»¶ï¼Œå½“é‡Šæ”¾é¼ æ ‡æŒ‰é’®æ—¶ï¼Œä¼šè§¦å‘ onmouseup äº‹ä»¶ï¼Œæœ€åï¼Œå½“å®Œæˆé¼ æ ‡ç‚¹å‡»æ—¶ï¼Œä¼šè§¦å‘ onclick äº‹ä»¶ã€‚</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;div onmousedown=&quot;mDown(this)&quot; onmouseup=&quot;mUp(this)&quot; onclick = alert(6) style=&quot;background-color:green;color:#ffffff;width:90px;height:20px;padding:40px;font-size:12px;&quot;&gt;è¯·ç‚¹å‡»è¿™é‡Œ&lt;/div&gt;

&lt;script&gt;
function mDown(obj)
{
obj.style.backgroundColor=&quot;#1ec5e5&quot;;
obj.innerHTML=&quot;è¯·é‡Šæ”¾é¼ æ ‡æŒ‰é’®&quot;
}

function mUp(obj)
{
obj.style.backgroundColor=&quot;green&quot;;
obj.innerHTML=&quot;è¯·æŒ‰ä¸‹é¼ æ ‡æŒ‰é’®&quot;
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><h5 id="æ·»åŠ æ–°çš„HTMLå…ƒç´ "><a href="#æ·»åŠ æ–°çš„HTMLå…ƒç´ " class="headerlink" title="æ·»åŠ æ–°çš„HTMLå…ƒç´ "></a>æ·»åŠ æ–°çš„HTMLå…ƒç´ </h5><p>å¦‚éœ€å‘ HTML DOM æ·»åŠ æ–°å…ƒç´ ï¼Œæ‚¨å¿…é¡»é¦–å…ˆåˆ›å»ºè¯¥å…ƒç´ ï¼ˆå…ƒç´ èŠ‚ç‚¹ï¼‰ï¼Œç„¶åå‘ä¸€ä¸ªå·²å­˜åœ¨çš„å…ƒç´ è¿½åŠ è¯¥å…ƒç´ ã€‚</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;div id=&quot;div1&quot;&gt;
&lt;p id=&quot;p1&quot;&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;
&lt;p id=&quot;p2&quot;&gt;è¿™æ˜¯å¦ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&quot;div2&quot;&gt;
&lt;p id=&quot;p3&quot;&gt;è¿™æ˜¯asdasdwqeqwasdæ®µè½ã€‚&lt;/p&gt;
&lt;/div&gt;

&lt;script&gt;
//åˆ›å»ºæ–°çš„æ ‡ç­¾
var para=document.createElement(&quot;p&quot;);
//åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡æœ¬èŠ‚ç‚¹
var node=document.createTextNode(&quot;è¿™æ˜¯æ–°æ®µè½ã€‚&quot;);
//æƒ³æ ‡ç­¾è¿½åŠ è¯¥èŠ‚ç‚¹
para.appendChild(node);

//æ‰¾åˆ°ä¸€ä¸ªæ–°çš„å…ƒç´ 
var element=document.getElementById(&quot;div1&quot;);
///è¿½åŠ æ–°çš„æ ‡ç­¾
element.appendChild(para);
document.getElementById(&quot;div2&quot;).appendChild(para);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre><h5 id="åˆ é™¤å·²æœ‰çš„HTMLå…ƒç´ "><a href="#åˆ é™¤å·²æœ‰çš„HTMLå…ƒç´ " class="headerlink" title="åˆ é™¤å·²æœ‰çš„HTMLå…ƒç´ "></a>åˆ é™¤å·²æœ‰çš„HTMLå…ƒç´ </h5><p>å¦‚éœ€åˆ é™¤ HTML å…ƒç´ ï¼Œæ‚¨å¿…é¡»é¦–å…ˆè·å¾—è¯¥å…ƒç´ çš„çˆ¶å…ƒç´ ï¼š</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;div id=&quot;div1&quot;&gt;
&lt;p id=&quot;p1&quot;&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;
&lt;p id=&quot;p2&quot;&gt;è¿™æ˜¯å¦ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;
&lt;/div&gt;

&lt;script&gt;
//å…ˆè·å¾—çˆ¶èŠ‚ç‚¹çš„å¯¹è±¡
var parent=document.getElementById(&quot;div1&quot;);
//è·å¾—è¦åˆ é™¤çš„é‚£ä¸ªæ§ä»¶å¯¹è±¡
var child=document.getElementById(&quot;p1&quot;);
//é€šè¿‡çˆ¶å…ƒç´ åˆ é™¤å­—å…ƒç´ 
parent.removeChild(child);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>æˆ–è€…ç›´æ¥è·å¾—å­å…ƒç´ ï¼Œé€šè¿‡parentNodeè·å¾—çˆ¶å…ƒç´ æ¥åˆ é™¤</p>
<pre><code>var child=document.getElementById(&quot;p1&quot;);
child.parentNode.removeChild(child);</code></pre>]]></content>
  </entry>
  <entry>
    <title>JSç¬”è®°-004-å¸¸ç”¨è¿ç®—ç¬¦</title>
    <url>/2019/03/16/JS%E7%AC%94%E8%AE%B0-004-%E5%B8%B8%E7%94%A8%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    <content><![CDATA[<ul>
<li><p>switch å¯ä»¥çœç•¥defaultçš„break</p>
<pre><code>var day=new Date().getDay();
switch (day)
{
case 6:
x=&quot;Today it&#39;s Saturday&quot;;
break;
case 0:
x=&quot;Today it&#39;s Sunday&quot;;
break;
default:
x=&quot;Looking forward to the Weekend&quot;;
}</code></pre><a id="more"></a>
</li>
<li><p>å¾ªç¯åˆ†ä¸ºä»¥ä¸‹å‡ ç§<br>for</p>
<pre><code>for (var i=0; i&lt;5; i++)
{
x=x + &quot;The number is &quot; + i + &quot;&lt;br&gt;&quot;;
}</code></pre></li>
</ul>
<p>å¯ä»¥çœç•¥åˆèµ‹å€¼</p>
<pre><code>var i=2,len=cars.length;
for (; i&lt;len; i++)
{
document.write(cars[i] + &quot;&lt;br&gt;&quot;);
}</code></pre><p>éå†å¯¹è±¡</p>
<pre><code>var person={fname:&quot;John&quot;,lname:&quot;Doe&quot;,age:25};

for (x in person)
  {
  txt=txt + person[x];
  }</code></pre><ul>
<li><p>break æ­é…æ ‡ç­¾å¼•ç”¨å¯ä»¥è·³å‡ºä»»ä½•JSä»£ç å—</p>
<pre><code>cars=[&quot;BMW&quot;,&quot;Volvo&quot;,&quot;Saab&quot;,&quot;Ford&quot;];
list:
{
document.write(cars[0] + &quot;&lt;br&gt;&quot;);
document.write(cars[1] + &quot;&lt;br&gt;&quot;);
document.write(cars[2] + &quot;&lt;br&gt;&quot;);
break list;
document.write(cars[3] + &quot;&lt;br&gt;&quot;);
document.write(cars[4] + &quot;&lt;br&gt;&quot;);
document.write(cars[5] + &quot;&lt;br&gt;&quot;);
}</code></pre></li>
<li><p>try-catch-throw</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
</code></pre></li>
</ul>
<script>
function myFunction()
{
try
{ 
var x=document.getElementById("demo").value;
if(x=="")    throw "å€¼ä¸ºç©º";
if(isNaN(x)) throw "ä¸æ˜¯æ•°å­—";
if(x>10)     throw "å¤ªå¤§";
if(x<5)      throw "å¤ªå°";
alert(x);
}
catch(err)
{
var y=document.getElementById("mess");
y.innerHTML="é”™è¯¯ï¼š" + err + "ã€‚";
}
}
</script>

<h1>æˆ‘çš„ç¬¬ä¸€ä¸ª JavaScript ç¨‹åº</h1>
<p>è¯·è¾“å…¥ 5 åˆ° 10 ä¹‹é—´çš„æ•°å­—ï¼š</p>
<input id="demo" type="text">
<button type="button" onclick="myFunction()">æµ‹è¯•è¾“å…¥å€¼</button>
<p id="mess"></p>



```
]]></content>
  </entry>
  <entry>
    <title>JSç¬”è®°-003-å˜é‡-æ•°æ®ç±»å‹-å¯¹è±¡-å‡½æ•°</title>
    <url>/2019/03/15/JS%E7%AC%94%E8%AE%B0-003-%E5%8F%98%E9%87%8F-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-%E5%AF%B9%E8%B1%A1-%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<p>å£°æ˜å˜é‡ï¼šä¸ç®¡æ˜¯å±€éƒ¨è¿˜æ˜¯å…¨å±€å˜é‡éƒ½æ˜¯ç”¨varå£°æ˜å°±å¯ä»¥</p>
<pre><code>var x =2;
var y =3;
var z = x+y;
var pi=3.14;
var name=&quot;Bill Gates&quot;;//ä½¿ç”¨å¼•å·åŒ…æ‹¬å°±æ˜¯å­—ç¬¦ä¸²äº†
var answer=&#39;Yes I am!&#39;;//å¯ä»¥ä½¿ç”¨å•å¼•å·åŒ…æ‹¬</code></pre><a id="more"></a>

<p>å­—ç¬¦ä¸²è¦ä½¿ç”¨å¼•å·åŒ…æ‹¬ï¼Œé‡Œé¢å¯ä»¥åµŒå¥—ï¼Œå¯ä»¥æ•´å‹æ‹¼æ¥å­—ç¬¦ä¸²å†™å…¥,å†™å…¥ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ•´å‹</p>
<pre><code>var answer=&quot;Nice to meet you!&quot;;
var answer=&quot;He is called &#39;Bill&#39;&quot;;
var answer=&#39;He is called &quot;Bill&quot;&#39;;</code></pre><p>åˆ›å»ºä¸€ä¸ªæ•°ç»„çš„ä¸¤ç§æ–¹å¼</p>
<pre><code>var cars=new Array();
cars[0]=&quot;Audi&quot;;
cars[1]=&quot;BMW&quot;;
cars[2]=&quot;Volvo&quot;;</code></pre><pre><code>var cars=new Array(&quot;Audi&quot;,&quot;BMW&quot;,&quot;Volvo&quot;);</code></pre><p>åˆ›å»ºä¸€ä¸ªå¯¹è±¡</p>
<pre><code>var person={firstname:&quot;Bill&quot;, lastname:&quot;Gates&quot;, id:5566};</code></pre><p>ä»å¯¹è±¡é‡Œé¢å–å€¼æœ‰ï¼Œgetæ–¹æ³•</p>
<pre><code>name=person.lastname;
name=person[&quot;lastname&quot;];</code></pre><p>ä½¿ç”¨varåˆ›å»ºå¯¹è±¡ï¼Œå¯ä»¥è§„å®šæ•°æ®ç±»å‹</p>
<pre><code>var carname=new String;
var x=      new Number;
var y=      new Boolean;
var cars=   new Array;
var person= new Object;</code></pre><h4 id="jså‡½æ•°ï¼Œå°±æ˜¯å°è£…æ–¹æ³•ã€‚function-å¿…é¡»æ˜¯å°å†™"><a href="#jså‡½æ•°ï¼Œå°±æ˜¯å°è£…æ–¹æ³•ã€‚function-å¿…é¡»æ˜¯å°å†™" class="headerlink" title="jså‡½æ•°ï¼Œå°±æ˜¯å°è£…æ–¹æ³•ã€‚function å¿…é¡»æ˜¯å°å†™"></a>jså‡½æ•°ï¼Œå°±æ˜¯å°è£…æ–¹æ³•ã€‚function å¿…é¡»æ˜¯å°å†™</h4><pre><code>function functionname()
{
è¿™é‡Œæ˜¯è¦æ‰§è¡Œçš„ä»£ç 
}</code></pre><p>è¿”å›å€¼ä½¿ç”¨retureè¿”å›ï¼Œä½¿ç”¨æ³¨æ„ï¼Œå› ä¸ºæ²¡æœ‰è§„å®šè¿”å›çš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æ–¹æ³•ä¼šæ¯”è¾ƒå®¹æ˜“é‡å¤</p>
<pre><code>function myFunction()
{
var x=5;
return x;
}</code></pre><p>è¿”å›å€¼å¯ä»¥çœç•¥returnï¼ˆä»¥åè¯æ˜ï¼‰</p>
<pre><code>function myFunction(a,b)
{
if (a&gt;b)
  {
  return;
  }
x=a+b
}</code></pre><p>å¦‚æœä¸€ä¸ªå˜é‡æ²¡æœ‰æå‰ä½¿ç”¨varå»å£°æ˜ï¼Œè€Œæ˜¯ç›´æ¥èµ‹å€¼çš„è¯ï¼Œå°±ç›´æ¥ä½œä¸ºå…¨å±€å˜é‡</p>
<pre><code>carname=&quot;Volvo&quot;;</code></pre>]]></content>
  </entry>
  <entry>
    <title>JS ç¬”è®°-002-åŸºæœ¬è¯­å¥</title>
    <url>/2019/03/13/JS%20%E7%AC%94%E8%AE%B0-002-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E5%8F%A5/</url>
    <content><![CDATA[<ul>
<li>å¦‚éœ€åœ¨ HTML é¡µé¢ä¸­æ’å…¥ JavaScriptï¼Œè¯·ä½¿ç”¨ <script> æ ‡ç­¾ã€‚</li>
<li><script> å’Œ </script> ä¼šå‘Šè¯‰ JavaScript åœ¨ä½•å¤„å¼€å§‹å’Œç»“æŸã€‚</li>
<li><script> å’Œ </script> ä¹‹é—´çš„ä»£ç è¡ŒåŒ…å«äº† JavaScriptï¼š</li>
<li>å¯ä»¥å†HTMLæ–‡æ¡£ä¸­æ”¾å…¥ä¸é™æ•°é‡çš„è„šæœ¬ï¼Œè¯¥è„šæœ¬å¯ä½äºhtmlçš„<strong><body></body></strong>æˆ–<strong><head><meta name="generator" content="Hexo 3.9.0"></head></strong>éƒ¨åˆ†ä¸­ï¼Œæˆ–è€…åŒæ—¶å­˜åœ¨äºä¸¤ä¸ªéƒ¨åˆ†ä¸­</li>
<li>é€šå¸¸æ˜¯æŠŠå‡½æ•°æ”¾å…¥<head><meta name="generator" content="Hexo 3.9.0">éƒ¨åˆ†ä¸­ï¼Œæˆ–è€…æ”¾åœ¨é¡µé¢åº•éƒ¨ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠå®ƒä»¬æ”¾ç½®åˆ°åŒä¸€å¤„ä½ç½®ï¼Œä¸ä¼šå¹²æ‰°åˆ°é¡µé¢çš„å†…å®¹</head></li>
</ul>
<a id="more"></a>

<h5 id="æŠŠJSæ”¾åœ¨headä¸­"><a href="#æŠŠJSæ”¾åœ¨headä¸­" class="headerlink" title="æŠŠJSæ”¾åœ¨headä¸­"></a>æŠŠJSæ”¾åœ¨headä¸­</h5><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
&lt;script&gt;
function myFunction()
{
document.getElementById(&quot;demo&quot;).innerHTML=&quot;My First JavaScript Function&quot;;
}
&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;h1&gt;My Web Page&lt;/h1&gt;

&lt;p id=&quot;demo&quot;&gt;A Paragraph&lt;/p&gt;

&lt;button type=&quot;button&quot; onclick=&quot;myFunction()&quot;&gt;Try it&lt;/button&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre><h5 id="æŠŠJSæ”¾åœ¨bodyä¸­"><a href="#æŠŠJSæ”¾åœ¨bodyä¸­" class="headerlink" title="æŠŠJSæ”¾åœ¨bodyä¸­"></a>æŠŠJSæ”¾åœ¨bodyä¸­</h5><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;h1&gt;My Web Page&lt;/h1&gt;

&lt;p id=&quot;demo&quot;&gt;A Paragraph&lt;/p&gt;

&lt;button type=&quot;button&quot; onclick=&quot;myFunction()&quot;&gt;Try it&lt;/button&gt;

&lt;script&gt;
function myFunction()
{
document.getElementById(&quot;demo&quot;).innerHTML=&quot;My First JavaScript Function&quot;;
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre><h5 id="è®¾ç½®JSè°ƒç”¨å¤–éƒ¨åŒ…çš„jsæ–‡ä»¶ï¼ˆheadå’Œbodyéƒ½å¯ä»¥è°ƒç”¨ï¼Œå¤–éƒ¨è„šæœ¬ä¸èƒ½åŒ…å«-æ ‡ç­¾ï¼‰ï¼Œè®¾ç½®typeå¦‚type-quot-text-javascript-quot-ï¼Œä»¥åŠsrc"><a href="#è®¾ç½®JSè°ƒç”¨å¤–éƒ¨åŒ…çš„jsæ–‡ä»¶ï¼ˆheadå’Œbodyéƒ½å¯ä»¥è°ƒç”¨ï¼Œå¤–éƒ¨è„šæœ¬ä¸èƒ½åŒ…å«-æ ‡ç­¾ï¼‰ï¼Œè®¾ç½®typeå¦‚type-quot-text-javascript-quot-ï¼Œä»¥åŠsrc" class="headerlink" title="è®¾ç½®JSè°ƒç”¨å¤–éƒ¨åŒ…çš„jsæ–‡ä»¶ï¼ˆheadå’Œbodyéƒ½å¯ä»¥è°ƒç”¨ï¼Œå¤–éƒ¨è„šæœ¬ä¸èƒ½åŒ…å«  æ ‡ç­¾ï¼‰ï¼Œè®¾ç½®typeå¦‚type=&quot;text/javascript&quot;ï¼Œä»¥åŠsrc"></a>è®¾ç½®JSè°ƒç”¨å¤–éƒ¨åŒ…çš„jsæ–‡ä»¶<em>ï¼ˆheadå’Œbodyéƒ½å¯ä»¥è°ƒç”¨ï¼Œå¤–éƒ¨è„šæœ¬ä¸èƒ½åŒ…å« <script> æ ‡ç­¾ï¼‰</em>ï¼Œè®¾ç½®typeå¦‚<code>type=&quot;text/javascript&quot;</code>ï¼Œä»¥åŠsrc</h5><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;h1&gt;My Web Page&lt;/h1&gt;

&lt;p id=&quot;demo&quot;&gt;A Paragraph.&lt;/p&gt;

&lt;button type=&quot;button&quot; onclick=&quot;myFunction()&quot;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/button&gt;

&lt;p&gt;&lt;b&gt;æ³¨é‡Šï¼š&lt;/b&gt;myFunction ä¿å­˜åœ¨åä¸º &quot;myScript.js&quot; çš„å¤–éƒ¨æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;/js/myScript.js&quot;&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre><h5 id="æ“ä½œHTMLå…ƒç´ "><a href="#æ“ä½œHTMLå…ƒç´ " class="headerlink" title="æ“ä½œHTMLå…ƒç´ "></a>æ“ä½œHTMLå…ƒç´ </h5><ul>
<li>å¦‚éœ€ä» JavaScript è®¿é—®æŸä¸ª HTML å…ƒç´ ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ document.getElementById(id) æ–¹æ³•ã€‚è¯·ä½¿ç”¨ "id" å±æ€§æ¥æ ‡è¯† HTML å…ƒç´ ï¼š</li>
</ul>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;h1&gt;æˆ‘çš„ç¬¬ä¸€å¼ ç½‘é¡µ&lt;/h1&gt;

&lt;p id=&quot;demo&quot;&gt;æˆ‘çš„ç¬¬ä¸€ä¸ªæ®µè½&lt;/p&gt;

&lt;script&gt;
//ä¸ªæ¢æ–°çš„å†…å®¹ï¼Œä½¿ç”¨idç›´æ¥innerHTMLå³å¯
document.getElementById(&quot;demo&quot;).innerHTML=&quot;æˆ‘çš„ç¬¬ä¸€æ®µ JavaScript&quot;;
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre><p><strong>å†™åˆ°bodyè¾“å‡ºä½¿ç”¨write:è¯·ä½¿ç”¨ document.write() ä»…ä»…å‘æ–‡æ¡£è¾“å‡ºå†™å†…å®¹ã€‚<br>å¦‚æœåœ¨æ–‡æ¡£å·²å®ŒæˆåŠ è½½åæ‰§è¡Œ document.writeï¼Œæ•´ä¸ª HTML é¡µé¢å°†è¢«è¦†ç›–ï¼š</strong></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;h1&gt;æˆ‘çš„ç¬¬ä¸€å¼ ç½‘é¡µ&lt;/h1&gt;

&lt;script&gt;
document.write(&quot;&lt;p&gt;æˆ‘çš„ç¬¬ä¸€æ®µ JavaScript&lt;/p&gt;&quot;);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre></script></em></h5>]]></content>
  </entry>
  <entry>
    <title>JSç¬”è®°-001-åŸºæœ¬å®ç°</title>
    <url>/2019/03/12/JS%E7%AC%94%E8%AE%B0-001-%E5%9F%BA%E6%9C%AC%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<h3 id="HTML-ä¸­çš„è„šæœ¬å¿…é¡»ä½äº-ä¸-æ ‡ç­¾ä¹‹é—´ã€‚"><a href="#HTML-ä¸­çš„è„šæœ¬å¿…é¡»ä½äº-ä¸-æ ‡ç­¾ä¹‹é—´ã€‚" class="headerlink" title="HTML ä¸­çš„è„šæœ¬å¿…é¡»ä½äº  ä¸  æ ‡ç­¾ä¹‹é—´ã€‚"></a>HTML ä¸­çš„è„šæœ¬å¿…é¡»ä½äº <script> ä¸ </script> æ ‡ç­¾ä¹‹é—´ã€‚</h3><p>###è„šæœ¬å¯è¢«æ”¾ç½®åœ¨ HTML é¡µé¢çš„ <body> å’Œ <head><meta name="generator" content="Hexo 3.9.0"> éƒ¨åˆ†ä¸­ã€‚</head></body></p>
<h5 id="JavaScript-èƒ½å¤Ÿç›´æ¥å†™åœ¨Htmlè¾“å‡ºæµä¸­ï¼Œ"><a href="#JavaScript-èƒ½å¤Ÿç›´æ¥å†™åœ¨Htmlè¾“å‡ºæµä¸­ï¼Œ" class="headerlink" title="JavaScript èƒ½å¤Ÿç›´æ¥å†™åœ¨Htmlè¾“å‡ºæµä¸­ï¼Œ"></a>JavaScript èƒ½å¤Ÿç›´æ¥å†™åœ¨Htmlè¾“å‡ºæµä¸­ï¼Œ</h5><pre><code>&lt;script&gt;
document.write(&quot;&lt;h1&gt;This is a heading&lt;/h1&gt;&quot;);
document.write(&quot;&lt;p&gt;This is a paragraph.&lt;/p&gt;&quot;);
&lt;/script&gt;</code></pre><p>æ‚¨åªèƒ½åœ¨ HTML è¾“å‡ºæµä¸­ä½¿ç”¨ document.writeã€‚ å¦‚æœæ‚¨åœ¨æ–‡æ¡£å·²åŠ è½½åä½¿ç”¨å®ƒï¼ˆæ¯”å¦‚åœ¨å‡½æ•°ä¸­ï¼‰ï¼Œä¼šè¦†ç›–æ•´ä¸ªæ–‡æ¡£ã€‚</p>
<a id="more"></a>


<h5 id="ç‚¹å‡»äº‹ä»¶ï¼Œéƒ½éœ€è¦åˆ†å·æ‹¬èµ·æ¥"><a href="#ç‚¹å‡»äº‹ä»¶ï¼Œéƒ½éœ€è¦åˆ†å·æ‹¬èµ·æ¥" class="headerlink" title="ç‚¹å‡»äº‹ä»¶ï¼Œéƒ½éœ€è¦åˆ†å·æ‹¬èµ·æ¥"></a>ç‚¹å‡»äº‹ä»¶ï¼Œéƒ½éœ€è¦åˆ†å·æ‹¬èµ·æ¥</h5><p>å…ˆæ·»åŠ typeå£°æ˜æ˜¯ä¸€ä¸ªbuttonï¼Œonclickç‚¹å‡»äº‹ä»¶å¼¹çª—ï¼ˆalertå¼¹çª—dialogï¼‰ï¼Œå¼¹çª—å†…å®¹ä½¿ç”¨æ‹¬å·åŠ èµ·æ¥ï¼Œæ ‡ç­¾ä¸­é—´å£°æ˜buttonçš„å†…å®¹</p>
<pre><code>&lt;button type=&quot;button&quot; onclick=&quot;alert(&#39;Welcome!&#39;)&quot;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/button&gt;</code></pre><h5 id="æ”¹å˜htmlçš„å†…å®¹"><a href="#æ”¹å˜htmlçš„å†…å®¹" class="headerlink" title="æ”¹å˜htmlçš„å†…å®¹"></a>æ”¹å˜htmlçš„å†…å®¹</h5><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;h1&gt;æˆ‘çš„ç¬¬ä¸€æ®µ JavaScript&lt;/h1&gt;

&lt;p id = &quot;demo&quot;&gt;
JavaScript èƒ½æ”¹å˜ HTML å…ƒç´ çš„å†…å®¹ã€‚
&lt;/p&gt;

&lt;script&gt;
     funcation myFuncation()//ç±»ä¼¼äºå°è£…ä¸€ä¸ªæ–¹æ³•
{
    x= document.getElementById(&quot;demo&quot;);//æ‰¾åˆ°å…·ä½“å…ƒç´ ,ç±»ä¼¼äºandroidä¸­ID
    x.innerHTML=&quot;Hello World !&quot;
}     
&lt;/script&gt;

&lt;button type=&quot;button&quot; onclick=&quot;myFunction()&quot;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/button&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h5 id="jsæ”¹å˜å›¾ç‰‡åœ°å€"><a href="#jsæ”¹å˜å›¾ç‰‡åœ°å€" class="headerlink" title="jsæ”¹å˜å›¾ç‰‡åœ°å€"></a>jsæ”¹å˜å›¾ç‰‡åœ°å€</h5><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
&lt;script&gt;
function changeImage()
{
element=document.getElementById(&#39;myimage&#39;)//è·å¾—å›¾ç‰‡æ§ä»¶å¯¹è±¡
if (element.src.match(&quot;bulbon&quot;))//åˆ¤æ–­srcæ˜¯å¦åŒ…å«&quot;bulbon&quot;, ç±»ä¼¼äºindexOf()
  {
  element.src=&quot;/i/eg_bulboff.gif&quot;;
  }
else
  {
  element.src=&quot;/i/eg_bulbon.gif&quot;;
  }
}
&lt;/script&gt;

&lt;img id=&quot;myimage&quot; onclick=&quot;changeImage()&quot; src=&quot;/i/eg_bulboff.gif&quot;&gt;

&lt;p&gt;ç‚¹å‡»ç¯æ³¡æ¥ç‚¹äº®æˆ–ç†„ç­è¿™ç›ç¯&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><h5 id="JavaScriptï¼šæ”¹å˜-HTML-æ ·å¼"><a href="#JavaScriptï¼šæ”¹å˜-HTML-æ ·å¼" class="headerlink" title="JavaScriptï¼šæ”¹å˜ HTML æ ·å¼"></a>JavaScriptï¼šæ”¹å˜ HTML æ ·å¼</h5><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;h1&gt;æˆ‘çš„ç¬¬ä¸€æ®µ JavaScript&lt;/h1&gt;

&lt;p id=&quot;demo&quot;&gt;
JavaScript èƒ½æ”¹å˜ HTML å…ƒç´ çš„æ ·å¼ã€‚
&lt;/p&gt;

&lt;script&gt;
function myFunction()
{
x=document.getElementById(&quot;demo&quot;) // æ‰¾åˆ°å…ƒç´ 
x.style.color=&quot;#57caa1&quot;;          // æ”¹å˜æ ·å¼
}
&lt;/script&gt;

&lt;button type=&quot;button&quot; onclick=&quot;myFunction()&quot;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/button&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><h5 id="JavaScriptï¼šéªŒè¯è¾“å…¥"><a href="#JavaScriptï¼šéªŒè¯è¾“å…¥" class="headerlink" title="JavaScriptï¼šéªŒè¯è¾“å…¥"></a>JavaScriptï¼šéªŒè¯è¾“å…¥</h5><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;h1&gt;æˆ‘çš„ç¬¬ä¸€æ®µ JavaScript&lt;/h1&gt;

&lt;p&gt;è¯·è¾“å…¥æ•°å­—ã€‚å¦‚æœè¾“å…¥å€¼ä¸æ˜¯æ•°å­—ï¼Œæµè§ˆå™¨ä¼šå¼¹å‡ºæç¤ºæ¡†ã€‚&lt;/p&gt;

&lt;input id=&quot;demo&quot; type=&quot;text&quot;&gt;

&lt;script&gt;
function myFunction()
{
var x=document.getElementById(&quot;demo&quot;).value;//é€šè¿‡idå¾—åˆ°å€¼ï¼Œå»åšåˆ¤æ–­
if(x==&quot;&quot;||isNaN(x))//isNanï¼ˆï¼‰ç”¨äºåˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—ï¼Œç±»ä¼¼äºnumberç±»
    {
    alert(&quot;è¯·è¾“å…¥åˆæ³•å†…å®¹&quot;);
    }
}
&lt;/script&gt;

&lt;button type=&quot;button&quot; onclick=&quot;myFunction()&quot;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/button&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>]]></content>
  </entry>
  <entry>
    <title>androidæ—¥å¸¸å¼€å‘çš„ä¸€äº›è§„èŒƒ</title>
    <url>/2019/03/11/android%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%BA%9B%E8%A7%84%E8%8C%83/</url>
    <content><![CDATA[<ol>
<li><p>Activity é—´çš„æ•°æ®é€šä¿¡ï¼Œå¯¹äºæ•°æ®é‡æ¯”è¾ƒå¤§çš„ï¼Œé¿å…ä½¿ç”¨ Intent + Parcelable<br>çš„æ–¹å¼ï¼Œå¯ä»¥è€ƒè™‘ EventBus ç­‰æ›¿ä»£æ–¹æ¡ˆï¼Œä»¥å…é€ æˆ TransactionTooLargeException</p>
</li>
<li><p>activityéšå¼è·³è½¬ï¼Œåœ¨å‘å‡º Intent ä¹‹å‰å¿…é¡»é€šè¿‡ resolveActivityæ£€æŸ¥ï¼Œé¿å…æ‰¾ä¸åˆ°åˆé€‚çš„è°ƒç”¨ç»„ä»¶ï¼Œé€ æˆ ActivityNotFoundException çš„å¼‚å¸¸</p>
</li>
</ol>
<a id="more"></a>


<pre><code>public void viewUrl(String url, String mimeType) {
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setDataAndType(Uri.parse(url), mimeType);
if (getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_
ONLY) != null) {
try {
startActivity(intent);
} catch (ActivityNotFoundException e) {
if (Config.LOGD) {
Log.d(LOGTAG, &quot;activity not found for &quot; + mimeType + &quot; over &quot; +
Uri.parse(url). getScheme(), e);
</code></pre><ol start="3">
<li><p>é¿å…åœ¨ Service#onStartCommand()/onBind()æ–¹æ³•ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œå¦‚æœç¡®å®æœ‰éœ€æ±‚ï¼Œåº”æ”¹ç”¨ IntentService æˆ–é‡‡ç”¨å…¶ä»–å¼‚æ­¥æœºåˆ¶å®Œæˆ</p>
</li>
<li><p>é¿å…åœ¨ BroadcastReceiver#onReceive()ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œå¦‚æœæœ‰è€—æ—¶å·¥ä½œï¼Œåº”è¯¥åˆ›å»º IntentService å®Œæˆï¼Œè€Œä¸åº”è¯¥åœ¨ BroadcastReceiver å†…åˆ›å»ºå­çº¿ç¨‹å»åšã€‚<br>è¯´æ˜ï¼š<br>ç”±äºè¯¥æ–¹æ³•æ˜¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œå¦‚æœæ‰§è¡Œè€—æ—¶æ“ä½œä¼šå¯¼è‡´ UI ä¸æµç•…ã€‚å¯ä»¥ä½¿ç”¨IntentService ã€ åˆ› å»º HandlerThread æˆ– è€… è°ƒ ç”¨ Context#registerReceiver(BroadcastReceiver, IntentFilter, String, Handler)æ–¹æ³•ç­‰æ–¹å¼ï¼Œåœ¨å…¶ä»– Wroker çº¿ç¨‹æ‰§è¡Œ onReceive æ–¹æ³•ã€‚ BroadcastReceiver#onReceive()æ–¹æ³•è€—æ—¶è¶…è¿‡ 10 ç§’é’Ÿï¼Œå¯èƒ½ä¼šè¢«ç³»ç»Ÿæ€æ­»</p>
</li>
</ol>
<pre><code>IntentFilter filter = new IntentFilter();
filter.addAction(LOGIN_SUCCESS);
this.registerReceiver(mBroadcastReceiver, filter);
mBroadcastReceiver = new BroadcastReceiver() {
@Override
public void onReceive(Context context, Intent intent) {
Intent userHomeIntent = new Intent();
userHomeIntent.setClass(this, UseHomeActivity.class);
this.startActivity(userHomeIntent);
}
};</code></pre><ol start="5">
<li>æ·» åŠ  Fragment æ—¶ ï¼Œ ç¡® ä¿ FragmentTransaction#commit() åœ¨<br>Activity#onPostResume()æˆ–FragmentActivity#onResumeFragments()å†…è°ƒç”¨ã€‚<br>ä¸è¦éšæ„ä½¿ç”¨FragmentTransaction#commitAllowingStateLoss()æ¥ä»£æ›¿ï¼Œä»»ä½•<br>commitAllowingStateLoss()çš„ä½¿ç”¨å¿…é¡»ç»è¿‡ code reviewï¼Œç¡®ä¿æ— è´Ÿé¢å½±å“ã€‚</li>
</ol>
<p>è¯´æ˜å¦‚ä¸‹ï¼š</p>
<p>Activity å¯ èƒ½ å›  ä¸º å„ ç§ åŸ å›  è¢« é”€ æ¯ ï¼Œ Android æ”¯ æŒ é¡µ é¢ è¢« é”€ æ¯ å‰ é€š è¿‡<br>Activity#onSaveInstanceState() ä¿ å­˜ è‡ª å·± çš„ çŠ¶ æ€ ã€‚ ä½† å¦‚ æœ<br>FragmentTransaction.commit()å‘ç”Ÿåœ¨ Activity çŠ¶æ€ä¿å­˜ä¹‹åï¼Œå°±ä¼šå¯¼è‡´ Activity é‡<br>å»ºã€æ¢å¤çŠ¶æ€æ—¶æ— æ³•è¿˜åŸé¡µé¢çŠ¶æ€ï¼Œä»è€Œå¯èƒ½å‡ºé”™ã€‚ä¸ºäº†é¿å…ç»™ç”¨æˆ·é€ æˆä¸å¥½çš„ä½“<br>éªŒï¼Œç³»ç»Ÿä¼šæŠ›å‡º IllegalStateExceptionStateLoss å¼‚å¸¸ã€‚æ¨èçš„åšæ³•æ˜¯åœ¨ Activity çš„<br>onPostResume() æˆ– onResumeFragments() ï¼ˆ å¯¹ FragmentActivity ï¼‰ é‡Œ æ‰§ è¡Œ<br>FragmentTransaction.commit()ï¼Œå¦‚æœ‰å¿…è¦ä¹Ÿå¯åœ¨ onCreate()é‡Œæ‰§è¡Œã€‚ä¸è¦éšæ„æ”¹ç”¨<br>FragmentTransaction.commitAllowingStateLoss() æˆ– è€… ç›´ æ¥ ä½¿ ç”¨ try-catch é¿ å…<br>crashï¼Œè¿™ä¸æ˜¯é—®é¢˜çš„æ ¹æœ¬è§£å†³ä¹‹é“ï¼Œå½“ä¸”ä»…å½“ä½ ç¡®è®¤ Activity é‡å»ºã€æ¢å¤çŠ¶æ€æ—¶ï¼Œ<br>æœ¬æ¬¡ commit ä¸¢å¤±ä¸ä¼šé€ æˆå½±å“æ—¶æ‰å¯è¿™ä¹ˆåš</p>
<ol start="6">
<li><p>å¯¹äºåªç”¨äºåº”ç”¨å†…çš„å¹¿æ’­ï¼Œä¼˜å…ˆä½¿ç”¨ LocalBroadcastManager æ¥è¿›è¡Œæ³¨å†Œ<br>å’Œå‘é€ï¼ŒLocalBroadcastManager å®‰å…¨æ€§æ›´å¥½ï¼ŒåŒæ—¶æ‹¥æœ‰æ›´é«˜çš„è¿è¡Œæ•ˆç‡ã€‚<br>è¯´æ˜ï¼š<br>å¯¹äºä½¿ç”¨ Context#sendBroadcast()ç­‰æ–¹æ³•å‘é€å…¨å±€å¹¿æ’­çš„ä»£ç è¿›è¡Œæç¤ºã€‚å¦‚æœè¯¥å¹¿<br>æ’­ä»…ç”¨äºåº”ç”¨å†…ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ LocalBroadcastManager æ¥é¿å…å¹¿æ’­æ³„æ¼ä»¥åŠå¹¿æ’­è¢«<br>æ‹¦æˆªç­‰å®‰å…¨é—®é¢˜ï¼ŒåŒæ—¶ç›¸å¯¹å…¨å±€å¹¿æ’­æœ¬åœ°å¹¿æ’­çš„æ›´é«˜æ•ˆ</p>
</li>
<li><p>ä½¿ç”¨ Toast æ—¶ï¼Œå»ºè®®å®šä¹‰ä¸€ä¸ªå…¨å±€çš„ Toast å¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥é¿å…è¿ç»­æ˜¾ç¤º<br>Toast æ—¶ä¸èƒ½å–æ¶ˆä¸Šä¸€æ¬¡ Toast æ¶ˆæ¯çš„æƒ…å†µ(å¦‚æœä½ æœ‰è¿ç»­å¼¹å‡º Toast çš„æƒ…å†µï¼Œé¿å…<br>ä½¿ç”¨ Toast.makeText)</p>
</li>
<li><p>å¸ƒå±€ä¸­ä¸å¾—ä¸ä½¿ç”¨ ViewGroup å¤šé‡åµŒå¥—æ—¶ï¼Œä¸è¦ä½¿ç”¨ LinearLayout åµŒå¥—ï¼Œ<br>æ”¹ç”¨ RelativeLayoutï¼Œå¯ä»¥æœ‰æ•ˆé™ä½åµŒå¥—æ•°ã€‚<br>è¯´æ˜ï¼š<br>Android åº”ç”¨é¡µé¢ä¸Šä»»ä½•ä¸€ä¸ª View éƒ½éœ€è¦ç»è¿‡ measureã€ layoutã€ draw ä¸‰ä¸ªæ­¥éª¤<br>æ‰èƒ½è¢«æ­£ç¡®çš„æ¸²æŸ“ã€‚ä» xml layout çš„é¡¶éƒ¨èŠ‚ç‚¹å¼€å§‹è¿›è¡Œ measureï¼Œæ¯ä¸ªå­èŠ‚ç‚¹éƒ½éœ€<br>è¦å‘è‡ªå·±çš„çˆ¶èŠ‚ç‚¹æä¾›è‡ªå·±çš„å°ºå¯¸æ¥å†³å®šå±•ç¤ºçš„ä½ç½®ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­å¯èƒ½è¿˜ä¼šé‡æ–°<br>measureï¼ˆç”±æ­¤å¯èƒ½å¯¼è‡´ measure çš„æ—¶é—´æ¶ˆè€—ä¸ºåŸæ¥çš„ 2-3 å€ï¼‰ã€‚èŠ‚ç‚¹æ‰€å¤„ä½ç½®è¶Š<br>æ·±ï¼Œå¥—åµŒå¸¦æ¥çš„ measure è¶Šå¤šï¼Œè®¡ç®—å°±ä¼šè¶Šè´¹æ—¶ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‰å¹³çš„ View ç»“æ„<br>ä¼šæ€§èƒ½æ›´å¥½ã€‚<br>åŒæ—¶ï¼Œé¡µé¢æ‹¥ä¸Šçš„ View è¶Šå¤šï¼Œmeasureã€ layoutã€ draw æ‰€èŠ±è´¹çš„æ—¶é—´å°±è¶Šä¹…ã€‚è¦ç¼©<br>çŸ­è¿™ä¸ªæ—¶é—´ï¼Œå…³é”®æ˜¯ä¿æŒ View çš„æ ‘å½¢ç»“æ„å°½é‡æ‰å¹³ï¼Œè€Œä¸”è¦ç§»é™¤æ‰€æœ‰ä¸éœ€è¦æ¸²æŸ“çš„<br>Viewã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ€»å…±çš„ measureï¼Œlayoutï¼Œdraw æ—¶é—´åº”è¯¥è¢«å¾ˆå¥½çš„æ§åˆ¶åœ¨ 16ms<br>ä»¥å†…ï¼Œä»¥ä¿è¯æ»‘åŠ¨å±å¹•æ—¶ UI çš„æµç•…ã€‚<br>è¦æ‰¾åˆ°é‚£äº›å¤šä½™çš„ Viewï¼ˆå¢åŠ æ¸²æŸ“å»¶è¿Ÿçš„ viewï¼‰ï¼Œå¯ä»¥ç”¨ Android Studio Monitor<br>é‡Œçš„ Hierarachy Viewer å·¥å…·ï¼Œå¯è§†åŒ–çš„æŸ¥çœ‹æ‰€æœ‰çš„ viewã€‚</p>
</li>
<li><p>åœ¨ Application çš„ä¸šåŠ¡åˆå§‹åŒ–ä»£ç åŠ å…¥è¿›ç¨‹åˆ¤æ–­ï¼Œç¡®ä¿åªåœ¨è‡ªå·±éœ€è¦çš„è¿›ç¨‹<br>åˆå§‹åŒ–ã€‚ç‰¹åˆ«æ˜¯åå°è¿›ç¨‹å‡å°‘ä¸å¿…è¦çš„ä¸šåŠ¡åˆå§‹åŒ–ã€‚</p>
</li>
<li><p>ä¸è¦é€šè¿‡ Intent åœ¨ Android åŸºç¡€ç»„ä»¶ä¹‹é—´ä¼ é€’å¤§æ•°æ®ï¼ˆbinder transaction<br>ç¼“å­˜ä¸º 1MBï¼‰ï¼Œå¯èƒ½å¯¼è‡´ OOMã€‚</p>
</li>
<li><p>æ–°å»ºçº¿ç¨‹æ—¶ï¼Œå¿…é¡»é€šè¿‡çº¿ç¨‹æ± æä¾›ï¼ˆAsyncTask æˆ–è€… ThreadPoolExecutor<br>æˆ–è€…å…¶ä»–å½¢å¼è‡ªå®šä¹‰çš„çº¿ç¨‹æ± ï¼‰ï¼Œä¸å…è®¸åœ¨åº”ç”¨ä¸­è‡ªè¡Œæ˜¾å¼åˆ›å»ºçº¿ç¨‹ã€‚<br>è¯´æ˜ï¼š<br>ä½¿ç”¨çº¿ç¨‹æ± çš„å¥½å¤„æ˜¯å‡å°‘åœ¨åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ä¸Šæ‰€èŠ±çš„æ—¶é—´ä»¥åŠç³»ç»Ÿèµ„æºçš„å¼€é”€ï¼Œè§£<br>å†³èµ„æºä¸è¶³çš„é—®é¢˜ã€‚å¦‚æœä¸ä½¿ç”¨çº¿ç¨‹æ± ï¼Œæœ‰å¯èƒ½é€ æˆç³»ç»Ÿåˆ›å»ºå¤§é‡åŒç±»çº¿ç¨‹è€Œå¯¼è‡´<br>æ¶ˆè€—å®Œå†…å­˜æˆ–è€…â€œè¿‡åº¦åˆ‡æ¢â€çš„é—®é¢˜ã€‚ å¦å¤–åˆ›å»ºåŒ¿åçº¿ç¨‹ä¸ä¾¿äºåç»­çš„èµ„æºä½¿ç”¨åˆ†æï¼Œ<br>å¯¹æ€§èƒ½åˆ†æç­‰ä¼šé€ æˆå›°æ‰°ã€‚</p>
<pre><code>int NUMBER_OF_CORES = Runtime.getRuntime().availableProcessors();
int KEEP_ALIVE_TIME = 1;
TimeUnit KEEP_ALIVE_TIME_UNIT = TimeUnit.SECONDS;
BlockingQueue&lt;Runnable&gt; taskQueue = new LinkedBlockingQueue&lt;Runnable&gt;();
ExecutorService executorService = new ThreadPoolExecutor(NUMBER_OF_CORES,
NUMBER_OF_CORES*2, KEEP_ALIVE_TIME, KEEP_ALIVE_TIME_UNIT, taskQueue,
new BackgroundThreadFactory(), new DefaultRejectedExecutionHandler());
//æ‰§è¡Œä»»åŠ¡
executorService.execute(new Runnnable() {
...
});</code></pre></li>
<li><p>çº¿ç¨‹æ± ä¸å…è®¸ä½¿ç”¨ Executors å»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ ThreadPoolExecutor çš„æ–¹<br>å¼ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜ç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£é™©Executors è¿”å›çš„çº¿ç¨‹æ± å¯¹è±¡çš„å¼Šç«¯å¦‚ä¸‹ï¼š<br>1) FixedThreadPool å’Œ SingleThreadPool ï¼š å… è®¸ çš„ è¯· æ±‚ é˜Ÿ åˆ— é•¿ åº¦ ä¸º<br>Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´ OOMï¼›<br>2) CachedThreadPool å’Œ ScheduledThreadPool ï¼š å… è®¸ çš„ åˆ› å»º çº¿ ç¨‹ æ•° é‡ ä¸º<br>Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çš„çº¿ç¨‹ï¼Œä»è€Œå¯¼è‡´ OOMã€‚<br>æ­£ä¾‹ï¼š</p>
</li>
</ol>
<pre><code>int NUMBER_OF_CORES = Runtime.getRuntime().availableProcessors();
int KEEP_ALIVE_TIME = 1;
TimeUnit KEEP_ALIVE_TIME_UNIT = TimeUnit.SECONDS;
BlockingQueue&lt;Runnable&gt; taskQueue = new LinkedBlockingQueue&lt;Runnable&gt;();
ExecutorService executorService = new ThreadPoolExecutor(NUMBER_OF_CORES,
NUMBER_OF_CORES*2, KEEP_ALIVE_TIME, KEEP_ALIVE_TIME_UNIT,
taskQueue, new BackgroundThreadFactory(), new DefaultRejectedExecutionHandler());</code></pre><ol start="13">
<li><p>ç¦ æ­¢ åœ¨ å¤š è¿› ç¨‹ ä¹‹ é—´ ç”¨ SharedPreferences å…± äº« æ•° æ® ï¼Œ è™½ ç„¶ å¯ ä»¥<br>(MODE_MULTI_PROCESS)ï¼Œä½†å®˜æ–¹å·²ä¸æ¨è</p>
</li>
<li><p>ThreadPoolExecutor è®¾ç½®çº¿ç¨‹å­˜æ´»æ—¶é—´(setKeepAliveTime)ï¼Œç¡®ä¿ç©ºé—²æ—¶<br>çº¿ç¨‹èƒ½è¢«é‡Šæ”¾</p>
</li>
<li><p>è°¨æ…ä½¿ç”¨ Android çš„å¤šè¿›ç¨‹ï¼Œå¤šè¿›ç¨‹è™½ç„¶èƒ½å¤Ÿé™ä½ä¸»è¿›ç¨‹çš„å†…å­˜å‹åŠ›ï¼Œä½†ä¼š<br>é‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š<br>1) ä¸èƒ½å®ç°å®Œå…¨é€€å‡ºæ‰€æœ‰ Activity çš„åŠŸèƒ½ï¼›<br>2) é¦–æ¬¡è¿›å…¥æ–°å¯åŠ¨è¿›ç¨‹çš„é¡µé¢æ—¶ä¼šæœ‰å»¶æ—¶çš„ç°è±¡ï¼ˆæœ‰å¯èƒ½é»‘å±ã€ç™½å±å‡ ç§’ï¼Œæ˜¯ç™½<br>å±è¿˜æ˜¯é»‘å±å’Œæ–° Activity çš„ä¸»é¢˜æœ‰å…³ï¼‰ï¼›<br>3) åº”ç”¨å†…å¤šè¿›ç¨‹æ—¶ï¼ŒApplication å®ä¾‹åŒ–å¤šæ¬¡ï¼Œéœ€è¦è€ƒè™‘å„ä¸ªæ¨¡å—æ˜¯å¦éƒ½éœ€è¦åœ¨æ‰€<br>æœ‰è¿›ç¨‹ä¸­åˆå§‹åŒ–ï¼›<br>4) å¤šè¿›ç¨‹é—´é€šè¿‡ SharedPreferences å…±äº«æ•°æ®æ—¶ä¸ç¨³å®š</p>
</li>
</ol>
<p>16.åº”ç”¨é—´å…±äº«æ–‡ä»¶æ—¶ï¼Œä¸è¦é€šè¿‡æ”¾å®½æ–‡ä»¶ç³»ç»Ÿæƒé™çš„æ–¹å¼å»å®ç°ï¼Œè€Œåº”ä½¿ç”¨<br>FileProviderã€‚</p>
<ol start="17">
<li><p>SharedPreference æ äº¤ æ•° æ® æ—¶ ï¼Œ å°½ é‡ ä½¿ ç”¨ Editor#apply() ï¼Œ è€Œ é<br>Editor#commit()ã€‚ä¸€èˆ¬æ¥è®²ï¼Œä»…å½“éœ€è¦ç¡®å®šæäº¤ç»“æœï¼Œå¹¶æ®æ­¤æœ‰åç»­æ“ä½œæ—¶ï¼Œæ‰ä½¿<br>ç”¨ Editor#commit()ã€‚<br>è¯´æ˜ï¼š<br>SharedPreference ç›¸å…³ä¿®æ”¹ä½¿ç”¨ apply æ–¹æ³•è¿›è¡Œæäº¤ä¼šå…ˆå†™å…¥å†…å­˜ï¼Œç„¶åå¼‚æ­¥å†™å…¥<br>ç£ç›˜ï¼Œcommit æ–¹æ³•æ˜¯ç›´æ¥å†™å…¥ç£ç›˜ã€‚å¦‚æœé¢‘ç¹æ“ä½œçš„è¯ apply çš„æ€§èƒ½ä¼šä¼˜äº commitï¼Œapply ä¼šå°†æœ€åä¿®æ”¹å†…å®¹å†™å…¥ç£ç›˜ã€‚ä½†æ˜¯å¦‚æœå¸Œæœ›ç«‹åˆ»è·å–å­˜å‚¨æ“ä½œçš„ç»“æœï¼Œå¹¶æ®æ­¤<br>åšç›¸åº”çš„å…¶ä»–æ“ä½œï¼Œåº”å½“ä½¿ç”¨ commitã€‚</p>
</li>
<li><p>å¤šçº¿ç¨‹æ“ä½œå†™å…¥æ•°æ®åº“æ—¶ï¼Œéœ€è¦ä½¿ç”¨äº‹åŠ¡ï¼Œä»¥å…å‡ºç°åŒæ­¥é—®é¢˜ã€‚<br>è¯´æ˜ï¼š<br>Android çš„é€šè¿‡ SQLiteOpenHelper è·å–æ•°æ®åº“ SQLiteDatabase å®ä¾‹ï¼ŒHelper ä¸­ä¼š<br>è‡ªåŠ¨ç¼“å­˜å·²ç»æ‰“å¼€çš„ SQLiteDatabase å®ä¾‹ï¼Œå•ä¸ª App ä¸­åº”ä½¿ç”¨ SQLiteOpenHelper<br>çš„å•ä¾‹æ¨¡å¼ç¡®ä¿æ•°æ®åº“è¿æ¥å”¯ä¸€ã€‚ç”±äº SQLite è‡ªèº«æ˜¯æ•°æ®åº“çº§é”ï¼Œå•ä¸ªæ•°æ®åº“æ“ä½œ<br>æ˜¯ä¿è¯çº¿ç¨‹å®‰å…¨çš„ï¼ˆä¸èƒ½åŒæ—¶å†™å…¥ï¼‰ï¼Œtransaction æ—¶ä¸€æ¬¡åŸå­æ“ä½œï¼Œå› æ­¤å¤„äºäº‹åŠ¡ä¸­<br>çš„æ“ä½œæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<br>è‹¥åŒæ—¶æ‰“å¼€å¤šä¸ªæ•°æ®åº“è¿æ¥ï¼Œå¹¶é€šè¿‡å¤šçº¿ç¨‹å†™å…¥æ•°æ®åº“ï¼Œä¼šå¯¼è‡´æ•°æ®åº“å¼‚å¸¸ï¼Œæç¤º<br>æ•°æ®åº“å·²è¢«é”ä½</p>
</li>
</ol>
<pre><code>public void insertUserPhoto(SQLiteDatabase db, String userId, String content) {
ContentValues cv = new ContentValues();
cv.put(&quot;userId&quot;, userId);
cv.put(&quot;content&quot;, content);
db.beginTransaction();
try {
db.insert(TUserPhoto, null, cv);
// å…¶ä»–æ“ä½œ
db.setTransactionSuccessful();
} catch (Exception e) {
// TODO
} finally {
db.endTransaction();
}
}</code></pre><ol start="19">
<li><p>å¤§æ•°æ®å†™å…¥æ•°æ®åº“æ—¶ï¼Œè¯·ä½¿ç”¨äº‹åŠ¡æˆ–å…¶ä»–èƒ½å¤Ÿæé«˜ I/O æ•ˆç‡çš„æœºåˆ¶ï¼Œä¿è¯æ‰§è¡Œé€Ÿåº¦ã€‚</p>
</li>
<li><p>åŠ è½½å¤§å›¾ç‰‡æˆ–è€…ä¸€æ¬¡æ€§åŠ è½½å¤šå¼ å›¾ç‰‡ï¼Œåº”è¯¥åœ¨å¼‚æ­¥çº¿ç¨‹ä¸­è¿›è¡Œã€‚å›¾ç‰‡çš„åŠ è½½ï¼Œæ¶‰åŠåˆ° IO æ“ä½œï¼Œä»¥åŠ CPU å¯†é›†æ“ä½œï¼Œå¾ˆå¯èƒ½å¼•èµ·å¡é¡¿</p>
</li>
<li><p>png å›¾ç‰‡ä½¿ç”¨ tinypng æˆ–è€…ç±»ä¼¼å·¥å…·å‹ç¼©å¤„ç†ï¼Œå‡å°‘åŒ…ä½“ç§¯ã€‚</p>
</li>
<li><p>åœ¨ Activity.onPause()æˆ– Activity.onStop()å›è°ƒä¸­ï¼Œå…³é—­å½“å‰ activity æ­£åœ¨æ‰§<br>è¡Œçš„çš„åŠ¨ç”»ã€‚</p>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>Rxjava2.0ç¬”è®°-005-åˆ¤æ–­æ€§æ“ä½œç¬¦</title>
    <url>/2019/03/10/Rxjava2.0%E7%AC%94%E8%AE%B0-005-%E5%88%A4%E6%96%AD%E6%80%A7%E6%93%8D%E4%BD%9C%E7%AC%A6/</url>
    <content><![CDATA[<h3 id="all"><a href="#all" class="headerlink" title="all"></a>all</h3><pre><code> /**
     * åˆ¤æ–­å‘é€çš„æ¯é¡¹æ•°æ®æ˜¯å¦éƒ½æ»¡è¶³ è®¾ç½®çš„å‡½æ•°æ¡ä»¶
     */
    private void useAll() {

        Observable.just(1, 2, 3, 4, 5)
                .all(new Predicate&lt;Integer&gt;() {
                    @Override
                    public boolean test(Integer integer) throws Exception {
                        return integer &lt;= 10;
                    }
                }).subscribe(new Consumer&lt;Boolean&gt;() {
            @Override
            public void accept(Boolean aBoolean) throws Exception {

                KLog.d(TTAG, &quot;ç»“æœæ˜¯&quot; + aBoolean);
            }
        });
    }</code></pre><a id="more"></a>

<h3 id="TakeWhile"><a href="#TakeWhile" class="headerlink" title="TakeWhile"></a>TakeWhile</h3><pre><code> // 1. æ¯1så‘é€1ä¸ªæ•°æ® = ä»0å¼€å§‹ï¼Œé€’å¢1ï¼Œå³0ã€1ã€2ã€3
        Observable.interval(1, TimeUnit.SECONDS)
                // 2. é€šè¿‡takeWhileä¼ å…¥ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶
                .takeWhile(new Predicate&lt;Long&gt;() {
                    @Override
                    public boolean test(Long integer) throws Exception {
                        return (integer &lt; 3);
                        // å½“å‘é€çš„æ•°æ®æ»¡è¶³&lt;3æ—¶ï¼Œæ‰å‘é€Observableçš„æ•°æ®
                    }
                }).subscribe(new Observer&lt;Long&gt;() {
            @Override
            public void onSubscribe(Disposable d) {
            }

            @Override
            public void onNext(Long value) {
                KLog.d(TTAG, &quot;å‘é€äº†äº‹ä»¶ &quot; + value);
            }

            @Override
            public void onError(Throwable e) {
            }

            @Override
            public void onComplete() {
            }
        });
</code></pre><h3 id="skipWhile"><a href="#skipWhile" class="headerlink" title="skipWhile"></a>skipWhile</h3><pre><code>// 1. æ¯éš”1så‘é€1ä¸ªæ•°æ® = ä»0å¼€å§‹ï¼Œæ¯æ¬¡é€’å¢1
        Observable.interval(1, TimeUnit.SECONDS)
                // 2. é€šè¿‡skipWhileï¼ˆï¼‰è®¾ç½®åˆ¤æ–­æ¡ä»¶
                .skipWhile(new Predicate&lt;Long&gt;() {
                    @Override
                    public boolean test(Long aLong) throws Exception {
                        return (aLong &lt; 5);
                        // ç›´åˆ°åˆ¤æ–­æ¡ä»¶ä¸æˆç«‹ = false = å‘å°„çš„æ•°æ®â‰¥5ï¼Œæ‰å¼€å§‹å‘é€æ•°æ®
                    }
                }).subscribe(new Observer&lt;Long&gt;() {
            @Override
            public void onSubscribe(Disposable d) {
            }

            @Override
            public void onNext(Long value) {
                KLog.d(TTAG, &quot;å‘é€äº†äº‹ä»¶ &quot; + value);
            }

            @Override
            public void onError(Throwable e) {
            }

            @Override
            public void onComplete() {
            }
        });</code></pre><h3 id="sequenceEqual"><a href="#sequenceEqual" class="headerlink" title="sequenceEqual"></a>sequenceEqual</h3><pre><code> Observable.sequenceEqual(
                Observable.just(4, 5, 6),
                Observable.just(4, 5, 6)
        )
                .subscribe(aBoolean -&gt; {
                    KLog.d(TTAG, &quot;2ä¸ªObservableæ˜¯å¦ç›¸åŒï¼š&quot; + aBoolean);
                    // è¾“å‡ºè¿”å›ç»“æœ
                });</code></pre><h3 id="contains"><a href="#contains" class="headerlink" title="contains"></a>contains</h3><pre><code> /**
     * åˆ¤æ–­å‘é€çš„æ•°æ®ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šæ•°æ®
     * &lt;p&gt;
     * è‹¥åŒ…å«ï¼Œè¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› false
     * å†…éƒ¨å®ç° = existsï¼ˆï¼‰
     */
    private void contains() {
        Observable.just(1, 2, 3, 4, 5, 6)
                .contains(4)
                .subscribe(aBoolean -&gt; {
                    KLog.d(TTAG, &quot;result is &quot; + aBoolean);
                    // è¾“å‡ºè¿”å›ç»“æœ
                });
    }</code></pre>]]></content>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰viewçš„ä¸€èˆ¬æ­¥éª¤</title>
    <url>/2019/03/08/%E8%87%AA%E5%AE%9A%E4%B9%89view%E7%9A%84%E4%B8%80%E8%88%AC%E6%AD%A5%E9%AA%A4/</url>
    <content><![CDATA[<h2 id="è‡ªå®šä¹‰EditTextå°è£…å¸¸ç”¨åŠŸèƒ½"><a href="#è‡ªå®šä¹‰EditTextå°è£…å¸¸ç”¨åŠŸèƒ½" class="headerlink" title="è‡ªå®šä¹‰EditTextå°è£…å¸¸ç”¨åŠŸèƒ½"></a>è‡ªå®šä¹‰EditTextå°è£…å¸¸ç”¨åŠŸèƒ½</h2><blockquote>
<p>è¯¥ä»£ç å‚è€ƒä»¥ä¸‹å®Œæˆ:<a href="https://github.com/Carson-Ho/SuperEditText" target="_blank" rel="noopener">SuperEditText</a></p>
</blockquote>
<h4 id="è‡ªå®šä¹‰æ­¥éª¤å¦‚ä¸‹ï¼š"><a href="#è‡ªå®šä¹‰æ­¥éª¤å¦‚ä¸‹ï¼š" class="headerlink" title="è‡ªå®šä¹‰æ­¥éª¤å¦‚ä¸‹ï¼š"></a>è‡ªå®šä¹‰æ­¥éª¤å¦‚ä¸‹ï¼š</h4><ol>
<li>æ·»åŠ è‡ªå®šä¹‰å±æ€§attrs.xmlæ–‡ä»¶ï¼š</li>
</ol>
<blockquote>
<p>å…³äºè‡ªå®šä¹‰å±æ€§å‚è€ƒ:  <a href="https://www.jianshu.com/p/42396bbadf33" target="_blank" rel="noopener">Androidè‡ªå®šä¹‰å±æ€§</a></p>
</blockquote>
<a id="more"></a>

<p>2.åˆå§‹åŒ–èµ„æºIDï¼Œä»¥åŠå¯¹åº”å°ºå¯¸å¤§å°</p>
<pre><code>  // è·å–æ§ä»¶èµ„æº
        TypedArray typedArray = context.obtainStyledAttributes(attrs, R.styleable.JustEditText);

        //1.ç‚¹å‡»çŠ¶æ€æ—¶å·¦ä¾§å›¾æ ‡
        ic_left_clickResID = typedArray.getResourceId(R.styleable.JustEditText_ic_left_click, R.drawable.ic_left_click);
        ic_left_click = ContextCompat.getDrawable(context, ic_left_clickResID);
</code></pre><p>3.è¿›è¡Œdpè½¬åŒ–pxå•ä½</p>
<pre><code>  /**
     * æ ¹æ®æ‰‹æœºçš„åˆ†è¾¨ç‡ä» dp çš„å•ä½ è½¬æˆä¸º px(åƒç´ )
     */
    public int dpTopx(float dpValue) {
        final float scale = mContext.getResources().getDisplayMetrics().density;
        return (int) (dpValue * scale + 0.5f);
    }

    /**
     * æ ¹æ®æ‰‹æœºçš„åˆ†è¾¨ç‡ä» px(åƒç´ ) çš„å•ä½ è½¬æˆä¸º dp
     */
    public int pxTodp(float pxValue) {
        final float scale = mContext.getResources().getDisplayMetrics().density;
        return (int) (pxValue / scale + 0.5f);
    }</code></pre><p>4.åˆå§‹åŒ–ç”»ç¬”ï¼Œç»˜åˆ¶</p>
<pre><code> @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        mPaint.setColor(color);
        setTextColor(color);
        // ç»˜åˆ¶åˆ†å‰²çº¿
        // éœ€è¦è€ƒè™‘ï¼šå½“è¾“å…¥é•¿åº¦è¶…è¿‡è¾“å…¥æ¡†æ—¶ï¼Œæ‰€ç”»çš„çº¿éœ€è¦è·Ÿéšç€å»¶ä¼¸
        // è§£å†³æ–¹æ¡ˆï¼šçº¿çš„é•¿åº¦ = æ§ä»¶é•¿åº¦ + å»¶ä¼¸åçš„é•¿åº¦
        int x=this.getScrollX(); // è·å–å»¶ä¼¸åçš„é•¿åº¦
        int w=this.getMeasuredWidth(); // è·å–æ§ä»¶é•¿åº¦

        // ä¼ å…¥å‚æ•°æ—¶ï¼Œçº¿çš„é•¿åº¦ = æ§ä»¶é•¿åº¦ + å»¶ä¼¸åçš„é•¿åº¦
                canvas.drawLine(0, this.getMeasuredHeight()- linePosition, w+x,
                        this.getMeasuredHeight() - linePosition, mPaint);

    }
</code></pre><p>5.æ·»åŠ ç‚¹å‡»äº‹ä»¶<code>onTouchEvent</code><br>Â·Â·Â·<br> @Override<br>    public boolean onTouchEvent(MotionEvent event) {</p>
<pre><code>    switch (event.getAction()) {
        case MotionEvent.ACTION_UP:

            Drawable drawable = ic_delete;
            if (null != drawable &amp;&amp;
                    event.getX() &lt;= (getWidth() - getPaddingRight()) &amp;&amp;
                    event.getX() &gt;= (getWidth() - getPaddingRight() - drawable.getBounds().width())) {

                // åˆ¤æ–­æ¡ä»¶è¯´æ˜
                // event.getX() ï¼šæŠ¬èµ·æ—¶çš„ä½ç½®åæ ‡
                // getWidth()ï¼šæ§ä»¶çš„å®½åº¦
                // getPaddingRight():åˆ é™¤å›¾æ ‡å›¾æ ‡å³è¾¹ç¼˜è‡³EditTextæ§ä»¶å³è¾¹ç¼˜çš„è·ç¦»
                // å³ï¼šgetWidth() - getPaddingRight() = åˆ é™¤å›¾æ ‡çš„å³è¾¹ç¼˜åæ ‡ = X1
                // getWidth() - getPaddingRight() - drawable.getBounds().width() = åˆ é™¤å›¾æ ‡å·¦è¾¹ç¼˜çš„åæ ‡ = X2
                // æ‰€ä»¥X1ä¸X2ä¹‹é—´çš„åŒºåŸŸ = åˆ é™¤å›¾æ ‡çš„åŒºåŸŸ
                // å½“æ‰‹æŒ‡æŠ¬èµ·çš„ä½ç½®åœ¨åˆ é™¤å›¾æ ‡çš„åŒºåŸŸï¼ˆX2=&lt;event.getX() &lt;=X1ï¼‰ï¼Œå³è§†ä¸ºç‚¹å‡»äº†åˆ é™¤å›¾æ ‡ = æ¸…ç©ºæœç´¢æ¡†å†…å®¹

                setText(&quot;&quot;);
            }
            break;
        default:
            break;
    }
    return super.onTouchEvent(event);
}</code></pre><p>Â·Â·Â·</p>
<p>6.è‡ªå®šä¹‰å±æ€§å¦‚ä¸‹ï¼šè‡ªå®šä¹‰EditTextï¼šå±æ€§å¦‚ä¸‹ï¼šæš‚ä¸æ”¯æŒä»£ç åŠ¨æ€è®¾ç½®</p>
<p>å·²ä¸Šä¼ åˆ°<code>jitpack</code>æ·»åŠ å¦‚ä¸‹ä¾èµ–å³å¯ä½¿ç”¨ï¼š</p>
<pre><code>dependencies {
      compile &#39;com.github.ALguojian:justedittext:1.0&#39;
}</code></pre><p><img src="http://upload-images.jianshu.io/upload_images/7426378-3b6bab896f6a2891.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="095196333906964CCD876CAFFFCDA3C8.jpg"></p>
<pre><code> android:hint=&quot;è¯·è¾“å…¥è´¦å·&quot;
        android:textSize=&quot;14dp&quot;
        //æ ‡è¯†ç¬¦
        app:cursor=&quot;@drawable/cursor&quot;
        //åˆ é™¤æŒ‰é’®é«˜åº¦
        app:delete_height=&quot;10dp&quot;
        //åˆ é™¤æŒ‰é’®å®½åº¦
        app:delete_width=&quot;10dp&quot;
        //åˆ é™¤æŒ‰é’®è·ç¦»å·¦è¾¹ä½ç½®
        app:delete_x=&quot;0dp&quot;
        //åˆ é™¤æŒ‰é’®è·ç¦»ä¸Šè¾¹ä½ç½®
        app:delete_y=&quot;0dp&quot;
        //åˆ é™¤æŒ‰é’®å›¾ç‰‡èµ„æº
        app:ic_delete=&quot;@drawable/delete&quot;
        //å·¦è¾¹å›¾ç‰‡è·å¾—ç„¦ç‚¹èµ„æºID
        app:ic_left_click=&quot;@drawable/mine_guide2&quot;
        //å·¦è¾¹å›¾ç‰‡æœªè·å¾—ç„¦ç‚¹èµ„æºID
        app:ic_left_unclick=&quot;@drawable/mine_guide&quot;
        //å·¦è¾¹å›¾ç‰‡é«˜åº¦
        app:left_height=&quot;10dp&quot;
        //å·¦è¾¹å›¾ç‰‡å®½åº¦
        app:left_width=&quot;10dp&quot;
        app:left_x=&quot;0dp&quot;
        app:left_y=&quot;0dp&quot;

        //è¾“å…¥æ¡†å†…è·å¾—ç„¦ç‚¹æ—¶å€™å­—ä½“é¢œè‰²
        app:lineColor_click=&quot;@color/lineColor_click&quot;
        app:lineColor_unclick=&quot;@color/lineColor_unclick&quot;</code></pre>]]></content>
  </entry>
  <entry>
    <title>Androidè‡ªå®šä¹‰å±æ€§</title>
    <url>/2019/03/07/Android%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7/</url>
    <content><![CDATA[<h3 id="1-è‡ªå®šä¹‰å±æ€§éœ€è¦ç”¨xmlæ–‡ä»¶æ·»åŠ ï¼š"><a href="#1-è‡ªå®šä¹‰å±æ€§éœ€è¦ç”¨xmlæ–‡ä»¶æ·»åŠ ï¼š" class="headerlink" title="1.è‡ªå®šä¹‰å±æ€§éœ€è¦ç”¨xmlæ–‡ä»¶æ·»åŠ ï¼š"></a>1.è‡ªå®šä¹‰å±æ€§éœ€è¦ç”¨xmlæ–‡ä»¶æ·»åŠ ï¼š</h3><p>  åœ¨<code>res/values</code>ä¸‹é¢æ·»åŠ attrs.xmlæ–‡ä»¶</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;resources&gt;
    &lt;declare-styleable name=&quot;JustEditText&quot;&gt;

        &lt;attr name=&quot;ic_delete&quot; format=&quot;reference&quot; /&gt;
        &lt;attr name=&quot;delete_x&quot; format=&quot;integer&quot;  /&gt;
        &lt;attr name=&quot;delete_y&quot; format=&quot;integer&quot;  /&gt;
        &lt;attr name=&quot;delete_width&quot; format=&quot;integer&quot;  /&gt;
        &lt;attr name=&quot;delete_height&quot; format=&quot;integer&quot;  /&gt;

        &lt;attr name=&quot;ic_left_click&quot; format=&quot;reference&quot; /&gt;
        &lt;attr name=&quot;ic_left_unclick&quot; format=&quot;reference&quot; /&gt;
        &lt;attr name=&quot;left_x&quot; format=&quot;integer&quot;  /&gt;
        &lt;attr name=&quot;left_y&quot; format=&quot;integer&quot;  /&gt;
        &lt;attr name=&quot;left_width&quot; format=&quot;integer&quot;  /&gt;
        &lt;attr name=&quot;left_height&quot; format=&quot;integer&quot;  /&gt;

        &lt;attr name=&quot;lineColor_click&quot; format=&quot;color&quot;  /&gt;
        &lt;attr name=&quot;lineColor_unclick&quot; format=&quot;color&quot;  /&gt;
        &lt;attr name=&quot;linePosition&quot; format=&quot;integer&quot;  /&gt;

        &lt;attr name=&quot;cursor&quot; format=&quot;reference&quot; /&gt;

    &lt;/declare-styleable&gt;
&lt;/resources&gt;</code></pre><a id="more"></a>


<h3 id="2-ä»£ç é‡Œé¢å¼•ç”¨èµ„æºæ–‡ä»¶"><a href="#2-ä»£ç é‡Œé¢å¼•ç”¨èµ„æºæ–‡ä»¶" class="headerlink" title="2.ä»£ç é‡Œé¢å¼•ç”¨èµ„æºæ–‡ä»¶"></a>2.ä»£ç é‡Œé¢å¼•ç”¨èµ„æºæ–‡ä»¶</h3><pre><code> TypedArray typedArray = context.obtainStyledAttributes(attrs,R.styleable.JustEditText);

 float textSize = typedArray.getDimension(R.styleable.JustEditText_delete_height,30);

 int textColor = typedArray.getColor(R.styleable.JustEditText_lineColor_click, ContextCompat.getColor(context,R.color.colorAccent1));

//ç”¨å®Œä¹‹åå›æ”¶
typedArray.recycle();
</code></pre><h3 id="3-è‡ªå®šä¹‰å±æ€§æ ¼å¼è¯¦è§£ï¼š"><a href="#3-è‡ªå®šä¹‰å±æ€§æ ¼å¼è¯¦è§£ï¼š" class="headerlink" title="3.è‡ªå®šä¹‰å±æ€§æ ¼å¼è¯¦è§£ï¼š"></a>3.è‡ªå®šä¹‰å±æ€§æ ¼å¼è¯¦è§£ï¼š</h3><ol>
<li><p>reference:å‚è€ƒæŸä¸€èµ„æºIDï¼Œå¯ä»¥è·å¾—èµ„æºIDå¯¹è±¡</p>
<ul>
<li>å±æ€§å®šä¹‰ï¼š<pre><code>&lt;declare-styleable name = &quot;åç§°&quot;&gt;
    &lt;attr name = &quot;background&quot; format = &quot;reference&quot; /&gt;
&lt;/declare-styleable&gt;</code></pre></li>
<li>ä½¿ç”¨å¦‚ä¸‹ï¼š<pre><code>&lt;ImageView
  android:layout_width = &quot;3dp&quot;
  android:layout_height = &quot;3dp&quot;
  android:background = &quot;@drawable/å›¾ç‰‡ID&quot;
/&gt;</code></pre></li>
</ul>
</li>
</ol>
<p>2.color:é¢œè‰²å€¼</p>
<ul>
<li>å±æ€§å®šä¹‰ï¼š<pre><code>&lt;declare-styleable name = &quot;åç§°&quot;&gt;
     &lt;attr name = &quot;textColor&quot; format = &quot;color&quot; /&gt;
&lt;/declare-styleable&gt;</code></pre></li>
<li>å±æ€§ä½¿ç”¨ï¼š<pre><code>&lt;TextView
     android:layout_width = &quot;4dp&quot;
     android:layout_height = &quot;4dp&quot;
     android:textColor = &quot;#57caa1&quot;
/&gt;</code></pre></li>
</ul>
<p>3.boolean:å¸ƒå°”å€¼</p>
<ul>
<li>å®šä¹‰ï¼š<pre><code>&lt;declare-styleable name = &quot;åç§°&quot;&gt;
       &lt;attr name = &quot;focusable&quot; format = &quot;boolean&quot; /&gt;
&lt;/declare-styleable&gt;</code></pre></li>
<li>ä½¿ç”¨ï¼š<pre><code>&lt;Button
     android:layout_width = &quot;42dp&quot;
     android:layout_height = &quot;42dp&quot;
     android:focusable = &quot;true&quot;
/&gt;</code></pre></li>
</ul>
<p>4.dimensionï¼šå°ºå¯¸å€¼ï¼Œè·å¾—å±æ€§å€¼ä¹‹åï¼Œå°†dpè½¬åŒ–ä¸ºpx</p>
<ul>
<li><p>å®šä¹‰ï¼š</p>
<pre><code>&lt;declare-styleable name = &quot;åç§°&quot;&gt;
    &lt;attr name = &quot;layout_width&quot; format = &quot;dimension&quot; /&gt;
&lt;/declare-styleable&gt;</code></pre></li>
<li><p>ä½¿ç”¨ï¼š</p>
<pre><code>&lt;Button
    android:layout_width = &quot;42dp&quot;
    android:layout_height = &quot;42dp&quot;
/&gt;</code></pre></li>
</ul>
<p>5.floatï¼šæµ®ç‚¹å€¼,å¾ˆå°‘ç”¨ä¸€èˆ¬éƒ½æ˜¯integer</p>
<ul>
<li><p>å®šä¹‰ï¼š</p>
<pre><code>&lt;declare-styleable name = &quot;AlphaAnimation&quot;&gt;

   &lt;attr name = &quot;fromAlpha&quot; format = &quot;float&quot; /&gt;
   &lt;attr name = &quot;toAlpha&quot; format = &quot;float&quot; /&gt;
&lt;/declare-styleable&gt;</code></pre></li>
<li><p>ä½¿ç”¨ï¼š</p>
<pre><code>&lt;alpha
  android:fromAlpha = &quot;1.0&quot;
  android:toAlpha = &quot;0.7&quot;
/&gt;</code></pre></li>
</ul>
<p>6.integer:æ•´å‹å€¼</p>
<ul>
<li><p>å®šä¹‰ï¼š</p>
<pre><code>&lt;declare-styleable name = &quot;AnimatedRotateDrawable&quot;&gt;
    &lt;attr name = &quot;visible&quot; /&gt;
    &lt;attr name = &quot;frameDuration&quot; format=&quot;integer&quot; /&gt;
    &lt;attr name = &quot;framesCount&quot; format=&quot;integer&quot; /&gt;
    &lt;attr name = &quot;pivotX&quot; /&gt;
    &lt;attr name = &quot;pivotY&quot; /&gt;
    &lt;attr name = &quot;drawable&quot; /&gt;
&lt;/declare-styleable&gt;</code></pre></li>
<li><p>ä½¿ç”¨ï¼š</p>
<pre><code>&lt;animated-rotate
     xmlns:android = &quot;[http://schemas.android.com/apk/res/android]  
      android:drawable = &quot;@drawable/å›¾ç‰‡ID&quot; 
      android:pivotX = &quot;50%&quot; 
      android:pivotY = &quot;50%&quot; 
      android:framesCount = &quot;12&quot; 
      android:frameDuration = &quot;100&quot;
/&gt;
</code></pre></li>
</ul>
<pre><code>
7. stringï¼šå­—ç¬¦ä¸²

- å®šä¹‰ï¼š</code></pre><declare-styleable name="MapView">
    <attr name="apiKey" format="string">
</attr></declare-styleable>
```

<ul>
<li>ä½¿ç”¨ï¼š<pre><code>&lt;MapView
  android:layout_width = &quot;fill_parent&quot;
 android:layout_height = &quot;fill_parent&quot;
 android:apiKey = &quot;0jOkQ80oD1JL9C6HAja99uGXCRiS2CGjKO_bc_g&quot;
/&gt;</code></pre></li>
</ul>
<p>8.fractionï¼šç™¾åˆ†æ•°</p>
<ul>
<li><p>å®šä¹‰ï¼š</p>
<pre><code>&lt;declare-styleable name=&quot;RotateDrawable&quot;&gt;
      &lt;attr name = &quot;visible&quot; /&gt;
      &lt;attr name = &quot;fromDegrees&quot; format = &quot;float&quot; /&gt;
      &lt;attr name = &quot;toDegrees&quot; format = &quot;float&quot; /&gt;
      &lt;attr name = &quot;pivotX&quot; format = &quot;fraction&quot; /&gt;
      &lt;attr name = &quot;pivotY&quot; format = &quot;fraction&quot; /&gt;
      &lt;attr name = &quot;drawable&quot; /&gt;
&lt;/declare-styleable&gt;</code></pre></li>
<li><p>ä½¿ç”¨ï¼š</p>
</li>
</ul>
<pre><code> &lt;rotate  
      android:interpolator = &quot;@anim/åŠ¨ç”»ID&quot;
      android:fromDegrees = &quot;0&quot;
      android:toDegrees = &quot;360&quot;
      android:pivotX = &quot;200%&quot;
      android:pivotY = &quot;300%&quot;
      android:duration = &quot;5000&quot;
      android:repeatMode = &quot;restart&quot;
      android:repeatCount = &quot;infinite&quot;
 /&gt;</code></pre><p>9.enumï¼šæšä¸¾å€¼</p>
<ul>
<li><p>å®šä¹‰ï¼š</p>
<pre><code>&lt;declare-styleable name=&quot;åç§°&quot;&gt;
    &lt;attr name=&quot;orientation&quot;&gt;
    &lt;enum name=&quot;horizontal&quot; value=&quot;0&quot; /&gt;
    &lt;enum name=&quot;vertical&quot; value=&quot;1&quot; /&gt;
    &lt;/attr&gt;           
&lt;/declare-styleable&gt;</code></pre></li>
<li><p>ä½¿ç”¨ï¼š</p>
<pre><code>&lt;LinearLayout
   xmlns:android = &quot;[http://schemas.android.com/apk/res/android](http://schemas.android.com/apk/res/android)&quot;
   android:orientation = &quot;vertical&quot;
   android:layout_width = &quot;fill_parent&quot;
   android:layout_height = &quot;fill_parent&quot;&gt;
&lt;/LinearLayout&gt;</code></pre></li>
</ul>
<p>10.flag:ä½æˆ–è¿ç®—</p>
<ul>
<li><p>å®šä¹‰ï¼š</p>
<pre><code>&lt;declare-styleable name=&quot;åç§°&quot;&gt;
       &lt;attr name=&quot;windowSoftInputMode&quot;&gt;
       &lt;flag name = &quot;stateUnspecified&quot; value = &quot;0&quot; /&gt;
       &lt;flag name = &quot;stateUnchanged&quot; value = &quot;1&quot; /&gt;
       &lt;flag name = &quot;stateHidden&quot; value = &quot;2&quot; /&gt;
       &lt;flag name = &quot;stateAlwaysHidden&quot; value = &quot;3&quot; /&gt;
       &lt;flag name = &quot;stateVisible&quot; value = &quot;4&quot; /&gt;
       &lt;flag name = &quot;stateAlwaysVisible&quot; value = &quot;5&quot; /&gt;
       &lt;flag name = &quot;adjustUnspecified&quot; value = &quot;0x00&quot; /&gt;
       &lt;flag name = &quot;adjustResize&quot; value = &quot;0x10&quot; /&gt;
       &lt;flag name = &quot;adjustPan&quot; value = &quot;0x20&quot; /&gt;
       &lt;flag name = &quot;adjustNothing&quot; value = &quot;0x30&quot; /&gt;
       &lt;/attr&gt;        
&lt;/declare-styleable&gt;</code></pre></li>
<li><p>ç”¨æ³•ï¼š</p>
<pre><code>&lt;activity
   android:name = &quot;.StyleAndThemeActivity&quot;
   android:label = &quot;@string/app_name&quot;
   android:windowSoftInputMode = &quot;stateUnspecified | stateUnchangedã€€|ã€€stateHidden&quot;&gt;
      &lt;intent-filter&gt;
          &lt;action android:name = &quot;android.intent.action.MAIN&quot; /&gt;
          &lt;category android:name = &quot;android.intent.category.LAUNCHER&quot; /&gt;
      &lt;/intent-filter&gt;
&lt;/activity&gt;</code></pre></li>
</ul>
<p>å±æ€§å®šä¹‰æ—¶å¯ä»¥åˆ¶å®šå¤šç§ç±»å‹ï¼š</p>
<pre><code> &lt;declare-styleable name = &quot;åç§°&quot;&gt;
         &lt;attr name = &quot;background&quot; format = &quot;reference|color&quot; /&gt;
&lt;/declare-styleable&gt;</code></pre><p>ä½¿ç”¨ï¼š</p>
<pre><code>&lt;ImageView
    android:layout_width = &quot;42dip&quot;
    android:layout_height = &quot;42dip&quot;
    android:background = &quot;@drawable/å›¾ç‰‡ID|#00FF00&quot;
/&gt;</code></pre>]]></content>
  </entry>
  <entry>
    <title>Rxjava2.0ç¬”è®°-004-åˆå¹¶,è¿‡æ»¤æ“ä½œç¬¦å®é™…åº”ç”¨</title>
    <url>/2019/03/05/Rxjava2.0%E7%AC%94%E8%AE%B0-004-%E5%90%88%E5%B9%B6,%E8%BF%87%E6%BB%A4%E6%93%8D%E4%BD%9C%E7%AC%A6%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8/</url>
    <content><![CDATA[<p>å…³äºåˆå¹¶æ•°æ®æºï¼šä¹‹å‰ä½¿ç”¨äº†flatMap()ä»¥åŠconcatMapï¼ˆï¼‰è¿›è¡ŒåµŒå¥—è°ƒç”¨ï¼Œï¼Œæ³¨å†Œä¹‹åç™»é™†</p>
<p>åˆå¹¶æ•°æ®æº2ï¼šåˆå¹¶æ•°æ®ï¼ˆè·å–å›¾ä¹¦è¯¦æƒ…ä»¥åŠè¯„è®ºï¼‰ç»Ÿä¸€å±•ç¤ºåˆ°å®¢æˆ·ç«¯ï¼šé‡‡ç”¨merge()æˆ–è€…zipï¼ˆï¼‰æ“ä½œç¬¦</p>
<blockquote>
<p>mergeï¼ˆï¼‰ä¾‹å­ï¼šå®ç°è¾ƒä¸ºç®€å•çš„ä»ï¼ˆç½‘ç»œ+æœ¬åœ°ï¼‰è·å–æ•°æ®ï¼Œï¼Œç»Ÿä¸€å±•ç¤º</p>
</blockquote>
<blockquote>
<p>zipï¼ˆï¼‰ä¾‹å­ï¼šç»“åˆ<code>Retrofit</code>ä»¥åŠRxjava,å®ç°å¤šä¸ªç½‘ç»œè¯·æ±‚åˆå¹¶è·å¾—æ•°æ®ï¼Œï¼Œç»Ÿä¸€å±•ç¤º</p>
</blockquote>
<blockquote>
<p>äºŒè€…åŒºåˆ«ä¸ºï¼šmerge()åªæ·»åŠ è¢«è§‚å¯Ÿè€…åˆå¹¶æ•°æ®æºçš„æ“ä½œåœ¨observableè§‚å¯Ÿè€…çš„onnextï¼ˆï¼‰é‡Œé¢å¤„ç†ï¼Œè¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶çš„ç»“æœåœ¨<code>onCompleteï¼ˆï¼‰</code>å¤„ç†ï¼Œzipï¼ˆï¼‰å¯ä»¥ç›´æ¥æ·»åŠ å‘å°„è€…ï¼Œå†æ·»åŠ åˆå¹¶æ•°æ®æºçš„beanï¼Œåœ¨è½¬ä¸»çº¿ç¨‹ï¼Œè®¢é˜…ï¼Œå¯ä»¥ä½¿ç”¨<code>new Consumer&lt;Bean&gt;() )</code>é‡Œé¢å¤„ç†åˆå¹¶ç»“æœ</p>
</blockquote>
<a id="more"></a>


<pre><code>/**
     * åˆå¹¶å‘å°„è€…ï¼ŒæŒ‰æ—¶é—´çº¿æ‰§è¡Œ
     * åˆå¹¶äº‹ä»¶ï¼Œè¿˜æ˜¯mergeï¼ˆï¼‰æ¯”è¾ƒæ–¹ä¾¿å¥½ç”¨
     */

    String resultss = &quot;æ•°æ®æºæ¥è‡ªï¼š&quot;;

    private void merge() {

//        Observable.merge(
//                //å»¶è¿Ÿå‘é€æ“ä½œç¬¦
//                //ä»0å¼€å§‹å‘é€ï¼Œå‘é€3ä¸ªæ•°æ®ï¼Œç¬¬ä¸€æ¬¡å‘ä»¶å»¶è¿Ÿæ—¶é—´1ç§’ã€‚é—´éš”æ—¶é—´1s
//                //
//                Observable.intervalRange(0,3,1,1,TimeUnit.SECONDS),
//                Observable.intervalRange(2,3,1,1,TimeUnit.SECONDS)
//        ).subscribe(aLong -&gt; {
//
//        });

        Observable.merge(
                Observable.just(&quot;ç½‘ç»œ&quot;),
                Observable.just(&quot;æœ¬åœ°æ–‡ä»¶&quot;)
        ).subscribe(new Observer&lt;String&gt;() {
            @Override
            public void onSubscribe(Disposable d) {
            }
            @Override
            public void onNext(String s) {
                resultss += s;
            }
            @Override
            public void onError(Throwable e) {
            }
            @Override
            public void onComplete() {

                KLog.d(TTAG, &quot;æ¥æ”¶å®Œæˆç»Ÿä¸€å¤„ç†äº‹ä»¶ï¼š&quot; + resultss);
            }
        });
    }</code></pre><h3 id="ä¸‹é¢ä½¿ç”¨zipæ“ä½œï¼š"><a href="#ä¸‹é¢ä½¿ç”¨zipæ“ä½œï¼š" class="headerlink" title="ä¸‹é¢ä½¿ç”¨zipæ“ä½œï¼š"></a>ä¸‹é¢ä½¿ç”¨zipæ“ä½œï¼š</h3><pre><code>  /**
     * åˆå¹¶æ•°æ®æº
     */
    private void zip() {

        Observable.zip(
                retrofitApi.getCall().subscribeOn(Schedulers.io()),
                retrofitApi.getCall().subscribeOn(Schedulers.io()),
                (translation, translation2) -&gt;
                        translation.toString() + translation2.toString())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(s -&gt; {

                    KLog.d(TTAG, &quot;åˆå¹¶çš„æ•°æ®æºæ˜¯ï¼š&quot; + s.toString());
                }, throwable -&gt; {

                });
    }</code></pre><h3 id="concatï¼ˆï¼‰å®ä¾‹"><a href="#concatï¼ˆï¼‰å®ä¾‹" class="headerlink" title="concatï¼ˆï¼‰å®ä¾‹"></a>concatï¼ˆï¼‰å®ä¾‹</h3><pre><code> /**
     * è¯¥ç±»å‹çš„æ“ä½œç¬¦çš„ä½œç”¨ = ç»„åˆå¤šä¸ªè¢«è§‚å¯Ÿè€…
     * ç»„åˆå¤šä¸ªè¢«è§‚å¯Ÿè€…ä¸€èµ·å‘é€æ•°æ®ï¼Œåˆå¹¶å æŒ‰å‘é€é¡ºåºä¸²è¡Œæ‰§è¡Œ
     * concat()
     * concatArray()
     * 
     * å®ä¾‹ï¼šä»å†…å­˜ä»¥åŠç£ç›˜å’Œç½‘ç»œè·å–ç¼“å­˜
     */

    String memoryCache = null;
    String diskCache = &quot;ç£ç›˜ç¼“å­˜æ•°æ®&quot;;

    private void concat() {


        Observable.concat(
                Observable.create(emitter -&gt; {

                    //åˆ¤æ–­å†…å­˜æ˜¯å¦å«æœ‰ç¼“å­˜
                    if (null == memoryCache) {
                        emitter.onComplete();
                    } else {
                        emitter.onNext(memoryCache);
                    }
                }),
                Observable.create(emitter -&gt; {

                    //åˆ¤æ–­ç£ç›˜
                    if (null == diskCache) {
                        emitter.onComplete();
                    } else {
                        emitter.onNext(diskCache);
                    }
                }),
                Observable.create((ObservableOnSubscribe&lt;String&gt;) emitter -&gt; {

                    emitter.onNext(&quot;ä»ç½‘ç»œè·å–ç¼“å­˜æ•°æ®&quot;);
                })
                //é€šè¿‡firstElement()ï¼Œä»ä¸²è”é˜Ÿåˆ—ä¸­å–å‡ºå¹¶å‘é€ç¬¬1ä¸ªæœ‰æ•ˆäº‹ä»¶ï¼ˆNextäº‹ä»¶ï¼‰ï¼Œå³ä¾æ¬¡åˆ¤æ–­æ£€æŸ¥memoryã€diskã€network
        ).firstElement()
                // å³æœ¬ä¾‹çš„é€»è¾‘ä¸ºï¼š
                // a. firstElement()å–å‡ºç¬¬1ä¸ªäº‹ä»¶ = memoryï¼Œå³å…ˆåˆ¤æ–­å†…å­˜ç¼“å­˜ä¸­æœ‰æ— æ•°æ®ç¼“å­˜ï¼›ç”±äºmemoryCache = nullï¼Œå³å†…å­˜ç¼“å­˜ä¸­æ— æ•°æ®ï¼Œæ‰€ä»¥å‘é€ç»“æŸäº‹ä»¶ï¼ˆè§†ä¸ºæ— æ•ˆäº‹ä»¶ï¼‰
                // b. firstElement()ç»§ç»­å–å‡ºç¬¬2ä¸ªäº‹ä»¶ = diskï¼Œå³åˆ¤æ–­ç£ç›˜ç¼“å­˜ä¸­æœ‰æ— æ•°æ®ç¼“å­˜ï¼šç”±äºdiskCache â‰  nullï¼Œå³ç£ç›˜ç¼“å­˜ä¸­æœ‰æ•°æ®ï¼Œæ‰€ä»¥å‘é€Nextäº‹ä»¶ï¼ˆæœ‰æ•ˆäº‹ä»¶ï¼‰
                // c. å³firstElement()å·²å‘å‡ºç¬¬1ä¸ªæœ‰æ•ˆäº‹ä»¶ï¼ˆdiskäº‹ä»¶ï¼‰ï¼Œæ‰€ä»¥åœæ­¢åˆ¤æ–­ã€‚

                .subscribe(s -&gt; {

                    KLog.d(TTAG, &quot;ç¼“å­˜è·å¾—è·¯å¾„æ˜¯ï¼š&quot; + s.toString());
                });
    }</code></pre><h3 id="combineLatestï¼ˆï¼‰å®ä¾‹"><a href="#combineLatestï¼ˆï¼‰å®ä¾‹" class="headerlink" title="combineLatestï¼ˆï¼‰å®ä¾‹"></a>combineLatestï¼ˆï¼‰å®ä¾‹</h3><p>è¿›è¡Œå¤šä¸ªè¾“å…¥æ¡†åˆ¤æ–­ï¼Œæœ‰ä¸€ä¸ªä¸ºç©ºæ—¶æŒ‰é’®ä¸å¯ç‚¹å‡»ï¼Œéƒ½ä¸ä¸ºç©ºæ—¶æ‰å¯ä»¥ç‚¹å‡»ï¼ˆå¹¶ä¸”æ”¹å˜è¾“å…¥æ¡†é¢œè‰²ï¼‰</p>
<pre><code> /**
     * é€šè¿‡combineLatestï¼ˆï¼‰åˆå¹¶äº‹ä»¶ &amp; è”åˆåˆ¤æ–­
     * &lt;p&gt;
     * å½“ä¸¤ä¸ªObservablesä¸­çš„ä»»ä½•ä¸€ä¸ªå‘é€äº†æ•°æ®åï¼Œ
     * å°†å…ˆå‘é€äº†æ•°æ®çš„Observables çš„æœ€æ–°ï¼ˆæœ€åï¼‰ä¸€ä¸ªæ•°æ® ä¸
     * å¦å¤–ä¸€ä¸ªObservableå‘é€çš„æ¯ä¸ªæ•°æ®ç»“åˆï¼Œæœ€ç»ˆåŸºäºè¯¥å‡½æ•°çš„ç»“æœå‘é€æ•°æ®
     */
    private void init() {

        nameObser = RxTextView.textChanges(name).skip(1);
        ageObser = RxTextView.textChanges(age).skip(1);
        jobObser = RxTextView.textChanges(job).skip(1);

        Observable.combineLatest(nameObser, ageObser, jobObser,
                (charSequence, charSequence2, charSequence3) -&gt; {
                    boolean nameIsNOtEmpty = !TextUtils.isEmpty(name.getText());

                   // boolean nameIs = !TextUtils.isEmpty(name.getText()) &amp;&amp; name.getText().toString().length() &lt;= 10;
                    boolean ageIsNotEmpty = !TextUtils.isEmpty(age.getText());
                    boolean jobIsNotEmpty = !TextUtils.isEmpty(job.getText());

                    return nameIsNOtEmpty &amp;&amp; ageIsNotEmpty &amp;&amp; jobIsNotEmpty;
                }
        ).subscribe(aBoolean -&gt; {

            KLog.d(TTAG, &quot;ç‚¹å‡»ç»“æœæ˜¯ï¼š&quot; + aBoolean);
            push.setEnabled(aBoolean);
        });
    }</code></pre><h3 id="æœ‰æ¡ä»¶çš„è½®è¯¢æ“ä½œï¼š"><a href="#æœ‰æ¡ä»¶çš„è½®è¯¢æ“ä½œï¼š" class="headerlink" title="æœ‰æ¡ä»¶çš„è½®è¯¢æ“ä½œï¼š"></a>æœ‰æ¡ä»¶çš„è½®è¯¢æ“ä½œï¼š</h3><p>ä½¿ç”¨å…³é”®å­—ï¼šrepeatWhen</p>
<pre><code>// è®¾ç½®å˜é‡ = æ¨¡æ‹Ÿè½®è¯¢æœåŠ¡å™¨æ¬¡æ•°
    private int i = 0 ;
    /**
     * æœ‰æ¡ä»¶çš„è½®è¯¢
     * ä½¿ç”¨æ“ä½œç¬¦ï¼šrepeatWhen
     */
    private void init3() {


        RetrofitApi retrofitApi = OkHttpUtils.newInstance().create(RetrofitApi.class);

        retrofitApi.getCall()
                .repeatWhen(objectObservable -&gt; {

                    // å°†åŸå§‹ Observable åœæ­¢å‘é€äº‹ä»¶çš„æ ‡è¯†ï¼ˆCompleteï¼ˆï¼‰ /  Errorï¼ˆï¼‰ï¼‰è½¬æ¢æˆ1ä¸ª Object ç±»å‹æ•°æ®ä¼ é€’ç»™1ä¸ªæ–°è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰
                    // ä»¥æ­¤å†³å®šæ˜¯å¦é‡æ–°è®¢é˜… &amp; å‘é€åŸæ¥çš„ Observableï¼Œå³è½®è¯¢
                    // æ­¤å¤„æœ‰2ç§æƒ…å†µï¼š
                    // 1. è‹¥è¿”å›1ä¸ªCompleteï¼ˆï¼‰ /  Errorï¼ˆï¼‰äº‹ä»¶ï¼Œåˆ™ä¸é‡æ–°è®¢é˜… &amp; å‘é€åŸæ¥çš„ Observableï¼Œå³è½®è¯¢ç»“æŸ
                    // 2. è‹¥è¿”å›å…¶ä½™äº‹ä»¶ï¼Œåˆ™é‡æ–°è®¢é˜… &amp; å‘é€åŸæ¥çš„ Observableï¼Œå³ç»§ç»­è½®è¯¢

                    return objectObservable.flatMap((Function&lt;Object, ObservableSource&lt;?&gt;&gt;) o -&gt; {

                        // åŠ å…¥åˆ¤æ–­æ¡ä»¶ï¼šå½“è½®è¯¢æ¬¡æ•° = 5æ¬¡åï¼Œå°±åœæ­¢è½®è¯¢
                        if (i&gt;3){
                            return Observable.error(new Throwable(&quot;è½®è¯¢ç»“æŸ&quot;));
                        }
                        // è‹¥è½®è¯¢æ¬¡æ•°ï¼œ4æ¬¡ï¼Œåˆ™å‘é€1Nextäº‹ä»¶ä»¥ç»§ç»­è½®è¯¢
                        // æ³¨ï¼šæ­¤å¤„åŠ å…¥äº†delayæ“ä½œç¬¦ï¼Œä½œç”¨ = å»¶è¿Ÿä¸€æ®µæ—¶é—´å‘é€ï¼ˆæ­¤å¤„è®¾ç½® = 2sï¼‰ï¼Œä»¥å®ç°è½®è¯¢é—´é—´éš”è®¾ç½®

                        return Observable.just(1).delay(2000, TimeUnit.MILLISECONDS);
                    });
                }).subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Observer&lt;Translation&gt;() {
                    @Override
                    public void onSubscribe(Disposable d) {

                    }

                    @Override
                    public void onNext(Translation translation) {

                        translation.show();
                        i++;
                    }

                    @Override
                    public void onError(Throwable e) {

                    }

                    @Override
                    public void onComplete() {

                    }
                });


    }
</code></pre><h3 id="æœ‰æ¡ä»¶çš„ç½‘ç»œè¯·æ±‚å‡ºé”™ï¼Œé‡è¯•ï¼Œå¯ä»¥è®¾ç½®æ¡ä»¶"><a href="#æœ‰æ¡ä»¶çš„ç½‘ç»œè¯·æ±‚å‡ºé”™ï¼Œé‡è¯•ï¼Œå¯ä»¥è®¾ç½®æ¡ä»¶" class="headerlink" title="æœ‰æ¡ä»¶çš„ç½‘ç»œè¯·æ±‚å‡ºé”™ï¼Œé‡è¯•ï¼Œå¯ä»¥è®¾ç½®æ¡ä»¶"></a>æœ‰æ¡ä»¶çš„ç½‘ç»œè¯·æ±‚å‡ºé”™ï¼Œé‡è¯•ï¼Œå¯ä»¥è®¾ç½®æ¡ä»¶</h3><pre><code> /**
     * è¯·æ±‚å‡ºé”™å»é‡å¤æŸ¥è¯¢ï¼Œå¯ä»¥è®¾ç½®æ¡ä»¶
     * ä½¿ç”¨æ“ä½œç¬¦ï¼šretryWhen
     * å‘é€ç½‘ç»œè¯·æ±‚ &amp; é€šè¿‡retryWhenï¼ˆï¼‰è¿›è¡Œé‡è¯•
     * ä¸»è¦å¼‚å¸¸æ‰ä¼šå›è°ƒretryWhenï¼ˆï¼‰è¿›è¡Œé‡è¯•
     *   å‚æ•°Observable&lt;Throwable&gt;ä¸­çš„æ³›å‹ = ä¸Šæ¸¸æ“ä½œç¬¦æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¯é€šè¿‡è¯¥æ¡ä»¶æ¥åˆ¤æ–­å¼‚å¸¸çš„ç±»å‹
     */

    // è®¾ç½®å˜é‡
    // å¯é‡è¯•æ¬¡æ•°
    private int maxConnectCount = 10;
    // å½“å‰å·²é‡è¯•æ¬¡æ•°
    private int currentRetryCount = 0;
    // é‡è¯•ç­‰å¾…æ—¶é—´
    private int waitRetryTime = 0;

    private void init4() {

        retrofitApi.getCall()
                .retryWhen(throwableObservable -&gt;

                        throwableObservable.flatMap((Function&lt;Throwable, ObservableSource&lt;?&gt;&gt;) throwable -&gt; {

                            if (throwable instanceof IOException) {

                                if (currentRetryCount &lt; maxConnectCount) {
                                    currentRetryCount++;
                                    waitRetryTime = 1000 + currentRetryCount * 1000;

                                    return Observable.just(1).delay(waitRetryTime, TimeUnit.MILLISECONDS);
                                } else {

                                    return Observable.error(new Throwable(&quot;è¶…è¿‡é‡è¯•æ¬¡æ•°ï¼š&quot; + currentRetryCount));
                                }
                            } else {
                                return Observable.error(new Throwable(&quot;å‘ç”Ÿå¼‚å¸¸ï¼Œéç½‘ç»œ&quot;));
                            }
                        }))
                .subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Observer&lt;Translation&gt;() {
                    @Override
                    public void onSubscribe(Disposable d) {
                    }

                    @Override
                    public void onNext(Translation translation) {
                        translation.show();
                    }

                    @Override
                    public void onError(Throwable e) {
                    }

                    @Override
                    public void onComplete() {

                    }
                });
    }</code></pre><h3 id="æœ‰å…³è¿‡æ»¤æ“ä½œç¬¦"><a href="#æœ‰å…³è¿‡æ»¤æ“ä½œç¬¦" class="headerlink" title="æœ‰å…³è¿‡æ»¤æ“ä½œç¬¦"></a>æœ‰å…³è¿‡æ»¤æ“ä½œç¬¦</h3><h4 id="ofType"><a href="#ofType" class="headerlink" title="ofType"></a>ofType</h4><pre><code>  /**
     * è¿‡æ»¤æ“ä½œç¬¦
     */
    private void useOfType() {

        Observable.just(1, &quot;asd&quot;, 2, 3, 4, &quot;qwe&quot;)
                .ofType(Integer.class)
                .subscribe(integer -&gt; {

                    KLog.d(TTAG, &quot;è·å¾—çš„æ•´å‹æ¶ˆæ¯äº‹ä»¶æ˜¯ï¼š&quot; + integer);

                });
    }</code></pre><h4 id="Skipï¼Œï¼Œï¼ŒSkipLast"><a href="#Skipï¼Œï¼Œï¼ŒSkipLast" class="headerlink" title="Skipï¼Œï¼Œï¼ŒSkipLast"></a>Skipï¼Œï¼Œï¼ŒSkipLast</h4><pre><code>  /**
     * è·³è½¬å¼€å¤´å’Œè·³è¿‡ç»“å°¾æ¶ˆæ¯
     */
    private void userSkipAndSkipLast() {

        // ä½¿ç”¨1ï¼šæ ¹æ®é¡ºåºè·³è¿‡æ•°æ®é¡¹
        Observable.just(1, 2, 3, 4, 5)
                .skip(1) // è·³è¿‡æ­£åºçš„å‰1é¡¹
                .skipLast(2) // è·³è¿‡æ­£åºçš„å2é¡¹
                .subscribe(integer -&gt; KLog.d(TTAG, &quot;è·å–åˆ°çš„æ•´å‹äº‹ä»¶å…ƒç´ æ˜¯ï¼š &quot; + integer));

// ä½¿ç”¨2ï¼šæ ¹æ®æ—¶é—´è·³è¿‡æ•°æ®é¡¹
        // å‘é€äº‹ä»¶ç‰¹ç‚¹ï¼šå‘é€æ•°æ®0-5ï¼Œæ¯éš”1så‘é€ä¸€æ¬¡ï¼Œæ¯æ¬¡é€’å¢1ï¼›ç¬¬1æ¬¡å‘é€å»¶è¿Ÿ0s
        Observable.intervalRange(0, 5, 0, 1, TimeUnit.SECONDS)
                .skip(1, TimeUnit.SECONDS) // è·³è¿‡ç¬¬1så‘é€çš„æ•°æ®
                .skipLast(1, TimeUnit.SECONDS) // è·³è¿‡æœ€å1så‘é€çš„æ•°æ®
                .subscribe(along -&gt; KLog.d(TTAG, &quot;è·å–åˆ°çš„æ•´å‹äº‹ä»¶å…ƒç´ æ˜¯ï¼š &quot; + along));
    }
</code></pre><h4 id="throttleFirstï¼ˆï¼‰ï¼Œï¼ŒthrottleLastï¼ˆï¼‰"><a href="#throttleFirstï¼ˆï¼‰ï¼Œï¼ŒthrottleLastï¼ˆï¼‰" class="headerlink" title="throttleFirstï¼ˆï¼‰ï¼Œï¼ŒthrottleLastï¼ˆï¼‰"></a>throttleFirstï¼ˆï¼‰ï¼Œï¼ŒthrottleLastï¼ˆï¼‰</h4><p>åœ¨æŸæ®µæ—¶é—´å†…ï¼Œåªå‘é€è¯¥æ®µæ—¶é—´å†…ç¬¬1æ¬¡äº‹ä»¶ / æœ€å1æ¬¡äº‹ä»¶</p>
<pre><code>&lt;&lt;- åœ¨æŸæ®µæ—¶é—´å†…ï¼Œåªå‘é€è¯¥æ®µæ—¶é—´å†…ç¬¬1æ¬¡äº‹ä»¶ -&gt;&gt;
Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; e) throws Exception {
                // éš”æ®µäº‹ä»¶å‘é€æ—¶é—´
                e.onNext(1);
                Thread.sleep(500);

                e.onNext(2);
                Thread.sleep(400);

                e.onNext(3);
                Thread.sleep(300);

                Thread.sleep(300);
                e.onComplete();
            }
        }).throttleFirst(1, TimeUnit.SECONDS)//æ¯1ç§’ä¸­é‡‡ç”¨æ•°æ®
                .subscribe(new Observer&lt;Integer&gt;() {
                    @Override
                    public void onSubscribe(Disposable d) {
                        Log.d(TAG, &quot;å¼€å§‹é‡‡ç”¨subscribeè¿æ¥&quot;);
                    }

                    @Override
                    public void onNext(Integer value) {
                        Log.d(TAG, &quot;æ¥æ”¶åˆ°äº†äº‹ä»¶&quot;+ value  );
                    }

                    @Override
                    public void onError(Throwable e) {
                        Log.d(TAG, &quot;å¯¹Erroräº‹ä»¶ä½œå‡ºå“åº”&quot;);
                    }

                    @Override
                    public void onComplete() {
                        Log.d(TAG, &quot;å¯¹Completeäº‹ä»¶ä½œå‡ºå“åº”&quot;);
                    }
                });


&lt;&lt;- åœ¨æŸæ®µæ—¶é—´å†…ï¼Œåªå‘é€è¯¥æ®µæ—¶é—´å†…æœ€å1æ¬¡äº‹ä»¶ -&gt;&gt;
Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; e) throws Exception {
                // éš”æ®µäº‹ä»¶å‘é€æ—¶é—´
                e.onNext(1);
                Thread.sleep(500);

                e.onNext(2);
                Thread.sleep(400);

                Thread.sleep(300);
                e.onComplete();
            }
        }).throttleLast(1, TimeUnit.SECONDS)//æ¯1ç§’ä¸­é‡‡ç”¨æ•°æ®
                .subscribe(new Observer&lt;Integer&gt;() {
                    @Override
                    public void onSubscribe(Disposable d) {
                        KLog.d(TTAG, &quot;å¼€å§‹é‡‡ç”¨subscribeè¿æ¥&quot;);
                    }

                    @Override
                    public void onNext(Integer value) {
                        KLog.d(TTAG, &quot;æ¥æ”¶åˆ°äº†äº‹ä»¶&quot;+ value  );
                    }

                    @Override
                    public void onError(Throwable e) {
                        KLog.d(TTAG, &quot;å¯¹Erroräº‹ä»¶ä½œå‡ºå“åº”&quot;);
                    }

                    @Override
                    public void onComplete() {
                       K Log.d(TTAG, &quot;å¯¹Completeäº‹ä»¶ä½œå‡ºå“åº”&quot;);
                    }
                });</code></pre><p>å®é™…åº”ç”¨ï¼šè§„å®šæ—¶é—´å†…ï¼Œå¤šæ¬¡ç‚¹å‡»æŒ‰é’®ç¦æ­¢å¤šæ¬¡æ“ä½œä½¿ç”¨throttleFirstï¼Œæ“ä½œç¬¦</p>
<pre><code>        RxView.clicks(button)
                .throttleFirst(2, TimeUnit.SECONDS)  // æ‰å‘é€ 2så†…ç¬¬1æ¬¡ç‚¹å‡»æŒ‰é’®çš„äº‹ä»¶
                .subscribe(new Observer&lt;Object&gt;() {
                    @Override
                    public void onSubscribe(Disposable d) {  
                    }
                    @Override
                    public void onNext(Object value) {
                    }

                    @Override
                    public void onError(Throwable e) {
                    }

                    @Override
                    public void onComplete() {
                    }
                });</code></pre><h4 id="Sampleï¼ˆï¼‰å®ä¾‹åº”ç”¨å®æ—¶æœç´¢"><a href="#Sampleï¼ˆï¼‰å®ä¾‹åº”ç”¨å®æ—¶æœç´¢" class="headerlink" title="Sampleï¼ˆï¼‰å®ä¾‹åº”ç”¨å®æ—¶æœç´¢"></a>Sampleï¼ˆï¼‰å®ä¾‹åº”ç”¨å®æ—¶æœç´¢</h4><p>åœ¨æŸæ®µæ—¶é—´å†…ï¼Œåªå‘é€è¯¥æ®µæ—¶é—´å†…æœ€æ–°ï¼ˆæœ€åï¼‰1æ¬¡äº‹ä»¶,ä¸ throttleLastï¼ˆï¼‰ æ“ä½œç¬¦ç±»ä¼¼</p>
<h4 id="throttleWithTimeout-ï¼ˆï¼‰-debounceï¼ˆï¼‰"><a href="#throttleWithTimeout-ï¼ˆï¼‰-debounceï¼ˆï¼‰" class="headerlink" title="throttleWithTimeout ï¼ˆï¼‰ / debounceï¼ˆï¼‰"></a>throttleWithTimeout ï¼ˆï¼‰ / debounceï¼ˆï¼‰</h4><p>å‘é€æ•°æ®äº‹ä»¶æ—¶ï¼Œè‹¥2æ¬¡å‘é€äº‹ä»¶çš„é—´éš”ï¼œæŒ‡å®šæ—¶é—´ï¼Œå°±ä¼šä¸¢å¼ƒå‰ä¸€æ¬¡çš„æ•°æ®ï¼Œç›´åˆ°æŒ‡å®šæ—¶é—´å†…éƒ½æ²¡æœ‰æ–°æ•°æ®å‘å°„æ—¶æ‰ä¼šå‘é€åä¸€æ¬¡çš„æ•°æ®</p>
<pre><code>        RxTextView.textChanges(ed)
                .debounce(1, TimeUnit.SECONDS)
                .skip(1) //è·³è¿‡ ç¬¬1æ¬¡è¯·æ±‚ = åˆå§‹è¾“å…¥æ¡†çš„ç©ºå­—ç¬¦çŠ¶æ€
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Observer&lt;CharSequence&gt;() {
                    @Override
                    public void onSubscribe(Disposable d) {
                    }
                    @Override
                    public void onNext(CharSequence charSequence) {
                        tv.setText(&quot;å‘é€ç»™æœåŠ¡å™¨çš„å­—ç¬¦ = &quot; + charSequence.toString());
                    }
                    @Override
                    public void onError(Throwable e) {

                    }
                    @Override
                    public void onComplete() {
                      }
                });</code></pre><h4 id="firstElementï¼ˆï¼‰-ï¼Œï¼Œ-lastElementï¼ˆï¼‰"><a href="#firstElementï¼ˆï¼‰-ï¼Œï¼Œ-lastElementï¼ˆï¼‰" class="headerlink" title="firstElementï¼ˆï¼‰ ï¼Œï¼Œ lastElementï¼ˆï¼‰"></a>firstElementï¼ˆï¼‰ ï¼Œï¼Œ lastElementï¼ˆï¼‰</h4><p>ä»…é€‰å–ç¬¬1ä¸ªå…ƒç´  ï¼Œï¼Œæœ€åä¸€ä¸ªå…ƒç´ </p>
<pre><code>// è·å–ç¬¬1ä¸ªå…ƒç´ 
        Observable.just(1, 2, 3, 4, 5)
                  .firstElement()
                  .subscribe(new Consumer&lt;Integer&gt;() {
                      @Override
                      public void accept( Integer integer) throws Exception {
                          KLog.d(TTAG,&quot;è·å–åˆ°çš„ç¬¬ä¸€ä¸ªäº‹ä»¶æ˜¯ï¼š &quot;+ integer);
                      }
        });

// è·å–æœ€å1ä¸ªå…ƒç´ 
        Observable.just(1, 2, 3, 4, 5)
                .lastElement()
                .subscribe(new Consumer&lt;Integer&gt;() {
                    @Override
                    public void accept( Integer integer) throws Exception {
                        KLog.d(TTAG,&quot;è·å–åˆ°çš„æœ€å1ä¸ªäº‹ä»¶æ˜¯ï¼š &quot;+ integer);
                    }
                });</code></pre><h4 id="elementAt"><a href="#elementAt" class="headerlink" title="elementAt()"></a>elementAt()</h4><p>æŒ‡å®šæ¥æ”¶æŸä¸ªæ¶ˆæ¯ï¼Œæ ¹æ®ç´¢å¼•ï¼Œå¯ä»¥è®¾ç½®é»˜è®¤æ¶ˆæ¯</p>
<pre><code>  private void userEleMentAt() {
        // ä½¿ç”¨1ï¼šè·å–ä½ç½®ç´¢å¼• = 2çš„ å…ƒç´ 
        // ä½ç½®ç´¢å¼•ä»0å¼€å§‹
        Observable.just(1, 2, 3, 4, 5)
                .elementAt(2)
                .subscribe(integer -&gt; KLog.d(TTAG,&quot;è·å–åˆ°çš„äº‹ä»¶å…ƒç´ æ˜¯ï¼š &quot;+ integer));

// ä½¿ç”¨2ï¼šè·å–çš„ä½ç½®ç´¢å¼• ï¼ å‘é€äº‹ä»¶åºåˆ—é•¿åº¦æ—¶ï¼Œè®¾ç½®é»˜è®¤å‚æ•°
        Observable.just(1, 2, 3, 4, 5)
                .elementAt(6,10)
                .subscribe(integer -&gt; KLog.d(TTAG,&quot;è·å–åˆ°çš„äº‹ä»¶å…ƒç´ æ˜¯ï¼š &quot;+ integer));
    }
</code></pre><h4 id="elementAtOrErrorï¼ˆï¼‰"><a href="#elementAtOrErrorï¼ˆï¼‰" class="headerlink" title="elementAtOrErrorï¼ˆï¼‰"></a>elementAtOrErrorï¼ˆï¼‰</h4><p>åœ¨elementAtï¼ˆï¼‰çš„åŸºç¡€ä¸Šï¼Œå½“å‡ºç°è¶Šç•Œæƒ…å†µï¼ˆå³è·å–çš„ä½ç½®ç´¢å¼• ï¼ å‘é€äº‹ä»¶åºåˆ—é•¿åº¦ï¼‰æ—¶ï¼Œå³æŠ›å‡ºå¼‚å¸¸</p>
<pre><code> private void userElementAtOrError() {
        Observable.just(1, 2, 3, 4, 5)
                .elementAtOrError(6)
                .subscribe(integer -&gt; KLog.d(TTAG,&quot;è·å–åˆ°çš„äº‹ä»¶å…ƒç´ æ˜¯ï¼š &quot;+ integer));

    }</code></pre>]]></content>
  </entry>
  <entry>
    <title>Rxjava2.0ç¬”è®°-003-æ“ä½œç¬¦-æ­é…Retrofit</title>
    <url>/2019/03/04/Rxjava2.0%E7%AC%94%E8%AE%B0-003-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%90%AD%E9%85%8DRetrofit/</url>
    <content><![CDATA[<h3 id="1-ä½¿ç”¨intervalè¿›è¡Œè½®è¯¢æ“ä½œï¼Œç±»ä¼¼äºè¯·æ±‚ç”¨æˆ·æ¶ˆæ¯ï¼ˆä¹‹å‰ä¸€ç›´ä½¿ç”¨handlerï¼‰"><a href="#1-ä½¿ç”¨intervalè¿›è¡Œè½®è¯¢æ“ä½œï¼Œç±»ä¼¼äºè¯·æ±‚ç”¨æˆ·æ¶ˆæ¯ï¼ˆä¹‹å‰ä¸€ç›´ä½¿ç”¨handlerï¼‰" class="headerlink" title="1. ä½¿ç”¨intervalè¿›è¡Œè½®è¯¢æ“ä½œï¼Œç±»ä¼¼äºè¯·æ±‚ç”¨æˆ·æ¶ˆæ¯ï¼ˆä¹‹å‰ä¸€ç›´ä½¿ç”¨handlerï¼‰"></a>1. ä½¿ç”¨<code>interval</code>è¿›è¡Œè½®è¯¢æ“ä½œï¼Œç±»ä¼¼äºè¯·æ±‚ç”¨æˆ·æ¶ˆæ¯ï¼ˆä¹‹å‰ä¸€ç›´ä½¿ç”¨handlerï¼‰</h3><pre><code> /**
     * è½®è¯¢æŸ¥è¯¢æ¥å£-ä½¿ç”¨æ“ä½œç¬¦interval
     * æ­¤å¤„ä¸»è¦å±•ç¤ºæ— é™æ¬¡è½®è¯¢ï¼Œè‹¥è¦å®ç°æœ‰é™æ¬¡è½®è¯¢ï¼Œä»…éœ€å°†intervalï¼ˆï¼‰æ”¹æˆintervalRangeï¼ˆï¼‰å³å¯
     */
    private void init() {
        /**
         * å‚æ•°è¯´æ˜ï¼š
         * å‚æ•°1==ç¬¬ä¸€æ¬¡å»¶è¿Ÿæ—¶é—´ï¼Œ1ç§’åå‘é€æŸ¥è¯¢è¯·æ±‚
         * å‚æ•°2==é—´éš”æ—¶é—´
         * å‚æ•°3==å®è·µå•ä½
         * è¯¥ä¾‹å­å‘é€çš„äº‹ä»¶ç‰¹ç‚¹ï¼šå»¶è¿Ÿ2såå‘é€äº‹ä»¶ï¼Œæ¯éš”1ç§’äº§ç”Ÿ1ä¸ªæ•°å­—ï¼ˆä»0å¼€å§‹é€’å¢1ï¼Œæ— é™ä¸ªï¼‰
         */
        Observable.interval(2, 1, TimeUnit.SECONDS)
                /**
                 * æ­¥éª¤2ï¼šæ¯æ¬¡å‘é€æ•°å­—å‰å‘é€1æ¬¡ç½‘ç»œè¯·æ±‚ï¼ˆdoOnNextï¼ˆï¼‰åœ¨æ‰§è¡ŒNextäº‹ä»¶å‰è°ƒç”¨ï¼‰
                 * å³æ¯éš”1ç§’äº§ç”Ÿ1ä¸ªæ•°å­—å‰ï¼Œå°±å‘é€1æ¬¡ç½‘ç»œè¯·æ±‚ï¼Œä»è€Œå®ç°è½®è¯¢éœ€æ±‚
                 */
                .doOnNext(aLong -&gt; {
                    KLog.d(TTAG, &quot;ç¬¬&quot; + aLong + &quot;æ¬¡æŸ¥è¯¢&quot;);

                    retrofitApi.getCall()
                            .subscribeOn(Schedulers.io())
                            .observeOn(AndroidSchedulers.mainThread())
                            .subscribe(new Observer&lt;Translation&gt;() {
                                @Override
                                public void onSubscribe(Disposable d) {
                                    //åˆ‡æ–­
                                    d.dispose();
                                }
                                @Override
                                public void onNext(Translation translation) {
                                    translation.show();
                                }
                                @Override
                                public void onError(Throwable e) {
                                    KLog.d(TTAG, &quot;è¯·æ±‚å¤±è´¥äº†ï¼šå¤±è´¥åŸå› æ˜¯ï¼š&quot; + e.getMessage());
                                }
                                @Override
                                public void onComplete() {
                                    KLog.d(TTAG, &quot;æœ¬æ¬¡è¯·æ±‚ç»“æŸäº†&quot;);
                                }
                            });

                }).subscribe(aLong -&gt; {

            KLog.d(TTAG, &quot;æ¥æ”¶åˆ°è¯·æ±‚ï¼Œè¿™æ˜¯ç¬¬&quot; + aLong + &quot;æ¬¡&quot;);

        });

    }</code></pre><a id="more"></a>

<h3 id="2-å˜æ¢æ“ä½œç¬¦ï¼Œå¯¹æ—¶é—´åºåˆ—è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œä½¿å…¶è½¬å˜æˆä¸åŒçš„äº‹ä»¶-åºåˆ—"><a href="#2-å˜æ¢æ“ä½œç¬¦ï¼Œå¯¹æ—¶é—´åºåˆ—è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œä½¿å…¶è½¬å˜æˆä¸åŒçš„äº‹ä»¶-åºåˆ—" class="headerlink" title="2. å˜æ¢æ“ä½œç¬¦ï¼Œå¯¹æ—¶é—´åºåˆ—è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œä½¿å…¶è½¬å˜æˆä¸åŒçš„äº‹ä»¶/åºåˆ—"></a>2. å˜æ¢æ“ä½œç¬¦ï¼Œå¯¹æ—¶é—´åºåˆ—è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œä½¿å…¶è½¬å˜æˆä¸åŒçš„äº‹ä»¶/åºåˆ—</h3><p>å¸¸ç”¨å˜æ¢æ“ä½œç¬¦æœ‰ï¼š</p>
<ul>
<li>mapï¼ˆï¼‰</li>
<li>flatMapï¼ˆï¼‰</li>
<li>concatMapï¼ˆï¼‰</li>
<li>bufferï¼ˆï¼‰</li>
</ul>
<h4 id="2-1-Mapï¼ˆï¼‰"><a href="#2-1-Mapï¼ˆï¼‰" class="headerlink" title="2.1 Mapï¼ˆï¼‰"></a>2.1 Mapï¼ˆï¼‰</h4><p>ä½œç”¨ï¼šå¯¹ è¢«è§‚å¯Ÿè€…å‘é€çš„æ¯1ä¸ªäº‹ä»¶éƒ½é€šè¿‡ æŒ‡å®šçš„å‡½æ•° å¤„ç†ï¼Œä»è€Œå˜æ¢æˆå¦å¤–ä¸€ç§äº‹ä»¶ï¼Œ<br>å³ï¼Œ å°†è¢«è§‚å¯Ÿè€…å‘é€çš„äº‹ä»¶è½¬æ¢ä¸ºä»»æ„çš„ç±»å‹äº‹ä»¶ã€‚</p>
<p>ä¾‹å­å¦‚ä¸‹ï¼šä½¿ç”¨mapï¼ˆï¼‰æ“ä½œç¬¦ä½¿äº‹ä»¶å‚æ•°ä»æ•´å½¢å˜æ¢æˆå­—ç¬¦ä¸²ç±»å‹</p>
<pre><code>  Observable.create((ObservableOnSubscribe&lt;Integer&gt;) emitter -&gt; {

            emitter.onNext(1);
            emitter.onNext(2);
            emitter.onNext(3);
        }).map(integer -&gt;
                &quot;è¿™æ˜¯å‘é€çš„ç¬¬&quot; + integer + &quot;æ¡æ¶ˆæ¯&quot;)
                .subscribe(s -&gt;
                        KLog.d(TTAG, &quot;æ¥æ”¶äº‹ä»¶ï¼šï¼š&quot; + s));</code></pre><h4 id="2-2-flatMapï¼ˆï¼‰"><a href="#2-2-flatMapï¼ˆï¼‰" class="headerlink" title="2.2 flatMapï¼ˆï¼‰"></a>2.2 flatMapï¼ˆï¼‰</h4><p>ä½œç”¨ï¼šå°†è¢«è§‚å¯Ÿè€…å‘é€çš„äº‹ä»¶åºåˆ—è¿›è¡Œ æ‹†åˆ† &amp; å•ç‹¬è½¬æ¢ï¼Œå†åˆå¹¶æˆä¸€ä¸ªæ–°çš„äº‹ä»¶åºåˆ—ï¼Œæœ€åå†è¿›è¡Œå‘é€<br>æ— åºçš„å°†è¢«è§‚å¯Ÿè€…å‘é€çš„æ•´ä¸ªäº‹ä»¶åºåˆ—è¿›è¡Œå˜æ¢</p>
<pre><code> private void flatMap() {

        Observable.create((ObservableOnSubscribe&lt;Integer&gt;) emitter -&gt; {
            emitter.onNext(1);
            emitter.onNext(2);
            emitter.onNext(3);
        }).flatMap(integer -&gt; {
            final ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();
            for (int i = 0; i &lt; 3; i++) {
                strings.add(&quot;æˆ‘æ˜¯äº‹ä»¶&quot;+integer+&quot;æ‹†åˆ†åçš„å­äº‹ä»¶&quot;+i);
            }
            return Observable.fromIterable(strings);

        }).subscribe(s -&gt; {

            KLog.d(TTAG, s);
        });

    }</code></pre><h4 id="2-3-ConcatMapï¼ˆï¼‰"><a href="#2-3-ConcatMapï¼ˆï¼‰" class="headerlink" title="2.3 ConcatMapï¼ˆï¼‰"></a>2.3 ConcatMapï¼ˆï¼‰</h4><p>ä½œç”¨ï¼š<br>ç±»ä¼¼äºflatMapï¼ˆï¼‰ï¼Œä¸è¿‡æ˜¯æœ‰åºçš„</p>
<blockquote>
<p>æ–°åˆå¹¶ç”Ÿæˆçš„äº‹ä»¶åºåˆ—é¡ºåºæ˜¯æœ‰åºçš„ï¼Œå³ ä¸¥æ ¼æŒ‰ç…§æ—§åºåˆ—å‘é€äº‹ä»¶çš„é¡ºåº</p>
</blockquote>
<p>æ—¥å¿—å¦‚ä¸‹ï¼š</p>
<pre><code>(Main3Activity.java:61)#lambda$flatMap$2$Main3Activity ] æˆ‘æ˜¯äº‹ä»¶1æ‹†åˆ†åçš„å­äº‹ä»¶0
(Main3Activity.java:61)#lambda$flatMap$2$Main3Activity ] æˆ‘æ˜¯äº‹ä»¶1æ‹†åˆ†åçš„å­äº‹ä»¶1
(Main3Activity.java:61)#lambda$flatMap$2$Main3Activity ] æˆ‘æ˜¯äº‹ä»¶1æ‹†åˆ†åçš„å­äº‹ä»¶2
(Main3Activity.java:61)#lambda$flatMap$2$Main3Activity ] æˆ‘æ˜¯äº‹ä»¶2æ‹†åˆ†åçš„å­äº‹ä»¶0
(Main3Activity.java:61)#lambda$flatMap$2$Main3Activity ] æˆ‘æ˜¯äº‹ä»¶2æ‹†åˆ†åçš„å­äº‹ä»¶1
(Main3Activity.java:61)#lambda$flatMap$2$Main3Activity ] æˆ‘æ˜¯äº‹ä»¶2æ‹†åˆ†åçš„å­äº‹ä»¶2
(Main3Activity.java:61)#lambda$flatMap$2$Main3Activity ] æˆ‘æ˜¯äº‹ä»¶3æ‹†åˆ†åçš„å­äº‹ä»¶0
(Main3Activity.java:61)#lambda$flatMap$2$Main3Activity ] æˆ‘æ˜¯äº‹ä»¶3æ‹†åˆ†åçš„å­äº‹ä»¶1
(Main3Activity.java:61)#lambda$flatMap$2$Main3Activity ] æˆ‘æ˜¯äº‹ä»¶3æ‹†åˆ†åçš„å­äº‹ä»¶2
</code></pre><p>å®ä¾‹ï¼šæ¥å£åµŒå¥—</p>
<pre><code> /**
     * æ¥å£åˆå¹¶ï¼Œå®ä¾‹ï¼Œæ³¨å†Œç™»å½•
     */
    private void concatMap() {

        retrofitApi.getCall().subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .doOnNext(translation -&gt; {
                    translation.show();
                }).observeOn(Schedulers.io())//æ³¨å†Œçº¿ç¨‹ç»“æŸï¼Œä½œä¸ºæ–°çš„è§‚å¯Ÿè€…ï¼Œåˆ‡æ¢åˆ°ioæ­¤çº¿ç¨‹ï¼ˆç†åº”ä¸ºè®¾ç½®subscribeOn(Schedulers.io())ï¼‰
                //ä½œä¸ºè§‚å¯Ÿè€…ï¼Œä¸‹é¢åˆæœ‰æ–°çš„è§‚å¯Ÿè€…ï¼Œä»–å°±ä½œä¸ºè€çš„è§‚å¯Ÿè€…ï¼Œä¹Ÿå°±æ˜¯æ–°çš„è¢«è§‚å¯Ÿè€…ï¼Œæ‰€ä»¥è°ƒæ§çº¿ç¨‹ç”¨observeOn(Schedulers.io())
                .concatMap(translation -&gt;
                        //æ·»åŠ æ³¨å†Œå¤±è´¥æ˜¯çš„åˆ¤æ–­è¿”å›ç©ºå¯¹è±¡
                        null != translation ? retrofitApi.getCall() : Observable.empty())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(translation -&gt; {
                    translation.show();
                }, throwable -&gt; {
                    KLog.d(TTAG, throwable.getMessage());
                });
    }

</code></pre><h4 id="2-4-bufferï¼ˆï¼‰"><a href="#2-4-bufferï¼ˆï¼‰" class="headerlink" title="2.4 bufferï¼ˆï¼‰"></a>2.4 bufferï¼ˆï¼‰</h4><blockquote>
<p>ä½œç”¨ï¼šå®šæœŸä» è¢«è§‚å¯Ÿè€…ï¼ˆObervableï¼‰éœ€è¦å‘é€çš„äº‹ä»¶ä¸­ è·å–ä¸€å®šæ•°é‡çš„äº‹ä»¶ &amp; æ”¾åˆ°ç¼“å­˜åŒºä¸­ï¼Œæœ€ç»ˆå‘é€</p>
</blockquote>
<pre><code> /**
     * buffer æ“ä½œç¬¦æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œbuffer(count,skip)ï¼Œ
     * ä½œç”¨æ˜¯å°† Observable ä¸­çš„æ•°æ®æŒ‰ skip (æ­¥é•¿) åˆ†æˆæœ€å¤§ä¸è¶…è¿‡ count çš„ buffer ï¼Œç„¶åç”Ÿæˆä¸€ä¸ª  Observable ã€‚
     * &lt;p&gt;
     * æ„æ€å°±æ˜¯å–countä¸ªï¼Œå‘å°„ä¹‹åï¼Œé‡å¤´å¼€å§‹è·³è¿‡skipä¸ªï¼Œåœ¨é€‰countä¸ªå‘å°„ï¼Œä¸€ç›´åˆ°æœ€åä¸€ä¸ª
     */
    private void buffer() {

        Observable.just(1,2,3,4,5,6,7)
                .buffer(3,1)//è®¾ç½®ç¼“å­˜åŒºå¤§å°==æ¯æ¬¡ä»è¢«è§‚å¯Ÿè€…ä¸­è·å–çš„äº‹ä»¶æ•°é‡
        //æ­¥é•¿ï¼šæ¯æ¬¡è·å–æ–°äº‹ä»¶æ•°é‡
        .subscribe(integers -&gt; {

            KLog.d(TTAG, &quot;ç¼“å­˜åŒºæ•°é‡&quot;+integers.size());
            for (Integer integer : integers) {
                KLog.d(TTAG, &quot;äº‹ä»¶&quot;+integer);
            }
        });
    }
</code></pre><h3 id="3-ç»„åˆæ“ä½œç¬¦"><a href="#3-ç»„åˆæ“ä½œç¬¦" class="headerlink" title="3. ç»„åˆæ“ä½œç¬¦"></a>3. ç»„åˆæ“ä½œç¬¦</h3><h4 id="3-1-concat-ä»¥åŠconcatArray"><a href="#3-1-concat-ä»¥åŠconcatArray" class="headerlink" title="3.1 concat()ä»¥åŠconcatArray()"></a>3.1 concat()ä»¥åŠconcatArray()</h4><blockquote>
<p>ä½œç”¨ï¼šç»„åˆå¤šä¸ªè¢«è§‚å¯Ÿè€…ä¸€èµ·å‘é€æ•°æ®ï¼Œåˆå¹¶å æŒ‰å‘é€é¡ºåºä¸²è¡Œæ‰§è¡Œ</p>
</blockquote>
<blockquote>
<p>äºŒè€…åŒºåˆ«ï¼šç»„åˆè¢«è§‚å¯Ÿè€…çš„æ•°é‡ï¼Œå³concatï¼ˆï¼‰ç»„åˆè¢«è§‚å¯Ÿè€…æ•°é‡â‰¤4ä¸ªï¼Œè€ŒconcatArrayï¼ˆï¼‰åˆ™å¯ï¼4ä¸ª</p>
</blockquote>
<pre><code>  /**
     * è¯¥ç±»å‹çš„æ“ä½œç¬¦çš„ä½œç”¨ = ç»„åˆå¤šä¸ªè¢«è§‚å¯Ÿè€…
     * ç»„åˆå¤šä¸ªè¢«è§‚å¯Ÿè€…ä¸€èµ·å‘é€æ•°æ®ï¼Œåˆå¹¶å æŒ‰å‘é€é¡ºåºä¸²è¡Œæ‰§è¡Œ
     *concat()
     * concatArray()
     */
    private void concat() {

        Observable.concat(Observable.just(1,2)//å‘å°„è€…æ•°é‡ä¸è¶…è¿‡4ä¸ª
        ,Observable.just(3,4)
        ,Observable.just(7,8))
                .subscribe(integer -&gt; {
                });


        Observable.concatArray(Observable.just(1,2)//è¢«è§‚å¯Ÿè€…æ•°é‡ä¸å—é™åˆ¶
        ,Observable.just(4,5)
        ,Observable.just(7,8)
        ,Observable.just(3,6))
                .subscribe(integer -&gt; {

                });
    }</code></pre><h4 id="3-2-merge-ä»¥åŠmergeArray"><a href="#3-2-merge-ä»¥åŠmergeArray" class="headerlink" title="3.2 merge()ä»¥åŠmergeArray()"></a>3.2 merge()ä»¥åŠmergeArray()</h4><blockquote>
<p>ä½œç”¨ï¼šç»„åˆå¤šä¸ªè¢«è§‚å¯Ÿè€…ä¸€èµ·å‘é€æ•°æ®ï¼Œåˆå¹¶å æŒ‰æ—¶é—´çº¿å¹¶è¡Œæ‰§è¡Œ</p>
</blockquote>
<blockquote>
<p>åŒºåˆ«ä¸ºï¼šmerge()ç»„åˆè¢«è§‚å¯Ÿè€…æ•°é‡å°äºç­‰äº4ï¼Œåˆå¹¶åæŒ‰æ—¶é—´çº¿æ‰§è¡Œ</p>
</blockquote>
<pre><code> /**
     * åˆå¹¶å‘å°„è€…ï¼ŒæŒ‰æ—¶é—´çº¿æ‰§è¡Œ
     */
    private void merge() {

        Observable.merge(
                //å»¶è¿Ÿå‘é€æ“ä½œç¬¦
                //ä»0å¼€å§‹å‘é€ï¼Œå·¥å‘é€3ä¸ªæ•°æ®ï¼Œç¬¬ä¸€æ¬¡å‘ä»¶å»¶è¿Ÿæ—¶é—´1ç§’ã€‚é—´éš”æ—¶é—´1s
                //
                Observable.intervalRange(0,3,1,1,TimeUnit.SECONDS),
                Observable.intervalRange(2,3,1,1,TimeUnit.SECONDS)
        ).subscribe(aLong -&gt; {

        });

    }
</code></pre><h4 id="3-3-concatDelayError-ä»¥åŠmergeDelayError"><a href="#3-3-concatDelayError-ä»¥åŠmergeDelayError" class="headerlink" title="3.3 concatDelayError()ä»¥åŠmergeDelayError()"></a>3.3 concatDelayError()ä»¥åŠmergeDelayError()</h4><blockquote>
<p>ä½œç”¨ï¼šä½¿ç”¨conatä»¥åŠmergeæ“ä½œç¬¦æ—¶ï¼Œå¦‚æœæŸä¸ªå‘å°„è€…å‘å‡ºerror()æ—¶é—´ï¼Œåˆ™ä¼šæ€»ç»“æ•´ä¸ªæµç¨‹ï¼Œæˆ‘ä»¬å¸Œæœ›onErrorï¼ˆï¼‰äº‹ä»¶æ¨è¿Ÿåˆ°å…¶ä»–å‘å°„è€…éƒ½å‘é€å®Œæ—¶é—´ä¹‹ååæ‰ä¼šè§¦å‘ï¼Œå³å¯ä½¿ç”¨<code>concatDelayError()</code>ä»¥åŠ<code>mergeDelayError()</code></p>
</blockquote>
<pre><code> /**
     * ä½¿ç”¨conatä»¥åŠmergeæ“ä½œç¬¦æ—¶ï¼Œå¦‚æœæŸä¸ªå‘å°„è€…å‘å‡ºerror()æ—¶é—´ï¼Œåˆ™ä¼šæ€»ç»“æ•´ä¸ªæµç¨‹ï¼Œ
     * æˆ‘ä»¬å¸Œæœ›onErrorï¼ˆï¼‰äº‹ä»¶æ¨è¿Ÿåˆ°å…¶ä»–å‘å°„è€…éƒ½å‘é€å®Œæ—¶é—´ä¹‹ååæ‰ä¼šè§¦å‘ï¼Œ
     * å³å¯ä½¿ç”¨` concatDelayError()`ä»¥åŠ`mergeDelayError()`
     */
    private void concatArrayDelayErrorTest() {

        Observable.concatArrayDelayError(Observable.create(emitter -&gt; {

            emitter.onNext(1);
            emitter.onNext(2);
            emitter.onNext(3);
            // å‘é€Erroräº‹ä»¶ï¼Œå› ä¸ºä½¿ç”¨äº†concatDelayErrorï¼Œæ‰€ä»¥ç¬¬2ä¸ªObservableå°†ä¼šå‘é€äº‹ä»¶ï¼Œç­‰å‘é€å®Œæ¯•åï¼Œå†å‘é€é”™è¯¯äº‹ä»¶
            emitter.onError(new NullPointerException());
            emitter.onComplete();

        }),Observable.just(4,5,6))
                .subscribe(integer -&gt; {
                });
    }</code></pre><h3 id="4-åˆå¹¶å¤šä¸ªäº‹ä»¶"><a href="#4-åˆå¹¶å¤šä¸ªäº‹ä»¶" class="headerlink" title="4. åˆå¹¶å¤šä¸ªäº‹ä»¶"></a>4. åˆå¹¶å¤šä¸ªäº‹ä»¶</h3><blockquote>
<p>ä½œç”¨ï¼šè¯¥ç±»å‹çš„æ“ä½œç¬¦ä¸»è¦æ˜¯å¯¹å¤šä¸ªå‘å°„è€…ä¸­çš„äº‹ä»¶è¿›è¡Œåˆå¹¶å¤„ç†</p>
</blockquote>
<h4 id="4-1-zip-æ“ä½œç¬¦"><a href="#4-1-zip-æ“ä½œç¬¦" class="headerlink" title="4.1 zip()æ“ä½œç¬¦"></a>4.1 zip()æ“ä½œç¬¦</h4><p>ä½œç”¨ï¼šåˆå¹¶ å¤šä¸ªè¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰å‘é€çš„äº‹ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„äº‹ä»¶åºåˆ—ï¼ˆå³ç»„åˆè¿‡åçš„äº‹ä»¶åºåˆ—ï¼‰ï¼Œå¹¶æœ€ç»ˆå‘é€</p>
<pre><code> /**
     * zipï¼Œå¯ä»¥ç”¨äºæ¥å£åˆå¹¶
     * æ“ä½œç¬¦ä½¿ç”¨ä¾‹å­
     * zip ä¸“ç”¨äºåˆå¹¶äº‹ä»¶ï¼Œè¯¥åˆå¹¶ä¸æ˜¯è¿æ¥ï¼ˆè¿æ¥æ“ä½œç¬¦åé¢ä¼šè¯´ï¼‰ï¼Œ
     * è€Œæ˜¯ä¸¤ä¸¤é…å¯¹ï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œæœ€ç»ˆé…å¯¹å‡ºçš„ Observable å‘å°„äº‹ä»¶æ•°ç›®åªå’Œå°‘çš„é‚£ä¸ªç›¸åŒã€‚
     * &lt;p&gt;
     * zip ç»„åˆäº‹ä»¶çš„è¿‡ç¨‹å°±æ˜¯åˆ†åˆ«ä»å‘å°„å™¨ A å’Œå‘å°„å™¨ B å„å–å‡ºä¸€ä¸ªäº‹ä»¶æ¥ç»„åˆï¼Œå¹¶ä¸”ä¸€ä¸ªäº‹ä»¶åªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡ï¼Œ
     * ç»„åˆçš„é¡ºåºæ˜¯ä¸¥æ ¼æŒ‰ç…§äº‹ä»¶å‘é€çš„é¡ºåºæ¥è¿›è¡Œçš„ï¼Œæ‰€ä»¥ä¸Šé¢æˆªå›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œ1 æ°¸è¿œæ˜¯å’Œ A ç»“åˆçš„ï¼Œ2 æ°¸è¿œæ˜¯å’Œ B ç»“åˆçš„
     */
    public static void useZip() {

        Observable.zip(getStringObservable(), getIntegerObservable(),
                (s, integer) -&gt; s + integer).subscribe(s -&gt; KLog.d(TTAG, &quot;æ–°çš„æ¶ˆæ¯å­—æ®µæ˜¯&quot; + s));
    }

    private static Observable&lt;String&gt; getStringObservable() {
        return Observable.create((ObservableOnSubscribe&lt;String&gt;) e -&gt; {
            if (!e.isDisposed()) {
                aaa.append(&quot;asd&quot;);
                e.onNext(&quot;A&quot;);
                aaa.append(&quot;asd&quot;);
                e.onNext(&quot;B&quot;);
                aaa.append(&quot;asd&quot;);
                aaa.append(&quot;zxczxc&quot;);
                e.onNext(&quot;C&quot;);
            }
        }).subscribeOn(Schedulers.io());
    }

    private static Observable&lt;Integer&gt; getIntegerObservable() {
        return Observable.create((ObservableOnSubscribe&lt;Integer&gt;) e -&gt; {
            if (!e.isDisposed()) {

                e.onNext(1);
                aaa.append(&quot;--&quot; + 1);

                e.onNext(2);
                aaa.append(&quot;--&quot; + 2);

                e.onNext(3);
                aaa.append(&quot;--&quot; + 3);

                e.onNext(4);
                aaa.append(&quot;--&quot; + 4);

                e.onNext(5);
                aaa.append(&quot;--&quot; + 5);
            }
        }).subscribeOn(Schedulers.io());
    }</code></pre><h4 id="4-2-combineLatest"><a href="#4-2-combineLatest" class="headerlink" title="4.2 combineLatest()"></a>4.2 combineLatest()</h4><blockquote>
<p>ä½œç”¨ï¼šå½“ä¸¤ä¸ªObservablesä¸­çš„ä»»ä½•ä¸€ä¸ªå‘é€äº†æ•°æ®åï¼Œå°†å…ˆå‘é€äº†æ•°æ®çš„Observables çš„æœ€æ–°ï¼ˆæœ€åï¼‰ä¸€ä¸ªæ•°æ® ä¸ å¦å¤–ä¸€ä¸ªObservableå‘é€çš„æ¯ä¸ªæ•°æ®ç»“åˆï¼Œæœ€ç»ˆåŸºäºè¯¥å‡½æ•°çš„ç»“æœå‘é€æ•°æ®</p>
</blockquote>
<pre><code> /**
     * å½“ä¸¤ä¸ªObservablesä¸­çš„ä»»ä½•ä¸€ä¸ªå‘é€äº†æ•°æ®åï¼Œ
     * å°†å…ˆå‘é€äº†æ•°æ®çš„Observables çš„æœ€æ–°ï¼ˆæœ€åï¼‰ä¸€ä¸ªæ•°æ® ä¸
     * å¦å¤–ä¸€ä¸ªObservableå‘é€çš„æ¯ä¸ªæ•°æ®ç»“åˆï¼Œæœ€ç»ˆåŸºäºè¯¥å‡½æ•°çš„ç»“æœå‘é€æ•°æ®
     */
    private void combineLatest() {

        Observable.combineLatest(
                Observable.just(1L, 2L, 3L, 4L, 5L),
                Observable.intervalRange(0, 3, 1, 1, TimeUnit.SECONDS),
                (aLong, aLong2) -&gt; {
                    KLog.d(TTAG, aLong);
                    KLog.d(TTAG, aLong2);
                    return aLong+aLong2;
                }
        ).subscribe(aLong -&gt; {
            KLog.d(TTAG, aLong);
        });

    }
</code></pre><p>äº‹ä»¶æ¥æ”¶ç»“æœæ˜¯ï¼š</p>
<pre><code>3  0
3
3  1
4
3  2
5</code></pre><h4 id="4-3-reduceï¼ˆï¼‰"><a href="#4-3-reduceï¼ˆï¼‰" class="headerlink" title="4.3 reduceï¼ˆï¼‰"></a>4.3 reduceï¼ˆï¼‰</h4><blockquote>
<p>ä½œç”¨ï¼šæŠŠè¢«è§‚å¯Ÿè€…éœ€è¦å‘é€çš„äº‹ä»¶èšåˆæˆ1ä¸ªäº‹ä»¶ &amp; å‘é€</p>
</blockquote>
<pre><code>/**
     * æ¯æ¬¡ç”¨ä¸€ä¸ªæ–¹æ³•å¤„ç†ä¸€ä¸ªå€¼ï¼Œå¯ä»¥æœ‰ä¸€ä¸ª seed ä½œä¸ºåˆå§‹å€¼
     */
    public static void useReduce() {

        Observable.just(1, 2, 3, 4)
                .reduce((integer, integer2) -&gt; {
                    KLog.d(TTAG, integer + &quot;&quot;);
                    KLog.d(TTAG, integer2 + &quot;&quot;);

                    //æ˜¯æ‰€æœ‰äº‹ä»¶ç›¸åŠ 
                    return integer + integer2;
                }).subscribe(integer -&gt; KLog.d(TTAG, integer + &quot;&quot;));
    }
</code></pre><h4 id="4-4-collect"><a href="#4-4-collect" class="headerlink" title="4.4 collect()"></a>4.4 collect()</h4><blockquote>
<p>ä½œç”¨ï¼šå°†è¢«è§‚å¯Ÿè€…<code>Observable</code>å‘é€çš„æ—¶é—´æ”¶é›†åˆ°ä¸€ä¸ªæ•°æ®ç»“æ„é‡Œé¢</p>
</blockquote>
<pre><code>  /**
     * å°†è¢«è§‚å¯Ÿè€…Observableå‘é€çš„æ•°æ®äº‹ä»¶æ”¶é›†åˆ°ä¸€ä¸ªæ•°æ®ç»“æ„é‡Œ
     */
    private void collect() {

        Observable.just(1,2,3,4,5,6,7,8)
                .collect((Callable&lt;ArrayList&lt;Integer&gt;&gt;) () -&gt;
                        new ArrayList&lt;&gt;(),
                        (integers, integer) -&gt; {
                    integers.add(integer);
                }).subscribe(integers -&gt;
                KLog.d(TTAG, integers.toString()));

    }
</code></pre><h3 id="5-å‘é€äº‹ä»¶å‰è¿½åŠ å‘é€äº‹ä»¶"><a href="#5-å‘é€äº‹ä»¶å‰è¿½åŠ å‘é€äº‹ä»¶" class="headerlink" title="5. å‘é€äº‹ä»¶å‰è¿½åŠ å‘é€äº‹ä»¶"></a>5. å‘é€äº‹ä»¶å‰è¿½åŠ å‘é€äº‹ä»¶</h3><h4 id="5-1-startWIthï¼ˆï¼‰ä»¥åŠ-startWithArrayï¼ˆï¼‰"><a href="#5-1-startWIthï¼ˆï¼‰ä»¥åŠ-startWithArrayï¼ˆï¼‰" class="headerlink" title="5.1 startWIthï¼ˆï¼‰ä»¥åŠ startWithArrayï¼ˆï¼‰"></a>5.1 startWIthï¼ˆï¼‰ä»¥åŠ startWithArrayï¼ˆï¼‰</h4><blockquote>
<p>ä½œç”¨ï¼š åœ¨ä¸€ä¸ªè¢«è§‚å¯Ÿè€…å‘é€äº‹ä»¶å‰ï¼Œè¿½åŠ å‘é€ä¸€äº›æ•°æ® / ä¸€ä¸ªæ–°çš„è¢«è§‚å¯Ÿè€…</p>
</blockquote>
<pre><code>  /**
     *  åœ¨ä¸€ä¸ªè¢«è§‚å¯Ÿè€…å‘é€äº‹ä»¶å‰ï¼Œè¿½åŠ å‘é€ä¸€äº›æ•°æ®
     *  åè¿½åŠ ï¼Œå…ˆè°ƒç”¨ï¼Œç»„åˆæ¨¡å¼
     */
    private void startWith() {

        Observable.just(2,3,4,5)
                .startWith(0)
                .startWith(Observable.just(7,8))
                .startWithArray(1)
                .subscribe(integer -&gt; {

                });
    }
</code></pre><h3 id="6-ç»Ÿè®¡å‘é€äº‹ä»¶æ•°é‡"><a href="#6-ç»Ÿè®¡å‘é€äº‹ä»¶æ•°é‡" class="headerlink" title="6. ç»Ÿè®¡å‘é€äº‹ä»¶æ•°é‡"></a>6. ç»Ÿè®¡å‘é€äº‹ä»¶æ•°é‡</h3><h4 id="6-1-countï¼ˆï¼‰"><a href="#6-1-countï¼ˆï¼‰" class="headerlink" title="6.1 countï¼ˆï¼‰"></a>6.1 countï¼ˆï¼‰</h4><blockquote>
<p>ä½œç”¨ï¼šç»Ÿè®¡è¢«è§‚å¯Ÿè€…å‘é€äº‹ä»¶çš„æ•°é‡</p>
</blockquote>
<pre><code>/**
     * ç»Ÿè®¡è¢«è§‚å¯Ÿè€…å‘é€äº‹ä»¶çš„æ•°é‡
     */
    private void count() {

        Observable.just(1,2,3,4)
                .count()
                .subscribe(aLong -&gt; {
                    KLog.d(TTAG, &quot;å‘é€äº‹ä»¶æ•°é‡æ˜¯ï¼š&quot;+aLong);

                });
    }</code></pre><h3 id="7-åœ¨äº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­æ“ä½œ"><a href="#7-åœ¨äº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­æ“ä½œ" class="headerlink" title="7. åœ¨äº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­æ“ä½œ"></a>7. åœ¨äº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­æ“ä½œ</h3><p>åœ¨äº‹ä»¶å‘é€ä»¥åŠæ¥æ”¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­è¿›è¡Œæ“ä½œï¼Œå¦‚å‘é€æ—¶é—´å‰çš„åˆå§‹åŒ–ï¼Œå‘é€äº‹ä»¶åçš„å›è°ƒè¯·æ±‚ç­‰</p>
<h4 id="7-1-æ“ä½œç¬¦-doï¼ˆ-ï¼‰"><a href="#7-1-æ“ä½œç¬¦-doï¼ˆ-ï¼‰" class="headerlink" title="7.1 æ“ä½œç¬¦ doï¼ˆ ï¼‰"></a>7.1 æ“ä½œç¬¦ doï¼ˆ ï¼‰</h4><p>ä½œç”¨ï¼šåœ¨æŸä¸ªæ—¶é—´çš„ç”Ÿå‘½å‘¨æœŸä¸­è°ƒç”¨</p>
<p>ç±»å‹åˆ†ä¸ºï¼š</p>
<ul>
<li><p>å½“Observableæ¯å‘é€ä¸€æ¬¡æ•°æ®äº‹ä»¶å°±ä¼šè°ƒç”¨1æ¬¡</p>
<ul>
<li>doOnEachï¼ˆï¼‰</li>
<li>å«onNextï¼ˆï¼‰ã€onErrorï¼ˆï¼‰å’ŒonCompletedï¼ˆï¼‰</li>
</ul>
</li>
<li><p>Nextäº‹ä»¶</p>
<ul>
<li>æ‰§è¡ŒNextäº‹ä»¶å‰è°ƒç”¨- doOnNext( )</li>
<li>æ‰§è¡ŒNextäº‹ä»¶åè°ƒç”¨- doAfterNextï¼ˆï¼‰</li>
</ul>
</li>
<li><p>å‘é€äº‹ä»¶å®Œæ¯•åè°ƒç”¨</p>
<ul>
<li>å‘é€é”™è¯¯äº‹ä»¶å- doOnErrorï¼ˆï¼‰</li>
<li>æ­£å¸¸å‘é€äº‹ä»¶å®Œæ¯•å- doOnCompletedï¼ˆï¼‰</li>
<li>æ— è®ºæ­£å¸¸å‘é€å®Œæ¯•æˆ–è€…å¼‚å¸¸ç»ˆæ­¢-doOnTerminateï¼ˆï¼‰</li>
<li>æœ€åæ‰§è¡Œï¼š doFinallyï¼ˆï¼‰</li>
</ul>
</li>
<li><p>è®¢é˜…ç›¸å…³ï¼š</p>
<ul>
<li>è§‚å¯Ÿè€…è®¢é˜…æ—¶è°ƒç”¨-doOnSubscribeï¼ˆï¼‰</li>
<li>è§‚å¯Ÿè€…å–æ¶ˆè®¢é˜…æ—¶è°ƒç”¨- doOnUnsubscribeï¼ˆï¼‰</li>
</ul>
</li>
</ul>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code> /**
     * doæ“ä½œç¬¦
     */
    private void useDo() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {
                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
                emitter.onError(new Throwable(&quot;å‘é€é”™è¯¯&quot;));
            }
            //1. å½“Observableæ¯å‘é€1æ¬¡æ•°æ®äº‹ä»¶å°±ä¼šè°ƒç”¨1æ¬¡
        }).doOnEach(new Consumer&lt;Notification&lt;Integer&gt;&gt;() {
            @Override
            public void accept(Notification&lt;Integer&gt; integerNotification) throws Exception {

                KLog.d(TTAG, &quot;doOnEach:&quot; + integerNotification);
            }
            // 2. æ‰§è¡ŒNextäº‹ä»¶å‰è°ƒç”¨
        }).doOnNext(new Consumer&lt;Integer&gt;() {
            @Override
            public void accept(Integer integer) throws Exception {
                KLog.d(TTAG, &quot;doOnNext:&quot; + integer);
            }
            //3.æ‰§è¡ŒNextäº‹ä»¶åè°ƒç”¨
        }).doAfterNext(new Consumer&lt;Integer&gt;() {
            @Override
            public void accept(Integer integer) throws Exception {

            }
        }).doOnComplete(new Action() {
            @Override
            public void run() throws Exception {
                KLog.d(TTAG, &quot;doOnCompleted:&quot;);
            }
        }).doOnError(new Consumer&lt;Throwable&gt;() {
            @Override
            public void accept(Throwable throwable) throws Exception {

                KLog.d(TTAG, &quot;doOnError:&quot; + throwable.getMessage());
            }
        }).doOnSubscribe(new Consumer&lt;Disposable&gt;() {
            @Override
            public void accept(Disposable disposable) throws Exception {
                KLog.d(TTAG, &quot;doOnSubscribe:&quot;);
            }
        }).doAfterTerminate(new Action() {
            @Override
            public void run() throws Exception {
                KLog.d(TTAG, &quot;doAfterTerminate&quot;);
            }
        }).doFinally(new Action() {
            @Override
            public void run() throws Exception {
                KLog.d(TTAG, &quot;doFinally&quot;);
            }
        }).subscribe(new Observer&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Disposable d) {
                KLog.d(TTAG, &quot;å¼€å§‹å‘å°„äº†&quot;);
            }

            @Override
            public void onNext(Integer integer) {
                KLog.d(TTAG, &quot;æ¥æ”¶åˆ°äº‹ä»¶ï¼š&quot; + integer);
            }

            @Override
            public void onError(Throwable e) {
                KLog.d(TTAG, &quot;å‘ç”Ÿé”™è¯¯äº†ï¼š&quot; + e.getMessage());
            }

            @Override
            public void onComplete() {
                KLog.d(TTAG, &quot;å¤„ç†å®Œæˆäº†&quot;);
            }
        });

    }

(Main3Activity.java:116)#accept ] doOnSubscribe:
(Main3Activity.java:131)#onSubscribe ] å¼€å§‹å‘å°„äº†
(Main3Activity.java:88)#accept ] doOnEach:OnNextNotification[1]
(Main3Activity.java:94)#accept ] doOnNext:1
(Main3Activity.java:136)#onNext ] æ¥æ”¶åˆ°äº‹ä»¶ï¼š1
(Main3Activity.java:88)#accept ] doOnEach:OnNextNotification[2]
(Main3Activity.java:94)#accept ] doOnNext:2
(Main3Activity.java:136)#onNext ] æ¥æ”¶åˆ°äº‹ä»¶ï¼š2
 (Main3Activity.java:88)#accept ] doOnEach:OnNextNotification[3]
(Main3Activity.java:94)#accept ] doOnNext:3
(Main3Activity.java:136)#onNext ] æ¥æ”¶åˆ°äº‹ä»¶ï¼š3
(Main3Activity.java:88)#accept ] doOnEach:OnErrorNotification[java.lang.Throwable: å‘é€é”™è¯¯]
(Main3Activity.java:111)#accept ] doOnError:å‘é€é”™è¯¯
(Main3Activity.java:141)#onError ] å‘ç”Ÿé”™è¯¯äº†ï¼šå‘é€é”™è¯¯
(Main3Activity.java:126)#run ] doFinally
(Main3Activity.java:121)#run ] doAfterTerminate
</code></pre><h3 id="8-å…³äºé”™è¯¯å¤„ç†ï¼š"><a href="#8-å…³äºé”™è¯¯å¤„ç†ï¼š" class="headerlink" title="8.  å…³äºé”™è¯¯å¤„ç†ï¼š"></a>8.  å…³äºé”™è¯¯å¤„ç†ï¼š</h3><ul>
<li>onErrorReturn( )</li>
<li>onErrorResumeNext( )</li>
<li>onExceptionResumeNext( )</li>
<li>retry( )</li>
<li>retryUntil( )</li>
<li>retryWhen( )</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li><p>å‘é€æ•°æ®ï¼š</p>
<ul>
<li><p>å‘é€ä¸€ä¸ªç‰¹æ®Šäº‹ä»¶&amp;æ­£å¸¸ç»ˆæ­¢- onErrorReturn( )</p>
</li>
<li><p>å‘é€ä¸€ä¸ªæ–°çš„Observableï¼Œæœ‰å¦‚ä¸‹ä¸¤ç§ï¼š</p>
<ul>
<li>onErrorResumeNext( )</li>
<li>onExceptionResumeNext( )</li>
</ul>
</li>
</ul>
</li>
<li><p>é‡è¯•ï¼š </p>
</li>
</ol>
<p>-ç›´æ¥é‡è¯•  retryï¼ˆï¼‰</p>
<ul>
<li><p>è®©Observableé‡æ–°è®¢é˜… - retryUntil( )</p>
</li>
<li><p>å°†é”™è¯¯ä¼ é€’ç»™å¦ä¸€ä¸ªObservableæ¥å†³å®šæ˜¯å¦è¦é‡æ–°è®¢é˜…æ”¹Observable-  retryWhen( )</p>
</li>
</ul>
<p>å…·ä½“ä½¿ç”¨è§ä¸‹é¢ä»£ç ï¼š</p>
<h4 id="8-1-onErrorReturn"><a href="#8-1-onErrorReturn" class="headerlink" title="8.1 onErrorReturn"></a>8.1 onErrorReturn</h4><pre><code>/**
     * å…³äºé”™è¯¯çš„è§£å†³æ–¹æ¡ˆ
     */
    private void onErrorReturn() {


        /**
         * æ–¹æ¡ˆ1
         * å‘é€ä¸€ä¸ªç‰¹æ®Šä¹¦å‰‘ï¼Œæ­£å¸¸ç»“æŸ
         */
        Observable.create((ObservableOnSubscribe&lt;Integer&gt;) emitter -&gt; {
            emitter.onComplete();
            emitter.onNext(1);
            emitter.onNext(2);
            emitter.onNext(3);
            emitter.onNext(4);
            emitter.onError(new Throwable(&quot;å‘ç”Ÿé”™è¯¯äº†&quot;));
        }).onErrorReturn(throwable -&gt; {
            KLog.d(TTAG, &quot;åœ¨onErrorReturnå¤„ç†äº†é”™è¯¯::&quot; + throwable.getMessage());

            //å‘ç”Ÿé”™è¯¯æ—¶å‘é€ä¸€ä¸ªäº‹ä»¶ï¼Œæ­£å¸¸ç»“æŸ
            return 666;
        }).subscribe(new Observer&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Disposable d) {

            }

            @Override
            public void onNext(Integer integer) {
                KLog.d(TTAG, &quot;æ¥æ”¶åˆ°äº‹ä»¶ï¼š&quot; + integer);
            }

            @Override
            public void onError(Throwable e) {
                KLog.d(TTAG, &quot;å¤±è´¥äº†&quot;);
            }

            @Override
            public void onComplete() {
                KLog.d(TTAG, &quot;ç»“æŸäº†&quot;);
            }
        });
    }</code></pre><h4 id="8-2-onErrorResumeNext"><a href="#8-2-onErrorResumeNext" class="headerlink" title="8.2 onErrorResumeNext"></a>8.2 onErrorResumeNext</h4><pre><code> /**
     * æ–¹æ¡ˆ2
     * å‘é€æ–°çš„eObservable
     * ä¸¤ç§æ–¹å¼
     * onErrorResumeNext( )æ‹¦æˆªçš„é”™è¯¯=Throwableï¼›éœ€è¦æ‹¦æˆªExceptionä½¿ç”¨ä¸‹é¢çš„æ–¹å¼
     * &lt;p&gt;
     * onExceptionResumeNext( )å¦‚æœæ‹¦æˆªçš„é”™è¯¯=Exceptionï¼Œåˆ™ä¼šå‘é€æ–°çš„Observableï¼Œä¸ä¼šèµ°onerrorï¼ˆï¼‰æ–¹æ³•
     * å¦‚æœæ‹¦æˆªåˆ°Throwableé”™è¯¯ï¼Œä¼šå°†é”™è¯¯ä¼ é€’ç»™è§‚å¯Ÿè€…çš„onErroræ–¹æ³•ï¼Œä¸åœ¨å‘é€æ–°çš„Observable
     */
    private void onErrorResumeNext() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {
                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
                emitter.onNext(4);
                emitter.onError(new Throwable(&quot;å‘ç”Ÿé”™è¯¯äº†å‘¢&quot;));
            }
        }).onErrorResumeNext(new Function&lt;Throwable, ObservableSource&lt;? extends Integer&gt;&gt;() {
            @Override
            public ObservableSource&lt;? extends Integer&gt; apply(Throwable throwable) throws Exception {

                KLog.d(TTAG, &quot;onErrorResumeNext:&quot; + throwable.getMessage());

                return Observable.just(7, 3, 6, 8);
            }
        }).subscribe(new Observer&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Disposable d) {

            }

            @Override
            public void onNext(Integer integer) {

                KLog.d(TTAG, &quot;æ¥æ”¶åˆ°äº‹ä»¶ï¼š&quot; + integer);
            }

            @Override
            public void onError(Throwable e) {
                KLog.d(TTAG, &quot;å¤±è´¥äº†&quot;);
            }

            @Override
            public void onComplete() {
                KLog.d(TTAG, &quot;ç»“æŸäº†&quot;);
            }
        });
    }</code></pre><h4 id="8-3-onExceptionResumeNext"><a href="#8-3-onExceptionResumeNext" class="headerlink" title="8.3 onExceptionResumeNext"></a>8.3 onExceptionResumeNext</h4><pre><code> private void onExceptionResumeNext() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {
                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
                emitter.onNext(4);
                emitter.onError(new Exception(&quot;å‘ç”Ÿé”™è¯¯äº†å‘¢&quot;));
            }
        }).onExceptionResumeNext(new Observable&lt;Integer&gt;() {
            @Override
            protected void subscribeActual(Observer&lt;? super Integer&gt; observer) {

                observer.onNext(11);
                observer.onNext(22);
                observer.onComplete();
            }
        }).subscribe(new Observer&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Disposable d) {

            }

            @Override
            public void onNext(Integer integer) {

                KLog.d(TTAG, &quot;æ¥æ”¶åˆ°äº‹ä»¶ï¼š&quot; + integer);
            }

            @Override
            public void onError(Throwable e) {
                KLog.d(TTAG, &quot;å¤±è´¥äº†&quot;);
            }

            @Override
            public void onComplete() {
                KLog.d(TTAG, &quot;ç»“æŸäº†&quot;);
            }
        });

    }</code></pre><h4 id="8-4-retry"><a href="#8-4-retry" class="headerlink" title="8.4 retry"></a>8.4 retry</h4><pre><code> /**
     * å½“å‡ºç°é”™è¯¯æ—¶ï¼Œè®©è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰é‡æ–°å‘å°„æ•°æ®
     * Throwable å’Œ Exceptionéƒ½å¯æ‹¦æˆª
     * &lt;p&gt;
     * 1. retryï¼ˆï¼‰
     * ä½œç”¨ï¼šå‡ºç°é”™è¯¯æ—¶ï¼Œè®©è¢«è§‚å¯Ÿè€…é‡æ–°å‘é€æ•°æ®
     * æ³¨ï¼šè‹¥ä¸€ç›´é”™è¯¯ï¼Œåˆ™ä¸€ç›´é‡æ–°å‘é€
     * &lt;p&gt;
     * 2. retryï¼ˆlong timeï¼‰
     * ä½œç”¨ï¼šå‡ºç°é”™è¯¯æ—¶ï¼Œè®©è¢«è§‚å¯Ÿè€…é‡æ–°å‘é€æ•°æ®ï¼ˆå…·å¤‡é‡è¯•æ¬¡æ•°é™åˆ¶
     * å‚æ•° = é‡è¯•æ¬¡æ•°
     * &lt;p&gt;
     * 3. retryï¼ˆPredicate predicateï¼‰
     * ä½œç”¨ï¼šå‡ºç°é”™è¯¯åï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°å‘é€æ•°æ®ï¼ˆè‹¥éœ€è¦é‡æ–°å‘é€&amp; æŒç»­é‡åˆ°é”™è¯¯ï¼Œåˆ™æŒç»­é‡è¯•ï¼‰
     * å‚æ•° = åˆ¤æ–­é€»è¾‘
     * &lt;p&gt;
     * 4. retryï¼ˆnew BiPredicate&lt;Integer, Throwable&gt;ï¼‰
     * ä½œç”¨ï¼šå‡ºç°é”™è¯¯åï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°å‘é€æ•°æ®ï¼ˆè‹¥éœ€è¦é‡æ–°å‘é€ &amp; æŒç»­é‡åˆ°é”™è¯¯ï¼Œåˆ™æŒç»­é‡è¯•
     * å‚æ•° =  åˆ¤æ–­é€»è¾‘ï¼ˆä¼ å…¥å½“å‰é‡è¯•æ¬¡æ•° &amp; å¼‚å¸¸é”™è¯¯ä¿¡æ¯ï¼‰
     * &lt;p&gt;
     * 5. retryï¼ˆlong time,Predicate predicateï¼‰
     * ä½œç”¨ï¼šå‡ºç°é”™è¯¯åï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°å‘é€æ•°æ®ï¼ˆå…·å¤‡é‡è¯•æ¬¡æ•°é™åˆ¶
     * å‚æ•° = è®¾ç½®é‡è¯•æ¬¡æ•° &amp; åˆ¤æ–­é€»è¾‘
     */
    private void retry() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {
                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
                emitter.onError(new Throwable(&quot;å‘é€é”™è¯¯äº†&quot;));
                emitter.onNext(5);
                emitter.onNext(6);
            }
            //é‡åˆ°é”™è¯¯æ—¶ï¼Œè®©è¢«è§‚å¯Ÿè€…é‡æ–°å‘å°„æ•°æ®ï¼ˆè‹¥ä¸€ç›´é”™è¯¯ï¼Œåˆ™ä¸€ç›´é‡æ–°å‘é€
        }).retry()
                //é‡åˆ°é”™è¯¯æ—¶ï¼Œé‡è¯•3æ¬¡
                .retry(3)
                //æ‹¦æˆªé”™è¯¯åï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°å‘é€è¯·æ±‚
                .retry(new Predicate&lt;Throwable&gt;() {
                    @Override
                    public boolean test(Throwable throwable) throws Exception {
                        KLog.d(TTAG, &quot;é”™è¯¯æ˜¯ï¼š&quot; + throwable.getMessage());

                        //è¿”å›false = ä¸é‡æ–°é‡æ–°å‘é€æ•°æ® &amp; è°ƒç”¨è§‚å¯Ÿè€…çš„onErrorç»“æŸ
                        //è¿”å›true = é‡æ–°å‘é€è¯·æ±‚ï¼ˆè‹¥æŒç»­é‡åˆ°é”™è¯¯ï¼Œå°±æŒç»­é‡æ–°å‘é€ï¼‰
                        return throwable.getMessage().equals(&quot;æˆ‘æ˜¯åˆ¤å®šé”™è¯¯&quot;);
                    }
                    //å‡ºç°é”™è¯¯åï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°å‘é€æ•°æ®ï¼ˆè‹¥éœ€è¦é‡æ–°å‘é€ &amp; æŒç»­é‡åˆ°é”™è¯¯ï¼Œåˆ™æŒç»­é‡è¯•
                    // å‚æ•° =  åˆ¤æ–­é€»è¾‘ï¼ˆä¼ å…¥å½“å‰é‡è¯•æ¬¡æ•° &amp; å¼‚å¸¸é”™è¯¯ä¿¡æ¯ï¼‰
                }).retry(new BiPredicate&lt;Integer, Throwable&gt;() {
            @Override
            public boolean test(Integer integer, Throwable throwable) throws Exception {
                KLog.d(TTAG, &quot;é”™è¯¯æ˜¯ï¼š&quot; + throwable.getMessage());
                KLog.d(TTAG, &quot;é‡è¯•æ¬¡æ•°æ˜¯ï¼š&quot; + integer);

                return true;
            }
            // ä½œç”¨ï¼šå‡ºç°é”™è¯¯åï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°å‘é€æ•°æ®ï¼ˆå…·å¤‡é‡è¯•æ¬¡æ•°é™åˆ¶
            // å‚æ•° = è®¾ç½®é‡è¯•æ¬¡æ•° &amp; åˆ¤æ–­é€»è¾‘
        }).retry(3, new Predicate&lt;Throwable&gt;() {
            @Override
            public boolean test(Throwable throwable) throws Exception {
                KLog.d(TTAG, &quot;é”™è¯¯æ˜¯ï¼š&quot; + throwable.getMessage());

                //è¿”å›false = ä¸é‡æ–°é‡æ–°å‘é€æ•°æ® &amp; è°ƒç”¨è§‚å¯Ÿè€…çš„onErrorï¼ˆï¼‰ç»“æŸ
                //è¿”å›true = é‡æ–°å‘é€è¯·æ±‚ï¼ˆæœ€å¤šé‡æ–°å‘é€3æ¬¡ï¼‰
                return true;
            }
        }).subscribe(new Observer&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Disposable d) {

            }

            @Override
            public void onNext(Integer integer) {

            }

            @Override
            public void onError(Throwable e) {

            }

            @Override
            public void onComplete() {

            }
        });


    }
</code></pre><h4 id="8-5-retryUntil"><a href="#8-5-retryUntil" class="headerlink" title="8.5 retryUntil"></a>8.5 retryUntil</h4><pre><code> /**
     * å‡ºç°é”™è¯¯åï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°å‘é€æ•°æ®
     * &lt;p&gt;
     * è‹¥éœ€è¦é‡æ–°å‘é€ &amp; æŒç»­é‡åˆ°é”™è¯¯ï¼Œåˆ™æŒç»­é‡è¯•
     * ä½œç”¨ç±»ä¼¼äºretryï¼ˆPredicate predicateï¼‰
     * è¿”å›falseå°±ä¸€ç›´é‡è¯•
     * è¿”å›trueç»“æŸ
     */
    private void retryUntil() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {
                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
                emitter.onError(new Exception(&quot;å‘ç”Ÿé”™è¯¯äº†&quot;));
                emitter.onNext(5);
                emitter.onNext(8);
            }
        }).retryUntil(new BooleanSupplier() {
            @Override
            public boolean getAsBoolean() throws Exception {

                //è¿”å›falseå°±ä¸€ç›´é‡è¯•
                //è¿”å›trueç»“æŸ
                return true;
            }
        }).subscribe(new Observer&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Disposable d) {

            }

            @Override
            public void onNext(Integer integer) {

                KLog.d(TTAG, &quot;onNext:&quot; + integer);
            }

            @Override
            public void onError(Throwable e) {

                KLog.d(TTAG, &quot;é”™è¯¯æ˜¯ï¼š&quot; + e.getMessage());

            }

            @Override
            public void onComplete() {

            }
        });

    }
</code></pre><h4 id="8-6-retryWhen"><a href="#8-6-retryWhen" class="headerlink" title="8.6 retryWhen"></a>8.6 retryWhen</h4><pre><code>  /**
     * å‡ºç°é”™è¯¯åï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°å‘é€æ•°æ®
     * &lt;p&gt;
     * è‹¥éœ€è¦é‡æ–°å‘é€ &amp; æŒç»­é‡åˆ°é”™è¯¯ï¼Œåˆ™æŒç»­é‡è¯•
     * ä½œç”¨ç±»ä¼¼äºretryï¼ˆPredicate predicateï¼‰
     * è¿”å›falseå°±ä¸€ç›´é‡è¯•
     * è¿”å›trueç»“æŸ
     */
    private void retryUntil() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {
                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
                emitter.onError(new Exception(&quot;å‘ç”Ÿé”™è¯¯äº†&quot;));
                emitter.onNext(5);
                emitter.onNext(8);
            }
        }).retryUntil(new BooleanSupplier() {
            @Override
            public boolean getAsBoolean() throws Exception {

                //è¿”å›falseå°±ä¸€ç›´é‡è¯•
                //è¿”å›trueç»“æŸ
                return true;
            }
        }).subscribe(new Observer&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Disposable d) {

            }

            @Override
            public void onNext(Integer integer) {

                KLog.d(TTAG, &quot;onNext:&quot; + integer);
            }

            @Override
            public void onError(Throwable e) {

                KLog.d(TTAG, &quot;é”™è¯¯æ˜¯ï¼š&quot; + e.getMessage());

            }

            @Override
            public void onComplete() {

            }
        });

    }</code></pre><h3 id="9-é‡å¤å‘é€æ“ä½œï¼š"><a href="#9-é‡å¤å‘é€æ“ä½œï¼š" class="headerlink" title="9. é‡å¤å‘é€æ“ä½œï¼š"></a>9. é‡å¤å‘é€æ“ä½œï¼š</h3><h4 id="9-1-repeatï¼ˆï¼‰"><a href="#9-1-repeatï¼ˆï¼‰" class="headerlink" title="9.1 repeatï¼ˆï¼‰"></a>9.1 repeatï¼ˆï¼‰</h4><blockquote>
<p>ä½œç”¨ï¼šæ— æ¡ä»¶åœ°ã€é‡å¤å‘é€ è¢«è§‚å¯Ÿè€…äº‹ä»¶ï¼Œå…·å¤‡é‡è½½æ–¹æ³•ï¼Œå¯è®¾ç½®é‡å¤åˆ›å»ºæ¬¡æ•°</p>
</blockquote>
<pre><code>/**
     * æ— æ¡ä»¶åœ°ã€é‡å¤å‘é€ è¢«è§‚å¯Ÿè€…äº‹ä»¶
     */
    private void repeat() {

        Observable.just(1, 2, 3, 4)
                //è®¾ç½®é‡å¤å‘é€æ¬¡æ•°3æ¬¡
                .repeat(3)
                .subscribe(new Observer&lt;Integer&gt;() {
                    @Override
                    public void onSubscribe(Disposable d) {
                        KLog.d(TTAG, &quot;å¼€å§‹äº†é“¾æ¥&quot;);
                    }

                    @Override
                    public void onNext(Integer integer) {
                        KLog.d(TTAG, &quot;æ¥æ”¶äº‹ä»¶æ˜¯ï¼š&quot; + integer);
                    }

                    @Override
                    public void onError(Throwable e) {
                        KLog.d(TTAG, &quot;æ”¶åˆ°é”™è¯¯äº†&quot;);
                    }

                    @Override
                    public void onComplete() {
                        KLog.d(TTAG, &quot;å®Œæˆ&quot;);
                    }
                });

    }</code></pre><h4 id="9-2-repeartWhenï¼ˆï¼‰"><a href="#9-2-repeartWhenï¼ˆï¼‰" class="headerlink" title="9.2  repeartWhenï¼ˆï¼‰"></a>9.2  repeartWhenï¼ˆï¼‰</h4><blockquote>
<p>ä½œç”¨ï¼šæœ‰æ¡ä»¶åœ°ã€é‡å¤å‘é€ è¢«è§‚å¯Ÿè€…äº‹ä»¶ï¼Œå°†åŸå§‹ Observable åœæ­¢å‘é€äº‹ä»¶çš„æ ‡è¯†ï¼ˆCompleteï¼ˆï¼‰ /  Errorï¼ˆï¼‰ï¼‰ è½¬æ¢æˆ1ä¸ª Object ç±»å‹æ•°æ®ä¼ é€’ç»™1ä¸ªæ–°è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰ï¼Œä»¥æ­¤å†³å®šæ˜¯å¦é‡æ–°è®¢é˜… &amp; å‘é€åŸæ¥çš„ Observable</p>
</blockquote>
<pre><code>**
     * æœ‰æ¡ä»¶åœ°ã€é‡å¤å‘é€ è¢«è§‚å¯Ÿè€…äº‹ä»¶
     * å°†åŸå§‹ Observable åœæ­¢å‘é€äº‹ä»¶çš„æ ‡è¯†ï¼ˆCompleteï¼ˆï¼‰ /  Errorï¼ˆï¼‰ï¼‰
     * è½¬æ¢æˆ1ä¸ª Object ç±»å‹æ•°æ®ä¼ é€’ç»™1ä¸ªæ–°è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰ï¼Œä»¥æ­¤å†³å®šæ˜¯å¦é‡æ–°è®¢é˜… &amp; å‘é€åŸæ¥çš„ Observable
     * &lt;p&gt;
     * è¿”å›ç»“æœåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š
     * 1.è‹¥æ–°è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰è¿”å›1ä¸ªComplete / Erroräº‹ä»¶ï¼Œåˆ™ä¸é‡æ–°è®¢é˜… &amp; å‘é€åŸæ¥çš„ Observable
     * 2.è‹¥æ–°è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰è¿”å›å…¶ä½™äº‹ä»¶æ—¶ï¼Œåˆ™é‡æ–°è®¢é˜… &amp; å‘é€åŸæ¥çš„ Observable
     */
    private void repeatWhen() {

        Observable.just(1,2,3)
                .repeatWhen(new Function&lt;Observable&lt;Object&gt;, ObservableSource&lt;?&gt;&gt;() {
                    @Override
                    public ObservableSource&lt;?&gt; apply(Observable&lt;Object&gt; objectObservable) throws Exception {

                        // åœ¨Functionå‡½æ•°ä¸­ï¼Œå¿…é¡»å¯¹è¾“å…¥çš„ Observable&lt;Object&gt;è¿›è¡Œå¤„ç†ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯flatMapæ“ä½œç¬¦æ¥æ”¶ä¸Šæ¸¸çš„æ•°æ®

                        return objectObservable.flatMap(new Function&lt;Object, ObservableSource&lt;?&gt;&gt;() {
                            @Override
                            public ObservableSource&lt;?&gt; apply(Object o) throws Exception {

                                //æƒ…å†µ1ï¼šè‹¥æ–°è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰è¿”å›1ä¸ªCompleteï¼ˆï¼‰ /  Errorï¼ˆï¼‰äº‹ä»¶ï¼Œåˆ™ä¸é‡æ–°è®¢é˜… &amp; å‘é€åŸæ¥çš„ Observable

                                // Observable.empty() = å‘é€Completeäº‹ä»¶ï¼Œä½†ä¸ä¼šå›è°ƒè§‚å¯Ÿè€…çš„onCompleteï¼ˆï¼‰

                                // return Observable.error(new Throwable(&quot;ä¸å†é‡æ–°è®¢é˜…äº‹ä»¶&quot;));
                                // è¿”å›Erroräº‹ä»¶ = å›è°ƒonErrorï¼ˆï¼‰äº‹ä»¶ï¼Œå¹¶æ¥æ”¶ä¼ è¿‡å»çš„é”™è¯¯ä¿¡æ¯ã€‚

                                // æƒ…å†µ2ï¼šè‹¥æ–°è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰è¿”å›å…¶ä½™äº‹ä»¶ï¼Œåˆ™é‡æ–°è®¢é˜… &amp; å‘é€åŸæ¥çš„ Observable
                                 return Observable.just(1);
                                // ä»…ä»…æ˜¯ä½œä¸º1ä¸ªè§¦å‘é‡æ–°è®¢é˜…è¢«è§‚å¯Ÿè€…çš„é€šçŸ¥ï¼Œå‘é€çš„æ˜¯ä»€ä¹ˆæ•°æ®å¹¶ä¸é‡è¦ï¼Œåªè¦ä¸æ˜¯Completeï¼ˆï¼‰ /  Errorï¼ˆï¼‰äº‹ä»¶
                            }
                        });
                    }
                }).subscribe(new Observer&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Disposable d) {
                KLog.d(TTAG, &quot;å¼€å§‹è¿æ¥&quot;);
            }
            @Override
            public void onNext(Integer integer) {
                KLog.d(TTAG, &quot;æ”¶åˆ°äº‹ä»¶ï¼š&quot; + integer);
            }
            @Override
            public void onError(Throwable e) {
                KLog.d(TTAG, &quot;æ”¶åˆ°é”™è¯¯æ˜¯ï¼š&quot;+e.getMessage());
            }
            @Override
            public void onComplete() {
                KLog.d(TTAG, &quot;å®Œæˆ&quot;);
            }
        });

    }</code></pre><h3 id="10-çº¿ç¨‹è°ƒæ§"><a href="#10-çº¿ç¨‹è°ƒæ§" class="headerlink" title="10. çº¿ç¨‹è°ƒæ§"></a>10. çº¿ç¨‹è°ƒæ§</h3><blockquote>
<p>æ³¨æ„ï¼šObservable.subscribeOnï¼ˆï¼‰å¯ä»¥å¤šæ¬¡æŒ‡å®šï¼Œä½†æ˜¯åªæœ‰ç¬¬ä¸€æ¬¡æœ‰æ•ˆï¼ŒObservable.observeOnï¼ˆï¼‰æ¯æ¬¡éƒ½ä¼šç”Ÿæ•ˆ</p>
</blockquote>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>å«ä¹‰</th>
<th>åº”ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td>Schedulers.immediate()</td>
<td>å½“å‰çº¿ç¨‹ == ä¸æŒ‡å®šçº¿ç¨‹</td>
<td>é»˜è®¤çº¿ç¨‹</td>
</tr>
<tr>
<td>AndroidSchedulers.mainThread()</td>
<td>Androidä¸»çº¿ç¨‹</td>
<td>æ“ä½œUI</td>
</tr>
<tr>
<td>Schedulers.newThread()</td>
<td>å¸¸è§„æ–°çº¿ç¨‹</td>
<td>è¿›è¡Œè€—æ—¶æ“ä½œ</td>
</tr>
<tr>
<td>Schedulers.io()</td>
<td>IOæ“ä½œçº¿ç¨‹</td>
<td>ç½‘ç»œè¯·æ±‚ï¼Œè¯»å†™æ–‡ä»¶ç­‰IOå¯†é›†å‹æ“ä½œ</td>
</tr>
<tr>
<td>Schedulers.computation()</td>
<td>CPUè®¡ç®—æ“ä½œçº¿ç¨‹</td>
<td>å¤§é‡è®¡ç®—æ“ä½œ</td>
</tr>
</tbody></table>
<h3 id="11-å–æ¶ˆè®¢é˜…"><a href="#11-å–æ¶ˆè®¢é˜…" class="headerlink" title="11. å–æ¶ˆè®¢é˜…"></a>11. å–æ¶ˆè®¢é˜…</h3><blockquote>
<p>ä½¿ç”¨Disposable.dispose()</p>
</blockquote>
<blockquote>
<p>å¤šä¸ªDisposableæ—¶ï¼Œå¯é‡‡ç”¨RxJavaå†…ç½®å®¹å™¨CompositeDisposableè¿›è¡Œç»Ÿä¸€ç®¡ç†</p>
</blockquote>
<pre><code>
CompositeDisposable compositeDisposable = new CompositeDisposable();
compositeDisposable.add();
compositeDisposable.clear();
</code></pre>]]></content>
  </entry>
  <entry>
    <title>Rxjava2.0ç¬”è®°-002-åˆ›å»ºæ“ä½œç¬¦</title>
    <url>/2019/03/03/Rxjava2.0%E7%AC%94%E8%AE%B0-002-%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C%E7%AC%A6/</url>
    <content><![CDATA[<h3 id="1-observerçš„subscribe-å…·å¤‡å¤šä¸ªé‡è½½çš„æ–¹æ³•"><a href="#1-observerçš„subscribe-å…·å¤‡å¤šä¸ªé‡è½½çš„æ–¹æ³•" class="headerlink" title="1.observerçš„subscribe()å…·å¤‡å¤šä¸ªé‡è½½çš„æ–¹æ³•"></a>1.observerçš„subscribe()å…·å¤‡å¤šä¸ªé‡è½½çš„æ–¹æ³•</h3><pre><code>public final Disposable subscribe() {}
 // è¡¨ç¤ºè§‚å¯Ÿè€…ä¸å¯¹è¢«è§‚å¯Ÿè€…å‘é€çš„äº‹ä»¶ä½œå‡ºä»»ä½•å“åº”ï¼ˆä½†è¢«è§‚å¯Ÿè€…è¿˜æ˜¯å¯ä»¥ç»§ç»­å‘é€äº‹ä»¶ï¼‰

public final Disposable subscribe(Consumer&lt;? super T&gt; onNext) {}
// è¡¨ç¤ºè§‚å¯Ÿè€…åªå¯¹è¢«è§‚å¯Ÿè€…å‘é€çš„Nextäº‹ä»¶ä½œå‡ºå“åº”

public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError) {} 
// è¡¨ç¤ºè§‚å¯Ÿè€…åªå¯¹è¢«è§‚å¯Ÿè€…å‘é€çš„Nextäº‹ä»¶ &amp; Erroräº‹ä»¶ä½œå‡ºå“åº”

public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete) {}
// è¡¨ç¤ºè§‚å¯Ÿè€…åªå¯¹è¢«è§‚å¯Ÿè€…å‘é€çš„Nextäº‹ä»¶ã€Erroräº‹ä»¶ &amp; Completeäº‹ä»¶ä½œå‡ºå“åº”

public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete, Consumer&lt;? super Disposable&gt; onSubscribe) {}
// è¡¨ç¤ºè§‚å¯Ÿè€…åªå¯¹è¢«è§‚å¯Ÿè€…å‘é€çš„Nextäº‹ä»¶ã€Erroräº‹ä»¶ ã€Completeäº‹ä»¶ &amp; onSubscribeäº‹ä»¶ä½œå‡ºå“åº”

public final void subscribe(Observer&lt;? super T&gt; observer) {}
// è¡¨ç¤ºè§‚å¯Ÿè€…å¯¹è¢«è§‚å¯Ÿè€…å‘é€çš„ä»»ä½•äº‹ä»¶éƒ½ä½œå‡ºå“åº”
</code></pre><a id="more"></a>


<h3 id="2-åˆ‡æ–­è¿æ¥é‡‡ç”¨Disposable-dispose-ï¼Œè§‚å¯Ÿè€…-æ— æ³•ç»§ç»­-æ¥æ”¶-è¢«è§‚å¯Ÿè€…çš„äº‹ä»¶ï¼Œä½†è¢«è§‚å¯Ÿè€…è¿˜æ˜¯å¯ä»¥ç»§ç»­å‘é€äº‹ä»¶"><a href="#2-åˆ‡æ–­è¿æ¥é‡‡ç”¨Disposable-dispose-ï¼Œè§‚å¯Ÿè€…-æ— æ³•ç»§ç»­-æ¥æ”¶-è¢«è§‚å¯Ÿè€…çš„äº‹ä»¶ï¼Œä½†è¢«è§‚å¯Ÿè€…è¿˜æ˜¯å¯ä»¥ç»§ç»­å‘é€äº‹ä»¶" class="headerlink" title="2.åˆ‡æ–­è¿æ¥é‡‡ç”¨Disposable.dispose()ï¼Œè§‚å¯Ÿè€… æ— æ³•ç»§ç»­ æ¥æ”¶ è¢«è§‚å¯Ÿè€…çš„äº‹ä»¶ï¼Œä½†è¢«è§‚å¯Ÿè€…è¿˜æ˜¯å¯ä»¥ç»§ç»­å‘é€äº‹ä»¶"></a>2.åˆ‡æ–­è¿æ¥é‡‡ç”¨<code>Disposable.dispose()</code>ï¼Œè§‚å¯Ÿè€… æ— æ³•ç»§ç»­ æ¥æ”¶ è¢«è§‚å¯Ÿè€…çš„äº‹ä»¶ï¼Œä½†è¢«è§‚å¯Ÿè€…è¿˜æ˜¯å¯ä»¥ç»§ç»­å‘é€äº‹ä»¶</h3><pre><code> mDisposable.dispose();</code></pre><h3 id="3-åˆ›å»ºæ“ä½œç¬¦åˆ†ç±»å¦‚ä¸‹ï¼š"><a href="#3-åˆ›å»ºæ“ä½œç¬¦åˆ†ç±»å¦‚ä¸‹ï¼š" class="headerlink" title="3.åˆ›å»ºæ“ä½œç¬¦åˆ†ç±»å¦‚ä¸‹ï¼š"></a>3.åˆ›å»ºæ“ä½œç¬¦åˆ†ç±»å¦‚ä¸‹ï¼š</h3><ul>
<li><p>åŸºæœ¬åˆ›å»º <code>create()</code></p>
</li>
<li><p>å¿«é€Ÿåˆ›å»ºï¼Œ</p>
<ul>
<li><p><code>just()</code>ï¼šæœ€å¤šå‘é€åä¸ªå‚æ•°</p>
</li>
<li><p><code>fromArray()</code>ï¼šä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œé•¿åº¦ä¸é™åˆ¶ï¼Œä¼ å…¥é›†åˆå¿…é¡»è½¬ä¸ºæ•°ç»„ï¼Œå¦åˆ™å½“æˆä¸€ä¸ªäº‹ä»¶</p>
</li>
<li><p><code>fromIterable()</code>ï¼šä¼ å…¥listé›†åˆ</p>
</li>
<li><p><code>never()</code>ï¼šä¸å‘é€ä»»ä½•äº‹ä»¶</p>
</li>
<li><p><code>empty()</code>ï¼šä»…å‘é€<code>Complete</code>äº‹ä»¶ï¼Œç›´æ¥é€šçŸ¥<code>Observable observable = Observable.empty();</code></p>
</li>
<li><p><code>error()</code>ï¼šè¯¥æ–¹æ³•åˆ›å»ºçš„è¢«è§‚å¯Ÿè€…å¯¹è±¡ä»…å‘é€Erroräº‹ä»¶ï¼Œç›´æ¥é€šçŸ¥å¼‚å¸¸ï¼Œå¯ä»¥è‡ªå®šä¹‰<code>Observable observable2=Observable.error(new RuntimeException())</code>å³è§‚å¯Ÿè€…æ¥æ”¶åä¼šç›´æ¥è°ƒç”¨<code>onError()</code></p>
</li>
</ul>
</li>
<li><p>å»¶è¿Ÿåˆ›å»º</p>
<p>1.å®šæ—¶æ“ä½œï¼šç»è¿‡Xç§’åï¼Œè‡ªåŠ¨æ‰§è¡ŒYæ“ä½œ<br>2.å‘¨æœŸæ€§æ“ä½œï¼šæ¯éš”Xç§’åï¼Œè‡ªåŠ¨æ‰§è¡ŒYæ“ä½œ</p>
<ul>
<li><p><code>defer()</code>ï¼šç›´åˆ°æœ‰è§‚å¯Ÿè€…è®¢é˜…æ—¶ï¼Œæ‰ä¼šåŠ¨æ€åˆ›å»ºè¢«è§‚å¯Ÿè€…ï¼Œå‘é€äº‹ä»¶</p>
<ol>
<li><p>é€šè¿‡ Observableå·¥å‚æ–¹æ³•åˆ›å»ºè¢«è§‚å¯Ÿè€…å¯¹è±¡ï¼ˆObservableï¼‰</p>
</li>
<li><p>æ¯æ¬¡è®¢é˜…åï¼Œéƒ½ä¼šå¾—åˆ°ä¸€ä¸ªåˆšåˆ›å»ºçš„æœ€æ–°çš„Observableå¯¹è±¡ï¼Œè¿™å¯ä»¥ç¡®ä¿Observableå¯¹è±¡é‡Œçš„æ•°æ®æ˜¯æœ€æ–°çš„</p>
<pre><code>// æ³¨ï¼šæ­¤æ—¶è¢«è§‚å¯Ÿè€…å¯¹è±¡è¿˜æ²¡åˆ›å»º
Observable&lt;Integer&gt; observable = Observable.defer(new Callable&lt;ObservableSource&lt;? extends Integer&gt;&gt;() {
   @Override
   public ObservableSource&lt;? extends Integer&gt; call() throws Exception {
       return Observable.just(i);
   }
});</code></pre></li>
</ol>
</li>
<li><p><code>timer()</code></p>
<ol>
<li>å¿«é€Ÿåˆ›å»ºä¸€ä¸ªè¢«è§‚å¯Ÿè€…å¯¹è±¡(Observable)</li>
<li>å‘é€äº‹ä»¶çš„ç‰¹ç‚¹ï¼šå»¶è¿ŸæŒ‡å®šæ—¶é—´åï¼Œå‘é€1ä¸ªæ•°å€¼0ï¼ˆlongäº†ç±»å‹ï¼‰</li>
<li>å»¶è¿ŸæŒ‡å®šæ—¶é—´åï¼Œè°ƒç”¨ä¸€æ¬¡onnext(0)ï¼Œä¸€èˆ¬ç”¨äºæ£€æµ‹</li>
</ol>
</li>
<li><p><code>interval()</code></p>
<ol>
<li>å¿«é€Ÿåˆ›å»º1ä¸ªè¢«è§‚å¯Ÿè€…å¯¹è±¡ï¼ˆObservableï¼‰</li>
<li>å‘é€äº‹ä»¶çš„ç‰¹ç‚¹ï¼šæ¯éš”æŒ‡å®šæ—¶é—´ å°±å‘é€ äº‹ä»¶</li>
</ol>
</li>
<li><p><code>intervalRange()</code></p>
<ol>
<li>æ¯éš”æŒ‡å®šæ—¶é—´ å°±å‘é€ äº‹ä»¶ï¼Œå¯æŒ‡å®šå‘é€çš„æ•°æ®çš„æ•°é‡</li>
</ol>
</li>
<li><p><code>range()</code></p>
<ol>
<li>è¿ç»­å‘é€ 1ä¸ªäº‹ä»¶åºåˆ—ï¼Œå¯æŒ‡å®šèŒƒå›´</li>
</ol>
</li>
</ul>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>Retrofit å„ä¸ªæ³¨è§£çš„ä½¿ç”¨</title>
    <url>/2019/03/02/Retrofit%20%E5%90%84%E4%B8%AA%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<pre><code>* è¯·æ±‚æ–¹å¼æœ‰ï¼š
 * @Get
 * @post
 * @PUT
 * @DELETE
 * @HEAD
 * @OPTIONS
 * @HTTP (å¯ç”¨äºæ›¿æ¢ä¸Šé¢æ‰€æœ‰çš„è¯·æ±‚æ–¹å¼)
 * &lt;p&gt;
 * &lt;p&gt;
 * æ ‡è®°è¯·æ±‚æ–¹æ³•æœ‰ï¼š
 * @FormUrlEncoded è¡¨ç¤ºè¯·æ±‚æ˜¯ä¸€ä¸ªFormè¡¨å•
 * æ¯ä¸ªé”®å€¼å¯¹éœ€è¦ç”¨@Filedæ¥æ³¨è§£é”®åï¼Œéšåçš„å¯¹è±¡éœ€è¦æä¾›å€¼ã€‚
 * &lt;p&gt;
 * &lt;p&gt;
 * @Multipart è¡¨ç¤ºè¯·æ±‚ä½“æ˜¯ä¸€ä¸ªæ”¯æŒæ–‡ä»¶ä¸Šä¼ çš„Formè¡¨å•
 * æ¯ä¸ªé”®å€¼å¯¹éœ€è¦ç”¨@Partæ¥æ³¨è§£é”®åï¼Œéšåçš„å¯¹è±¡éœ€è¦æä¾›å€¼ã€‚
 * &lt;p&gt;
 * &lt;p&gt;
 * @Streaming è¡¨ç¤ºè¿”å›çš„æ•°æ®ä»¥æµçš„å½¢å¼è¿”å›ï¼Œé€‚ç”¨äºè¿”å›æ•°æ®è¾ƒå¤§çš„åœºæ™¯
 * ï¼ˆå¦‚æœæ²¡æœ‰è¯¥æ³¨è§£ï¼Œé»˜è®¤æŠŠæ•°æ®å…¨éƒ¨è½½å…¥å†…å­˜ï¼Œä¹‹åè·å–æ•°æ®ä¹Ÿæ˜¯ä»å†…å­˜ä¸­è¯»å–ï¼‰
 * &lt;p&gt;
 * &lt;p&gt;
 * ç½‘ç»œè¯·æ±‚å‚æ•°å¦‚ä¸‹ï¼š
 * @Headers æ·»åŠ è¯·æ±‚å¤´ï¼Œå›ºå®šå‚æ•°
 * @Body ä»¥ Postæ–¹å¼ ä¼ é€’ è‡ªå®šä¹‰æ•°æ®ç±»å‹ ç»™æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ä¼ é€’Mapï¼Œç›¸å½“äº@Fieldï¼Œéœ€è¦åšå¤„ç†
 * FormBody.Builder builder = new FormBody.Builder();
 * builder.add(&quot;key&quot;,&quot;value&quot;);
 * &lt;p&gt;
 * &lt;p&gt;
 * &lt;p&gt;
 * @Fieldä»¥åŠ@FieldMap ä¼ é€’å•ä¸ªå‚æ•°æˆ–è€…ä¸€ä¸ªMapé›†åˆ
 * &lt;p&gt;
 * &lt;p&gt;
 * &lt;p&gt;
 * @Part &amp; @PartMapï¼Œæäº¤æ–‡ä»¶ï¼Œæ³¨æ„Mapæ·»åŠ å‚æ•°æ˜¯ï¼Œå€¼ä¸ºresponseBody
 * &lt;p&gt;
 * &lt;p&gt;
 * &lt;p&gt;
 * @Queryä»¥åŠ@QueryMap ç”¨æ³•ä¸@Fieldç›¸åŒ
 * &lt;p&gt;
 * &lt;p&gt;
 * &lt;p&gt;
 * @Path è®¿é—®çš„APIæ˜¯ï¼šhttps://api.github.com/users/{user}/repos
 * åœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œ {user} ä¼šè¢«æ›¿æ¢ä¸ºæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•° userï¼ˆè¢«@Pathæ³¨è§£ä½œç”¨ï¼‰
 * &lt;p&gt;
 * &lt;p&gt;
 * &lt;p&gt;
 * @Url å½“æœ‰URLæ³¨è§£æ—¶ï¼Œ@GETä¼ å…¥çš„URLå°±å¯ä»¥çœç•¥,å½“GETã€POST...HTTPç­‰æ–¹æ³•ä¸­æ²¡æœ‰è®¾ç½®Urlæ—¶ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ {@link Url}æä¾›
 *
 *
 */
public interface RetrofitApi {

    /**
     * methodï¼šç½‘ç»œè¯·æ±‚çš„æ–¹æ³•ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
     * pathï¼šç½‘ç»œè¯·æ±‚åœ°å€è·¯å¾„
     * hasBodyï¼šæ˜¯å¦æœ‰è¯·æ±‚ä½“
     */
    @HTTP(method = &quot;GET&quot;, path = &quot;blog/id=8&quot;, hasBody = true)
    Observable&lt;LoginResponse&gt; testHttp(@Body LoginRequest request);

    @POST(&quot;/post&quot;)
    Observable&lt;LoginResponse&gt; login(@Body LoginRequest request);

    /**
     * æ·»åŠ è¯·æ±‚å¤´ï¼Œä¸å›ºå®šå½¢å¼ï¼Œå‚æ•°éœ€è¦ä¼ å€¼
     *
     * @param plat å‚æ•°å€¼
     * @return è®¿é—®çš„APIæ˜¯ï¼šhttps://api.github.com/users/{user}/repos
     * åœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œ {user} ä¼šè¢«æ›¿æ¢ä¸ºæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•° userï¼ˆè¢«@Pathæ³¨è§£ä½œç”¨ï¼‰
     */
    @POST(&quot;users/{user}/rew&quot;)
    @FormUrlEncoded
    Observable&lt;LoginResponse&gt; getUser(@Path(&quot;user&quot;) String user, @Header(&quot;plat&quot;) String plat, @Field(&quot;userName&quot;) String name, @Field(&quot;age&quot;) int age);


    /**
     * æ·»åŠ Mapé›†åˆè¯·æ±‚å‚æ•°
     *
     * @param map å½“æœ‰URLæ³¨è§£æ—¶ï¼Œ@GETä¼ å…¥çš„URLå°±å¯ä»¥çœç•¥,å½“GETã€POST...HTTPç­‰æ–¹æ³•ä¸­æ²¡æœ‰è®¾ç½®Urlæ—¶ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ {@link Url}æä¾›
     * @return
     */
    @POST
    @FormUrlEncoded
    Observable&lt;LoginResponse&gt; testFileMap(@Url String url, @FieldMap Map&lt;String, String&gt; map);


    /**
     * @param name {@link RequestBody}ã€{@link okhttp3.MultipartBody.Part} ã€ä»»æ„ç±»å‹
     * @param age  é™¤ {@link okhttp3.MultipartBody.Part} ä»¥å¤–ï¼Œ
     *             å…¶å®ƒç±»å‹éƒ½å¿…é¡»å¸¦ä¸Šè¡¨å•å­—æ®µ({@link okhttp3.MultipartBody.Part} ä¸­å·²ç»åŒ…å«äº†è¡¨å•å­—æ®µçš„ä¿¡æ¯)ï¼Œ
     * @param file
     * @return
     */
    @POST(&quot;/asd&quot;)
    @Multipart
    Observable&lt;LoginResponse&gt; testPart(@Part(&quot;name&quot;) RequestBody name, @Part(&quot;age&quot;) RequestBody age, @Part MultipartBody.Part file);


    /**
     * ç”¨äº @GET æ–¹æ³•çš„æŸ¥è¯¢å‚æ•°ï¼ˆQuery = Url ä¸­ â€˜?â€™ åé¢çš„ key-valueï¼‰
     * url = http://www.println.net/?cate=androidï¼Œå…¶ä¸­ï¼ŒQuery = cate
     *
     * @param cate
     * @return
     */
    @GET
    Observable&lt;LoginResponse&gt; useQuery(@Query(&quot;cate&quot;) String cate);

    /**
     * è¡¨å•å½¢å¼ä¸Šä¼ æ–‡ä»¶ï¼Œæ·»åŠ å‚æ•°åˆ°RequestBody
     *
     * @param map
     * @param file
     * @return
     */
    @POST(&quot;asds&quot;)
    @Multipart
    Observable&lt;LoginResponse&gt; testPartMap(@PartMap Map&lt;String, RequestBody&gt; map, @Part MultipartBody.Part file);

    /**
     * æ·»åŠ å›ºå®šå‚æ•°çš„è¯·æ±‚å¤´
     *
     * @param request
     * @param name
     * @return
     */
    @POST(&quot;/post&quot;)
    @Headers(&quot;plat: 1&quot;)
    @FormUrlEncoded
    Observable&lt;LoginResponse&gt; testForm(@Body LoginRequest request, @Field(&quot;userName&quot;) String name);

    @POST
    Observable&lt;RegisterResponse&gt; register(@Body RegisterRequest request);

    @POST
    @Multipart
    Observable&lt;RegisterResponse&gt; testMuilt(@Body RegisterRequest request, @Part(&quot;name&quot;) RequestBody name, @Part MultipartBody.Part file);

    @POST
    Observable&lt;BookInfoResponse&gt; getBookInfo(@Body BookInfoRequest request);

    @POST
    Observable&lt;BookCommentResponse&gt; getBookComment(@Body BookCommentRequest request);
</code></pre>]]></content>
  </entry>
  <entry>
    <title>Rxjava2.0ç¬”è®°-001-åŸºæœ¬ä½¿ç”¨</title>
    <url>/2019/03/01/Rxjava2.0%E7%AC%94%E8%AE%B0-001-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<blockquote>
<p>è¯¥ç¬”è®°å‚è€ƒå¦‚ä¸‹ä¸¤ç¯‡åšå®¢<br><a href="https://www.jianshu.com/p/0cd258eecf60" target="_blank" rel="noopener">è¿™å¯èƒ½æ˜¯æœ€å¥½çš„RxJava 2.x æ•™ç¨‹ï¼ˆå®Œç»“ç‰ˆï¼‰</a><br><a href="https://www.jianshu.com/p/464fa025229e" target="_blank" rel="noopener">ç»™åˆå­¦è€…çš„RxJava2.0æ•™ç¨‹(ä¸€)</a></p>
</blockquote>
<blockquote>
<blockquote>
<p><a href="https://github.com/ALguojian/RxjavaDemo" target="_blank" rel="noopener">Demoåœ°å€ï¼Œå¿«å¿«ç‚¹æˆ‘</a></p>
</blockquote>
</blockquote>
<a id="more"></a>


<pre><code>
Disposable mDisposable;
    int i;

    /**
     * ä¸Šæ¸¸å¯ä»¥å‘é€æ— é™ä¸ªonNext, ä¸‹æ¸¸ä¹Ÿå¯ä»¥æ¥æ”¶æ— é™ä¸ªonNext.
     * å½“ä¸Šæ¸¸å‘é€äº†ä¸€ä¸ªonCompleteå, ä¸Šæ¸¸onCompleteä¹‹åçš„äº‹ä»¶å°†ä¼šç»§ç»­å‘é€,
     * è€Œä¸‹æ¸¸æ”¶åˆ°onCompleteäº‹ä»¶ä¹‹åå°†ä¸å†ç»§ç»­æ¥æ”¶äº‹ä»¶.
     * å½“ä¸Šæ¸¸å‘é€äº†ä¸€ä¸ªonErrorå, ä¸Šæ¸¸onErrorä¹‹åçš„äº‹ä»¶å°†ç»§ç»­å‘é€,
     * è€Œä¸‹æ¸¸æ”¶åˆ°onErroräº‹ä»¶ä¹‹åå°†ä¸å†ç»§ç»­æ¥æ”¶äº‹ä»¶.
     * ä¸Šæ¸¸å¯ä»¥ä¸å‘é€onCompleteæˆ–onError.
     * æœ€ä¸ºå…³é”®çš„æ˜¯onCompleteå’ŒonErrorå¿…é¡»å”¯ä¸€å¹¶ä¸”äº’æ–¥, å³ä¸èƒ½å‘å¤šä¸ªonComplete,
     * ä¹Ÿä¸èƒ½å‘å¤šä¸ªonError, ä¹Ÿä¸èƒ½å…ˆå‘ä¸€ä¸ªonComplete, ç„¶åå†å‘ä¸€ä¸ªonError, åä¹‹äº¦ç„¶
     */
    public void getSomeThing() {

        //åˆ›å»ºä¸Šæ¸¸ï¼Œè¢«è§‚å¯Ÿè€…ï¼Œå‘å°„è€…
        //å®ƒå¯ä»¥å‘å‡ºä¸‰ç§ç±»å‹çš„äº‹ä»¶ï¼Œé€šè¿‡è°ƒç”¨emitterçš„onNext(T value)ã€
        // onComplete()å’ŒonError(Throwable error)å°±å¯ä»¥åˆ†åˆ«å‘å‡ºnextäº‹ä»¶ã€completeäº‹ä»¶å’Œerroräº‹ä»¶ã€‚

        //æ³¨: å…³äºonCompleteå’ŒonErrorå”¯ä¸€å¹¶ä¸”äº’æ–¥è¿™ä¸€ç‚¹,
        // æ˜¯éœ€è¦è‡ªè¡Œåœ¨ä»£ç ä¸­è¿›è¡Œæ§åˆ¶, å¦‚æœä½ çš„ä»£ç é€»è¾‘ä¸­è¿èƒŒäº†è¿™ä¸ªè§„åˆ™,
        // **å¹¶ä¸ä¸€å®šä¼šå¯¼è‡´ç¨‹åºå´©æºƒ. ** æ¯”å¦‚å‘é€å¤šä¸ªonCompleteæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„,
        // ä¾ç„¶æ˜¯æ”¶åˆ°ç¬¬ä¸€ä¸ªonCompleteå°±ä¸å†æ¥æ”¶äº†, ä½†è‹¥æ˜¯å‘é€å¤šä¸ªonError,
        // åˆ™æ”¶åˆ°ç¬¬äºŒä¸ªonErroräº‹ä»¶ä¼šå¯¼è‡´ç¨‹åºä¼šå´©æºƒ.
        Observable&lt;Integer&gt; observable = Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {

            /**
             *
             * @param emitter å‘å°„å™¨ å®ƒå¯ä»¥å‘å‡ºä¸‰ç§ç±»å‹çš„äº‹ä»¶ï¼Œé€šè¿‡è°ƒç”¨emitterçš„onNext(T value)ã€
             *                  onComplete()å’ŒonError(Throwable error)å°±å¯ä»¥åˆ†åˆ«å‘å‡ºnextäº‹ä»¶ã€completeäº‹ä»¶å’Œerroräº‹ä»¶ã€‚
             *
             *                ---------------------------------æ³¨æ„å¦‚ä¸‹--------------------------
             *
             *                1.ä¸Šæ¸¸å¯ä»¥å‘é€æ— é™ä¸ªonNext, ä¸‹æ¸¸ä¹Ÿå¯ä»¥æ¥æ”¶æ— é™ä¸ªonNext.
             *
             *                2.å½“ä¸Šæ¸¸å‘é€äº†ä¸€ä¸ªonCompleteå, ä¸Šæ¸¸onCompleteä¹‹åçš„äº‹ä»¶å°†ä¼šç»§ç»­å‘é€,
             *                  è€Œä¸‹æ¸¸æ”¶åˆ°onCompleteäº‹ä»¶ä¹‹åå°†ä¸å†ç»§ç»­æ¥æ”¶äº‹ä»¶.
             *
             *                3.å½“ä¸Šæ¸¸å‘é€äº†ä¸€ä¸ªonErrorå, ä¸Šæ¸¸onErrorä¹‹åçš„äº‹ä»¶å°†ç»§ç»­å‘é€,
             *                  è€Œä¸‹æ¸¸æ”¶åˆ°onErroräº‹ä»¶ä¹‹åå°†ä¸å†ç»§ç»­æ¥æ”¶äº‹ä»¶.
             *
             *                4.ä¸Šæ¸¸å¯ä»¥ä¸å‘é€onCompleteæˆ–onError.
             *
             *                5.æœ€ä¸ºå…³é”®çš„æ˜¯onCompleteå’ŒonErrorå¿…é¡»å”¯ä¸€å¹¶ä¸”äº’æ–¥, å³ä¸èƒ½å‘å¤šä¸ªonComplete,
             *                  ä¹Ÿä¸èƒ½å‘å¤šä¸ªonError, ä¹Ÿä¸èƒ½å…ˆå‘ä¸€ä¸ªonComplete, ç„¶åå†å‘ä¸€ä¸ªonError, åä¹‹äº¦ç„¶
             *
             * @throws Exception
             */
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {

                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
                emitter.onNext(4);
                emitter.onComplete();
            }
        });


        //åˆ›å»ºä¸‹æ¸¸ï¼Œè§‚å¯Ÿè€…ï¼Œ
        Observer&lt;Integer&gt; integerObserver = new Observer&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Disposable d) {
                mDisposable = d;
            }

            @Override
            public void onNext(Integer o) {
                //è°ƒç”¨dispose()å¹¶ä¸ä¼šå¯¼è‡´ä¸Šæ¸¸ä¸å†ç»§ç»­å‘é€äº‹ä»¶, ä¸Šæ¸¸ä¼šç»§ç»­å‘é€å‰©ä½™çš„äº‹ä»¶.
                if (i == 2) {
                    mDisposable.dispose();
                }
            }

            @Override
            public void onError(Throwable e) {
            }

            @Override
            public void onComplete() {
            }
        };
        observable.subscribe(integerObserver);
    }

    //å…³è”å­—æ®µsubscribe()

    /**
     * public final Disposable subscribe() {}
     * public final Disposable subscribe(Consumer&lt;? super T&gt; onNext) {}
     * public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError) {}
     * public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete) {}
     * public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete, Consumer&lt;? super Disposable&gt; onSubscribe) {}
     * public final void subscribe(Observer&lt;? super T&gt; observer) {}
     **/

    /**ä¸å¸¦ä»»ä½•å‚æ•°çš„subscribe() è¡¨ç¤ºä¸‹æ¸¸ä¸å…³å¿ƒä»»ä½•äº‹ä»¶,ä½ ä¸Šæ¸¸å°½ç®¡å‘ä½ çš„æ•°æ®å»å§, è€å­å¯ä¸ç®¡ä½ å‘ä»€ä¹ˆ.**/

    /**
     * å¸¦æœ‰ä¸€ä¸ªConsumerå‚æ•°çš„æ–¹æ³•è¡¨ç¤ºä¸‹æ¸¸åªå…³å¿ƒonNextäº‹ä»¶, å…¶ä»–çš„äº‹ä»¶æˆ‘å‡è£…æ²¡çœ‹è§, å› æ­¤æˆ‘ä»¬å¦‚æœåªéœ€è¦onNextäº‹ä»¶å¯ä»¥è¿™ä¹ˆå†™:
     */
    public void useConsumer() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {

            }
        }).subscribe(new Consumer&lt;Integer&gt;() {
            @Override
            public void accept(Integer integer) throws Exception {

            }
        });

    }

    /**
     * å…³äºçº¿ç¨‹çš„è°ƒæ§ï¼Œä¸Šä¸‹æ¸¸é»˜è®¤æ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹å·¥ä½œ
     * &lt;p&gt;
     * æŒ‡å®šä¸Šæ¸¸å‘é€äº‹ä»¶çš„çº¿ç¨‹ï¼Œå¤šæ¬¡æŒ‡å®šä¸Šæ¸¸çš„çº¿ç¨‹åªæœ‰ç¬¬ä¸€æ¬¡æŒ‡å®šçš„æœ‰æ•ˆ, ä¹Ÿå°±æ˜¯è¯´å¤šæ¬¡è°ƒç”¨subscribeOn() åªæœ‰ç¬¬ä¸€æ¬¡çš„æœ‰æ•ˆ, å…¶ä½™çš„ä¼šè¢«å¿½ç•¥.
     * .subscribeOn(Schedulers.newThread())
     * &lt;p&gt;
     * æŒ‡å®šä¸‹æ¸¸æ¥æ”¶äº‹ä»¶æ‰€åœ¨çº¿ç¨‹ï¼Œå¤šæ¬¡æŒ‡å®šä¸‹æ¸¸çš„çº¿ç¨‹æ˜¯å¯ä»¥çš„, ä¹Ÿå°±æ˜¯è¯´æ¯è°ƒç”¨ä¸€æ¬¡observeOn() , ä¸‹æ¸¸çš„çº¿ç¨‹å°±ä¼šåˆ‡æ¢ä¸€æ¬¡.
     * .observeOn(AndroidSchedulers.mainThread())
     * &lt;p&gt;
     * Schedulers.io() ä»£è¡¨ioæ“ä½œçš„çº¿ç¨‹, é€šå¸¸ç”¨äºç½‘ç»œ,è¯»å†™æ–‡ä»¶ç­‰ioå¯†é›†å‹çš„æ“ä½œ
     * Schedulers.computation() ä»£è¡¨CPUè®¡ç®—å¯†é›†å‹çš„æ“ä½œ, ä¾‹å¦‚éœ€è¦å¤§é‡è®¡ç®—çš„æ“ä½œ
     * Schedulers.newThread() ä»£è¡¨ä¸€ä¸ªå¸¸è§„çš„æ–°çº¿ç¨‹
     * AndroidSchedulers.mainThread() ä»£è¡¨Androidçš„ä¸»çº¿ç¨‹
     **/
    //ä¾‹å­å¦‚ä¸‹
    public void aa() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {

            }
        }).subscribeOn(Schedulers.newThread())
                .subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .observeOn(Schedulers.io())
                .subscribe(new Consumer&lt;Integer&gt;() {
                    @Override
                    public void accept(Integer integer) throws Exception {

                    }
                });

    }


    /**
     * Flowableåœ¨è®¾è®¡çš„æ—¶å€™é‡‡ç”¨äº†ä¸€ç§æ–°çš„æ€è·¯ä¹Ÿå°±æ˜¯å“åº”å¼æ‹‰å–çš„æ–¹å¼æ¥æ›´å¥½çš„è§£å†³ä¸Šä¸‹æ¸¸æµé€Ÿä¸å‡è¡¡çš„é—®é¢˜.
     * &lt;p&gt;
     * ä¸Šæ¸¸æ ¹æ®ä¸‹æ¸¸çš„å¤„ç†èƒ½åŠ›æ¥å†³å®šå‘é€å¤šå°‘äº‹ä»¶, å°±ä¸ä¼šé€ æˆä¸€çªèœ‚çš„å‘å‡ºä¸€å †äº‹ä»¶æ¥, ä»è€Œå¯¼è‡´OOM.
     * &lt;p&gt;
     * ä¸Šæœ‰äº‹ä»¶å‘é€ä¹Ÿè¦åšç‰¹æ®Šå¤„ç†
     * &lt;p&gt;
     * &lt;p&gt;
     * ä¸ºä»€ä¹ˆä¸Šæ¸¸å‘é€ç¬¬ä¸€ä¸ªäº‹ä»¶åä¸‹æ¸¸å°±æŠ›å‡ºäº†MissingBackpressureExceptionå¼‚å¸¸,
     * è¿™æ˜¯å› ä¸ºä¸‹æ¸¸æ²¡æœ‰è°ƒç”¨request, ä¸Šæ¸¸å°±è®¤ä¸ºä¸‹æ¸¸æ²¡æœ‰å¤„ç†äº‹ä»¶çš„èƒ½åŠ›, è€Œè¿™åˆæ˜¯ä¸€ä¸ªåŒæ­¥çš„è®¢é˜…,
     * æ—¢ç„¶ä¸‹æ¸¸å¤„ç†ä¸äº†, é‚£ä¸Šæ¸¸ä¸å¯èƒ½ä¸€ç›´ç­‰å¾…å§, å¦‚æœæ˜¯è¿™æ ·, ä¸‡ä¸€è¿™ä¸¤æ ¹æ°´ç®¡å·¥ä½œåœ¨ä¸»çº¿ç¨‹é‡Œ, ç•Œé¢ä¸å°±å¡æ­»äº†å—, å› 
     * æ­¤åªèƒ½æŠ›ä¸ªå¼‚å¸¸æ¥æé†’æˆ‘ä»¬. é‚£å¦‚ä½•è§£å†³è¿™ç§æƒ…å†µå‘¢, å¾ˆç®€å•å•¦, ä¸‹æ¸¸ç›´æ¥è°ƒç”¨request(Long.MAX_VALUE)å°±è¡Œäº†,
     * æˆ–è€…æ ¹æ®ä¸Šæ¸¸å‘é€äº‹ä»¶çš„æ•°é‡æ¥requestå°±è¡Œäº†, æ¯”å¦‚è¿™é‡Œrequest(3)å°±å¯ä»¥äº†.
     * &lt;p&gt;
     * åœ¨Flowableé‡Œé»˜è®¤æœ‰ä¸€ä¸ªå¤§å°ä¸º128çš„æ°´ç¼¸, å½“ä¸Šä¸‹æ¸¸å·¥ä½œåœ¨ä¸åŒçš„çº¿ç¨‹ä¸­æ—¶,
     * ä¸Šæ¸¸å°±ä¼šå…ˆæŠŠäº‹ä»¶å‘é€åˆ°è¿™ä¸ªæ°´ç¼¸ä¸­, å› æ­¤, ä¸‹æ¸¸è™½ç„¶æ²¡æœ‰è°ƒç”¨request,
     * ä½†æ˜¯ä¸Šæ¸¸åœ¨æ°´ç¼¸ä¸­ä¿å­˜ç€è¿™äº›äº‹ä»¶, åªæœ‰å½“ä¸‹æ¸¸è°ƒç”¨requestæ—¶, æ‰ä»æ°´ç¼¸é‡Œå–å‡ºäº‹ä»¶å‘ç»™ä¸‹æ¸¸.
     * &lt;p&gt;
     * ç”¨BackpressureStrategy.ERRORè¿™ç§æ–¹å¼, è¿™ç§æ–¹å¼ä¼šåœ¨å‡ºç°ä¸Šä¸‹æ¸¸æµé€Ÿä¸å‡è¡¡çš„æ—¶å€™ç›´æ¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸,
     * è¿™ä¸ªå¼‚å¸¸å°±æ˜¯è‘—åçš„MissingBackpressureException
     * ä»¥ä¸‹æœ‰å¤šä¸ªæ–¹å¼
     * &lt;p&gt;
     * MISSING,
     * ERROR,ç›´æ¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸
     * BUFFER,è®¾ç½®æ–°æ°´ç¼¸ï¼Œæ²¡æœ‰å¤§å°é™åˆ¶, å› æ­¤å¯ä»¥å­˜æ”¾è®¸è®¸å¤šå¤šçš„äº‹ä»¶.
     * DROP,ç›´æ¥æŠŠå­˜ä¸ä¸‹çš„äº‹ä»¶ä¸¢å¼ƒ
     * LATESTï¼Œåªä¿ç•™æœ€æ–°çš„äº‹ä»¶
     */


    public void useFlowable() {

        Flowable&lt;Integer&gt; integerFlowable = Flowable.create(new FlowableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(FlowableEmitter&lt;Integer&gt; emitter) throws Exception {
                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
                emitter.onNext(4);
                emitter.onComplete();
            }
        }, BackpressureStrategy.ERROR);

        Subscriber&lt;Integer&gt; stream = new Subscriber&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Subscription s) {

                //åˆ‡æ–­æ°´ç®¡
                s.cancel();
                //å‘ä¸Šåˆå‘å‡ºæ¶ˆæ¯ï¼Œè¿™æ¬¡éœ€è¦å¤„ç†åˆ°çš„äº‹ä»¶ä¸ªæ•°
                s.request(Long.MAX_VALUE);
            }

            @Override
            public void onNext(Integer integer) {
            }

            @Override
            public void onError(Throwable t) {
            }

            @Override
            public void onComplete() {
            }
        };

        integerFlowable.subscribe(stream);


    }


    /**
     * ä½¿ç”¨Flowableæ“ä½œç¬¦--interval
     * &lt;p&gt;
     * intervalæ“ä½œç¬¦å‘é€Longå‹çš„äº‹ä»¶, ä»0å¼€å§‹, æ¯éš”æŒ‡å®šçš„æ—¶é—´å°±æŠŠæ•°å­—åŠ 1å¹¶å‘é€å‡ºæ¥,
     * åœ¨è¿™ä¸ªä¾‹å­é‡Œ, æˆ‘ä»¬è®©å®ƒæ¯éš”1æ¯«ç§’å°±å‘é€ä¸€æ¬¡äº‹ä»¶, åœ¨ä¸‹æ¸¸å»¶æ—¶1ç§’å»æ¥æ”¶å¤„ç†, ä¸ç”¨çŒœä¹ŸçŸ¥é“ç»“æœæ˜¯ä»€ä¹ˆ:
     * &lt;p&gt;
     * å¤„ç†æ–¹å¼--åŠ ä¸ŠèƒŒå‹-- .onBackpressureDrop()
     * &lt;p&gt;
     * å½“ä¸Šä¸‹æ¸¸å·¥ä½œåœ¨ä¸åŒçš„çº¿ç¨‹é‡Œæ—¶ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹é‡Œéƒ½æœ‰ä¸€ä¸ªrequestedï¼Œ
     * è€Œæˆ‘ä»¬è°ƒç”¨requestï¼ˆ1000ï¼‰æ—¶ï¼Œå®é™…ä¸Šæ”¹å˜çš„æ˜¯ä¸‹æ¸¸ä¸»çº¿ç¨‹ä¸­çš„requestedï¼Œ
     * è€Œä¸Šæ¸¸ä¸­çš„requestedçš„å€¼æ˜¯ç”±RxJavaå†…éƒ¨è°ƒç”¨request(n)å»è®¾ç½®çš„ï¼Œè¿™ä¸ªè°ƒç”¨ä¼šåœ¨åˆé€‚çš„æ—¶å€™è‡ªåŠ¨è§¦å‘ã€‚
     */
    public void useFlowableInterval() {

        Flowable.interval(1, TimeUnit.MICROSECONDS)
                .onBackpressureDrop()
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Subscriber&lt;Long&gt;() {
                    @Override
                    public void onSubscribe(Subscription s) {

                        s.request(Long.MAX_VALUE);
                    }

                    @Override
                    public void onNext(Long aLong) {

                        try {
                            Thread.sleep(1000);
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                    }

                    @Override
                    public void onError(Throwable t) {

                    }

                    @Override
                    public void onComplete() {

                    }
                });


    }


    /**
     * åŒæ­¥æƒ…å†µä¸‹ï¼š
     * å½“ä¸Šä¸‹æ¸¸åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­çš„æ—¶å€™ï¼Œåœ¨ä¸‹æ¸¸è°ƒç”¨request(n)å°±ä¼šç›´æ¥æ”¹å˜ä¸Šæ¸¸ä¸­çš„requestedçš„å€¼ï¼Œ
     * å¤šæ¬¡è°ƒç”¨ä¾¿ä¼šå åŠ è¿™ä¸ªå€¼ï¼Œè€Œä¸Šæ¸¸æ¯å‘é€ä¸€ä¸ªäº‹ä»¶ä¹‹åä¾¿ä¼šå»å‡å°‘è¿™ä¸ªå€¼ï¼Œ
     * å½“è¿™ä¸ªå€¼å‡å°‘è‡³0çš„æ—¶å€™ï¼Œç»§ç»­å‘é€äº‹ä»¶ä¾¿ä¼šæŠ›å¼‚å¸¸äº†ã€‚
     * &lt;p&gt;
     * å¼‚æ­¥æƒ…å†µï¼š
     * &lt;p&gt;
     * ä¸Šä¸‹æ¸¸å·¥ä½œåœ¨ä¸åŒçš„çº¿ç¨‹é‡Œæ—¶ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹é‡Œéƒ½æœ‰ä¸€ä¸ªrequestedï¼Œ
     * è€Œæˆ‘ä»¬è°ƒç”¨requestï¼ˆ1000ï¼‰æ—¶ï¼Œå®é™…ä¸Šæ”¹å˜çš„æ˜¯ä¸‹æ¸¸ä¸»çº¿ç¨‹ä¸­çš„requestedï¼Œ
     * è€Œä¸Šæ¸¸ä¸­çš„requestedçš„å€¼æ˜¯ç”±RxJavaå†…éƒ¨è°ƒç”¨request(n)å»è®¾ç½®çš„ï¼Œ
     * è¿™ä¸ªè°ƒç”¨ä¼šåœ¨åˆé€‚çš„æ—¶å€™è‡ªåŠ¨è§¦å‘ã€‚
     * &lt;p&gt;
     * &lt;p&gt;
     * ç°åœ¨æˆ‘ä»¬å°±èƒ½ç†è§£ä¸ºä»€ä¹ˆæ²¡æœ‰è°ƒç”¨requestï¼Œä¸Šæ¸¸ä¸­çš„å€¼æ˜¯128äº†ï¼Œ
     * å› ä¸ºä¸‹æ¸¸åœ¨ä¸€å¼€å§‹å°±åœ¨å†…éƒ¨è°ƒç”¨äº†request(128)å»è®¾ç½®äº†ä¸Šæ¸¸ä¸­çš„å€¼ï¼Œå› æ­¤å³ä½¿ä¸‹æ¸¸æ²¡æœ‰è°ƒç”¨request()ï¼Œ
     * ä¸Šæ¸¸ä¹Ÿèƒ½å‘é€128ä¸ªäº‹ä»¶ï¼Œè¿™ä¹Ÿå¯ä»¥è§£é‡Šä¹‹å‰æˆ‘ä»¬ä¸ºä»€ä¹ˆè¯´Flowableä¸­é»˜è®¤çš„æ°´ç¼¸å¤§å°æ˜¯128ï¼Œå…¶å®å°±æ˜¯è¿™é‡Œè®¾ç½®çš„
     */
    public void setRequestId() {

        Flowable
                .create(new FlowableOnSubscribe&lt;Integer&gt;() {
                    @Override
                    public void subscribe(FlowableEmitter&lt;Integer&gt; emitter) throws Exception {

                    }
                }, BackpressureStrategy.ERROR)
                .subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Subscriber&lt;Integer&gt;() {
                    @Override
                    public void onSubscribe(Subscription s) {

                        s.request(10);
                    }

                    @Override
                    public void onNext(Integer integer) {

                    }

                    @Override
                    public void onError(Throwable t) {

                    }

                    @Override
                    public void onComplete() {

                    }
                });

    }

</code></pre><h2 id="rxjavaæ“ä½œç¬¦ä½¿ç”¨å¦‚ä¸‹ï¼š"><a href="#rxjavaæ“ä½œç¬¦ä½¿ç”¨å¦‚ä¸‹ï¼š" class="headerlink" title="rxjavaæ“ä½œç¬¦ä½¿ç”¨å¦‚ä¸‹ï¼š"></a>rxjavaæ“ä½œç¬¦ä½¿ç”¨å¦‚ä¸‹ï¼š</h2><pre><code>/**
 * RxJavaæ“ä½œç¬¦ä½¿ç”¨å·¥å…·ç±»
 *
 * @author ALguojian
 * @date 2018/1/4
 */


public class RxJavaUtils {

    private static StringBuilder aaa = new StringBuilder();

    /**
     * mapæ“ä½œç¬¦ä½¿ç”¨,æ“ä½œæ¶ˆæ¯intè½¬åŒ–ä¸ºstringï¼Œ
     */
    public static void useMap() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {

                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
                emitter.onNext(4);
                emitter.onNext(5);

            }
        }).map(new Function&lt;Integer, String&gt;() {

            /**
             * ç”¨äºè¿”å›æ–°çš„æ¶ˆæ¯ç±»å‹
             * @param integer
             * @return
             * @throws Exception
             */
            @Override
            public String apply(Integer integer) throws Exception {
                return &quot;è¿™æ˜¯ç¬¬&quot; + integer + &quot;æ¡æ¶ˆæ¯&quot;;
            }
        }).subscribe(new Consumer&lt;String&gt;() {

            /**
             * ç”¨æˆ·æ¥æ”¶mapè½¬æ¢ä¹‹åçš„æ–°çš„æ¶ˆæ¯
             * @param s æ–°çš„æ¶ˆæ¯
             * @throws Exception
             */
            @Override
            public void accept(String s) throws Exception {

                KLog.d(TTAG, &quot;å¼€å§‹--æ‰“å°&quot; + s);
            }
        });
    }

    /**
     * åŸºæœ¬ä½¿ç”¨æµç¨‹
     * 1.åˆ›å»ºè¢«è§‚å¯Ÿè€…(ä¸Šæ¸¸äº‹ä»¶)ï¼Œä¿—ç§°å‘å°„è€…
     * 2.åˆ›å»ºè§‚å¯Ÿè€…ï¼ˆä¸‹æ¸¸äº‹ä»¶ï¼‰ï¼Œä¿—ç§°æ¥æ”¶è€…
     * 3.å…³è”äºŒè€…ä½¿ç”¨ï¼Œsubscribe
     */
    public static void commentUser() {

        final StringBuilder stringBuilder = new StringBuilder();

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {

                stringBuilder.append(&quot;å“ˆå“ˆ&quot;);
                emitter.onNext(1);
                stringBuilder.append(&quot;ï¼Œæˆ‘æ˜¯&quot;);
                emitter.onNext(2);
                //ä¸‹é¢äº‹ä»¶å¯ä»¥å‘é€ï¼Œä½†æ˜¯ä¸å†æ¥æ”¶
                emitter.onComplete();
                stringBuilder.append(&quot;å°å­¦ç”Ÿ&quot;);
                emitter.onNext(3);
            }
        }).subscribe(new Observer&lt;Integer&gt;() {

            /**
             *æ¥æ”¶è€…å›è°ƒæ–¹æ³•
             * @param d ç”¨äºåˆ¤æ–­æ˜¯å¦å¯ä»¥æ¥æ”¶äº‹ä»¶true-åœæ­¢æ¥å—ï¼›falseå¯ä»¥æ­£å¸¸æ¥æ”¶
             */
            @Override
            public void onSubscribe(Disposable d) {
                stringBuilder.append(&quot;666&quot;);
                KLog.d(TTAG, stringBuilder.toString() + &quot;---Disposable---&quot; + d.isDisposed());
            }

            @Override
            public void onNext(Integer s) {
                stringBuilder.append(&quot;666&quot;);
                KLog.d(TTAG, stringBuilder.toString() + &quot;---onNextåˆå§‹åŒ–&quot;);
                switch (s) {
                    case 1:
                        KLog.d(TTAG, &quot;æ¥æ”¶åˆ°1---&quot; + stringBuilder.toString());
                        break;
                    case 2:
                        KLog.d(TTAG, &quot;æ¥æ”¶åˆ°2---&quot; + stringBuilder.toString());
                        break;
                    case 3:
                        KLog.d(TTAG, &quot;æ¥æ”¶åˆ°3---&quot; + stringBuilder.toString());
                        break;
                    default:
                        break;
                }
            }

            @Override
            public void onError(Throwable e) {
                KLog.d(TTAG, &quot;å¤„ç†å¤±è´¥&quot;);
            }

            @Override
            public void onComplete() {
                KLog.d(TTAG, &quot;å¤„ç†å®Œæˆæ‰€æœ‰äº‹ä»¶&quot;);
            }
        });
    }


    /**
     * zip
     * æ“ä½œç¬¦ä½¿ç”¨ä¾‹å­
     * zip ä¸“ç”¨äºåˆå¹¶äº‹ä»¶ï¼Œè¯¥åˆå¹¶ä¸æ˜¯è¿æ¥ï¼ˆè¿æ¥æ“ä½œç¬¦åé¢ä¼šè¯´ï¼‰ï¼Œ
     * è€Œæ˜¯ä¸¤ä¸¤é…å¯¹ï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œæœ€ç»ˆé…å¯¹å‡ºçš„ Observable å‘å°„äº‹ä»¶æ•°ç›®åªå’Œå°‘çš„é‚£ä¸ªç›¸åŒã€‚
     * &lt;p&gt;
     * zip ç»„åˆäº‹ä»¶çš„è¿‡ç¨‹å°±æ˜¯åˆ†åˆ«ä»å‘å°„å™¨ A å’Œå‘å°„å™¨ B å„å–å‡ºä¸€ä¸ªäº‹ä»¶æ¥ç»„åˆï¼Œå¹¶ä¸”ä¸€ä¸ªäº‹ä»¶åªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡ï¼Œ
     * ç»„åˆçš„é¡ºåºæ˜¯ä¸¥æ ¼æŒ‰ç…§äº‹ä»¶å‘é€çš„é¡ºåºæ¥è¿›è¡Œçš„ï¼Œæ‰€ä»¥ä¸Šé¢æˆªå›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œ1 æ°¸è¿œæ˜¯å’Œ A ç»“åˆçš„ï¼Œ2 æ°¸è¿œæ˜¯å’Œ B ç»“åˆçš„
     */
    public static void useZip() {

        Observable.zip(getStringObservable(), getIntegerObservable(), new BiFunction&lt;String, Integer, String&gt;() {
            @Override
            public String apply(String s, Integer integer) throws Exception {
                return s + integer;
            }
        }).subscribe(new Consumer&lt;String&gt;() {
            @Override
            public void accept(String s) throws Exception {
                KLog.d(TTAG, &quot;æ–°çš„æ¶ˆæ¯å­—æ®µæ˜¯&quot; + s);
            }
        });
    }

    private static Observable&lt;String&gt; getStringObservable() {
        return Observable.create(new ObservableOnSubscribe&lt;String&gt;() {
            @Override
            public void subscribe(@NonNull ObservableEmitter&lt;String&gt; e) throws Exception {
                if (!e.isDisposed()) {
                    aaa.append(&quot;asd&quot;);
                    e.onNext(&quot;A&quot;);
                    aaa.append(&quot;asd&quot;);
                    e.onNext(&quot;B&quot;);
                    aaa.append(&quot;asd&quot;);
                    aaa.append(&quot;zxczxc&quot;);
                    e.onNext(&quot;C&quot;);
                }
            }
        });
    }

    private static Observable&lt;Integer&gt; getIntegerObservable() {
        return Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception {
                if (!e.isDisposed()) {

                    e.onNext(1);
                    aaa.append(&quot;--&quot; + 1);

                    e.onNext(2);
                    aaa.append(&quot;--&quot; + 2);

                    e.onNext(3);
                    aaa.append(&quot;--&quot; + 3);

                    e.onNext(4);
                    aaa.append(&quot;--&quot; + 4);

                    e.onNext(5);
                    aaa.append(&quot;--&quot; + 5);
                }
            }
        });
    }


    /**
     * å¯¹äºå•ä¸€çš„æŠŠä¸¤ä¸ªå‘å°„å™¨è¿æ¥æˆä¸€ä¸ªå‘å°„å™¨ï¼Œè™½ç„¶ zip ä¸èƒ½å®Œæˆï¼Œ
     * ä½†æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥è‡ªåŠ›æ›´ç”Ÿï¼Œå®˜æ–¹æä¾›çš„ concat è®©æˆ‘ä»¬çš„é—®é¢˜å¾—åˆ°äº†å®Œç¾è§£å†³ã€‚
     */
    public static void useConcat() {

        Observable.concat(Observable.just(1, 2, 3, 4), Observable.just(6, 7, 8))
                .subscribe(new Consumer&lt;Integer&gt;() {
                    @Override
                    public void accept(Integer integer) throws Exception {

                        KLog.d(TTAG, &quot;è¿™æ˜¯ç¬¬å‡ ä¸ªï¼Ÿ&quot; + integer);
                    }
                });

    }


    /**
     * FlatMap æ˜¯ä¸€ä¸ªå¾ˆæœ‰è¶£çš„ä¸œè¥¿ï¼Œæˆ‘åšä¿¡ä½ åœ¨å®é™…å¼€å‘ä¸­ä¼šç»å¸¸ç”¨åˆ°ã€‚
     * å®ƒå¯ä»¥æŠŠä¸€ä¸ªå‘å°„å™¨ Observable é€šè¿‡æŸç§æ–¹æ³•è½¬æ¢ä¸ºå¤šä¸ª Observablesï¼Œ
     * ç„¶åå†æŠŠè¿™äº›åˆ†æ•£çš„ Observablesè£…è¿›ä¸€ä¸ªå•ä¸€çš„å‘å°„å™¨ Observableã€‚ä½†æœ‰ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ
     * flatMap å¹¶ä¸èƒ½ä¿è¯äº‹ä»¶çš„é¡ºåºï¼Œå¦‚æœéœ€è¦ä¿è¯ï¼Œéœ€è¦ç”¨åˆ°æˆ‘ä»¬ä¸‹é¢è¦è®²çš„ ConcatMapã€‚
     */
    public static void useFlatMap() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {
                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
            }
        }).flatMap(new Function&lt;Integer, ObservableSource&lt;String&gt;&gt;() {
            @Override
            public ObservableSource&lt;String&gt; apply(Integer integer) throws Exception {

                ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();

                for (int i = 0; i &lt; 3; i++) {
                    strings.add(&quot;è¿™æ˜¯ç¬¬å‡ ä¸ª&quot; + i);
                }
                int time = (int) (1 + Math.random() * 10);
                return Observable.fromIterable(strings).delay(time, TimeUnit.MILLISECONDS);
            }
        }).subscribeOn(Schedulers.newThread())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Consumer&lt;String&gt;() {
                    @Override
                    public void accept(String s) throws Exception {

                        KLog.d(TTAG, s);
                    }
                });
    }


    /**
     * concatMap ä¸ FlatMap çš„å”¯ä¸€åŒºåˆ«å°±æ˜¯ concatMap ä¿è¯äº†é¡ºåº
     */
    public static void useConcatMap() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {
                emitter.onNext(1);
                emitter.onNext(2);
                emitter.onNext(3);
            }
        }).concatMap(new Function&lt;Integer, ObservableSource&lt;String&gt;&gt;() {
            @Override
            public ObservableSource&lt;String&gt; apply(Integer integer) throws Exception {

                ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();

                for (int i = 0; i &lt; 3; i++) {
                    strings.add(&quot;è¿™æ˜¯ç¬¬å‡ ä¸ª&quot; + i);
                }
                int time = (int) (1 + Math.random() * 10);
                return Observable.fromIterable(strings).delay(time, TimeUnit.MILLISECONDS);
            }
        }).subscribeOn(Schedulers.newThread())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Consumer&lt;String&gt;() {
                    @Override
                    public void accept(String s) throws Exception {

                        KLog.d(TTAG, s);
                    }
                });

    }


    /**
     * å‘å°„å™¨å‘é€æ¶ˆæ¯æœ€å¤šåä¸ª
     * distinct å»é™¤æ‰€æœ‰é‡å¤æ¶ˆæ¯
     * distinctUntilChangedå»é™¤è¿ç»­é‡å¤çš„æ¶ˆæ¯
     */
    public static void useDistinct() {

        Observable.just(1, 1, 1, 2, 2, 2, 12, 2, 3, 3)
                .distinct()
                .subscribe(new Consumer&lt;Integer&gt;() {
                    @Override
                    public void accept(Integer integer) throws Exception {

                        KLog.d(TTAG, &quot;ç¬¬å‡ æ¡&quot; + integer);
                    }
                });
    }


    /**
     * æ·»åŠ è¿‡æ»¤å™¨
     */
    public static void useFilter() {

        Observable.just(1, 20, -20, 57, 43, 80)
                .filter(new Predicate&lt;Integer&gt;() {
                    @Override
                    public boolean test(Integer integer) throws Exception {
                        return integer % 2 == 1;
                    }
                }).subscribe(new Consumer&lt;Integer&gt;() {
            @Override
            public void accept(Integer integer) throws Exception {
                KLog.d(TTAG, &quot;æ¥æ”¶æ¶ˆæ¯æ˜¯&quot; + integer);
            }
        });
    }


    /**
     * buffer æ“ä½œç¬¦æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œbuffer(count,skip)ï¼Œ
     * ä½œç”¨æ˜¯å°† Observable ä¸­çš„æ•°æ®æŒ‰ skip (æ­¥é•¿) åˆ†æˆæœ€å¤§ä¸è¶…è¿‡ count çš„ buffer ï¼Œç„¶åç”Ÿæˆä¸€ä¸ª  Observable ã€‚
     * &lt;p&gt;
     * æ„æ€å°±æ˜¯åšå¤šå–countä¸ªï¼Œå‘å°„ä¹‹åï¼Œé‡å¤´å¼€å§‹è·³è¿‡skipä¸ªï¼Œåœ¨é€‰countä¸ªå‘å°„ï¼Œä¸€ç›´åˆ°æœ€åä¸€ä¸ª
     */
    public static void useBuffer() {

        Observable.just(1, 2, 3, 4, 5, 0)
                .buffer(4, 2)
                .subscribe(new Consumer&lt;List&lt;Integer&gt;&gt;() {
                    @Override
                    public void accept(List&lt;Integer&gt; integers) throws Exception {

                        KLog.d(TTAG, integers);
                    }
                });

    }


    /**
     * è®¾ç½®å»¶è¿Ÿå‘é€
     * timer å’Œ interval å‡é»˜è®¤åœ¨æ–°çº¿ç¨‹ã€‚
     */
    public static void useTimer() {

        KLog.d(TTAG, TimeUtils.getNowTime());
        aaa.append(TimeUtils.getNowTime());

        Observable.timer(2, TimeUnit.SECONDS)
                .subscribeOn(Schedulers.io())
                // timer é»˜è®¤åœ¨æ–°çº¿ç¨‹ï¼Œæ‰€ä»¥éœ€è¦åˆ‡æ¢å›ä¸»çº¿ç¨‹
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Consumer&lt;Long&gt;() {
                    @Override
                    public void accept(Long aLong) throws Exception {
                        KLog.d(TTAG, TimeUtils.getNowTime() + &quot;&quot;);
                    }
                });
    }


    /**
     * è®¾ç½®interval æ“ä½œç¬¦ç”¨äºé—´éš”æ—¶é—´æ‰§è¡ŒæŸä¸ªæ“ä½œï¼Œå…¶æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ç¬¬ä¸€æ¬¡å‘é€å»¶è¿Ÿï¼Œé—´éš”æ—¶é—´ï¼Œæ—¶é—´å•ä½ã€‚
     */
    public static void useInterval() {

        KLog.d(TTAG, TimeUtils.getNowTime());
        aaa.append(TimeUtils.getNowTime());

        Disposable subscribe = Observable.interval(3, 2, TimeUnit.SECONDS)
                .subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Consumer&lt;Long&gt;() {
                    @Override
                    public void accept(Long aLong) throws Exception {
                        KLog.d(TTAG, aLong + &quot;---&quot; + TimeUtils.getNowTime());
                    }
                });
    }
    //subscribe.dispose();
    //è®°å¾—activityé”€æ¯æ—¶å–æ¶ˆå‘é€


    /**
     * è®©è®¢é˜…è€…åœ¨æ¥æ”¶åˆ°æ•°æ®ä¹‹å‰å¹²ç‚¹æœ‰æ„æ€çš„äº‹æƒ…
     */
    public static void useDoOnNext() {

        Observable.just(1, 2, 3, 4)
                .doOnNext(new Consumer&lt;Integer&gt;() {
                    @Override
                    public void accept(@NonNull Integer integer) throws Exception {
                        aaa.append(&quot;doOnNext ä¿å­˜ &quot; + integer);
                        KLog.d(TTAG, aaa.toString());
                    }
                }).subscribe(new Consumer&lt;Integer&gt;() {
            @Override
            public void accept(@NonNull Integer integer) throws Exception {
                KLog.d(TTAG, &quot;accept--&quot; + aaa.toString());
            }
        });
    }


    /**
     * å…¶å®ä½œç”¨å°±å’Œå­—é¢æ„æ€ä¸€æ ·ï¼Œæ¥å—ä¸€ä¸ª long å‹å‚æ•° count ï¼Œä»£è¡¨è·³è¿‡ count ä¸ªæ•°ç›®å¼€å§‹æ¥æ”¶
     */
    public static void useSkip() {

        Observable.just(1, 2, 3, 4, 5, 6, 7)
                .skip(3)
                .subscribe(new Consumer&lt;Integer&gt;() {
                    @Override
                    public void accept(Integer integer) throws Exception {
                        KLog.d(TTAG, integer);
                    }
                });
    }


    /**
     * æ¥å—ä¸€ä¸ª long å‹å‚æ•° count ï¼Œä»£è¡¨è‡³å¤šæ¥æ”¶ count ä¸ªæ•°æ®ã€‚
     */
    public static void useTake() {

        Flowable.fromArray(1, 2, 3, 4, 5, 6, 7, 7)
                .take(4)
                .subscribe(new Consumer&lt;Integer&gt;() {
                    @Override
                    public void accept(Integer integer) throws Exception {

                        KLog.d(TTAG, integer);
                    }
                });
    }


    /**
     * ç®€å•çš„å‘å°„å™¨ä¾æ¬¡è°ƒç”¨ onNext() æ–¹æ³•ã€‚è¿˜è°ƒç”¨äº† onComplete()ã€‚
     */
    public static void useJust() {

        Observable.just(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;5&quot;)
                .subscribeOn(Schedulers.io())
                .subscribe(new Consumer&lt;String&gt;() {
                    @Override
                    public void accept(String s) throws Exception {
                        KLog.d(TTAG, s);
                    }
                });
    }

    /**
     * Single åªä¼šæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè€Œ SingleObserver åªä¼šè°ƒç”¨ onError() æˆ–è€… onSuccess()ã€‚
     */
    public static void useSingle() {

        Single.just(new Random().nextInt())
                .subscribe(new SingleObserver&lt;Integer&gt;() {
                    @Override
                    public void onSubscribe(Disposable d) {

                    }

                    @Override
                    public void onSuccess(Integer integer) {

                        KLog.d(TTAG, integer + &quot;&quot;);
                    }

                    @Override
                    public void onError(Throwable e) {

                        KLog.d(TTAG, e.toString() + &quot;---&quot; + e.getMessage());
                    }
                });

    }


    /**
     * å»é™¤å‘é€é¢‘ç‡è¿‡å¿«çš„é¡¹,timeoutä¸ºåˆ†ç•Œçº¿
     */
    public static void useDebonunce() {

        Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() {
            @Override
            public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception {

                emitter.onNext(1);
                Thread.sleep(300);
                emitter.onNext(2);
                Thread.sleep(500);
                emitter.onComplete();
            }
        }).debounce(500, TimeUnit.MILLISECONDS)
                .subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Consumer&lt;Integer&gt;() {
                    @Override
                    public void accept(Integer integer) throws Exception {

                        KLog.d(TTAG, integer);
                    }
                });
    }


    /**
     * æ¯æ¬¡è®¢é˜…éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Observableï¼Œå¹¶ä¸”å¦‚æœæ²¡æœ‰è¢«è®¢é˜…ï¼Œå°±ä¸ä¼šäº§ç”Ÿæ–°çš„ Observableã€‚
     */
    public static void useDefer() {

        Observable&lt;Integer&gt; observable = Observable.defer(new Callable&lt;ObservableSource&lt;? extends Integer&gt;&gt;() {
            @Override
            public ObservableSource&lt;? extends Integer&gt; call() throws Exception {
                return Observable.just(1, 2, 3, 4);
            }
        });

        observable.subscribe(new Observer&lt;Integer&gt;() {
            @Override
            public void onSubscribe(Disposable d) {

            }

            @Override
            public void onNext(Integer integer) {

                KLog.d(TTAG, &quot;ç¬¬å‡ ä¸ª&quot; + integer);
            }

            @Override
            public void onError(Throwable e) {

                KLog.d(TTAG, &quot;é”™è¯¯æ˜¯&quot; + e.getMessage());
            }

            @Override
            public void onComplete() {
                KLog.d(TTAG, &quot;å®Œæˆå¤„ç†&quot;);
            }
        });
    }


    /**
     * ä»…å–å‡ºå¯è§‚å¯Ÿåˆ°çš„æœ€åä¸€ä¸ªå€¼ï¼Œæˆ–è€…æ˜¯æ»¡è¶³æŸäº›æ¡ä»¶çš„æœ€åä¸€é¡¹ã€‚
     */
    public static void useLast() {

        Observable.just(1, 2, 3, 4, 5, 6, 7, 8)
                .last(4)
                .subscribe(new Consumer&lt;Integer&gt;() {
                    @Override
                    public void accept(Integer integer) throws Exception {
                        KLog.d(TTAG, integer + &quot;&quot;);
                    }
                });
    }


    /**
     * æŠŠå¤šä¸ª Observable ç»“åˆèµ·æ¥ï¼Œæ¥å—å¯å˜å‚æ•°ï¼Œä¹Ÿæ”¯æŒè¿­ä»£å™¨é›†åˆã€‚
     * æ³¨æ„å®ƒå’Œ concat çš„åŒºåˆ«åœ¨äºï¼Œä¸ç”¨ç­‰åˆ° å‘å°„å™¨ A å‘é€å®Œæ‰€æœ‰çš„äº‹ä»¶å†è¿›è¡Œå‘å°„å™¨ B çš„å‘é€ã€‚
     */
    public static void useMerge() {

        Observable.merge(Observable.just(1, 2, 3), Observable.just(5, 6, 7, 8))
                .subscribe(new Consumer&lt;Integer&gt;() {
                    @Override
                    public void accept(Integer integer) throws Exception {

                        KLog.d(TTAG, &quot;ç¬¬å‡ ä¸ª&quot; + integer);
                    }
                });
    }

    ;


    /**
     * æ¯æ¬¡ç”¨ä¸€ä¸ªæ–¹æ³•å¤„ç†ä¸€ä¸ªå€¼ï¼Œå¯ä»¥æœ‰ä¸€ä¸ª seed ä½œä¸ºåˆå§‹å€¼
     */
    public static void useReduce() {

        Observable.just(1, 2, 3, 4)
                .reduce(new BiFunction&lt;Integer, Integer, Integer&gt;() {
                    @Override
                    public Integer apply(Integer integer, Integer integer2) throws Exception {
                        KLog.d(TTAG, integer + &quot;&quot;);
                        KLog.d(TTAG, integer2 + &quot;&quot;);
                        return integer + integer2;
                    }
                }).subscribe(new Consumer&lt;Integer&gt;() {
            @Override
            public void accept(Integer integer) throws Exception {

                KLog.d(TTAG, integer + &quot;&quot;);
            }
        });
    }


    /**
     * reduce æ˜¯ä¸ªåªè¿½æ±‚ç»“æœçš„åäººï¼Œè€Œ scan ä¼šå§‹ç»ˆå¦‚ä¸€åœ°æŠŠæ¯ä¸€ä¸ªæ­¥éª¤éƒ½è¾“å‡ºã€‚
     */
    public static void useScan() {

        Observable.just(1, 2, 3, 4)
                .scan(new BiFunction&lt;Integer, Integer, Integer&gt;() {
                    @Override
                    public Integer apply(Integer integer, Integer integer2) throws Exception {
                        KLog.d(TTAG, integer + &quot;&quot;);
                        KLog.d(TTAG, integer2 + &quot;&quot;);
                        return integer + integer2;
                    }
                }).subscribe(new Consumer&lt;Integer&gt;() {
            @Override
            public void accept(Integer integer) throws Exception {
                KLog.d(TTAG, integer + &quot;&quot;);
            }
        });
    }


    /**
     * æŒ‰ç…§å®é™…åˆ’åˆ†çª—å£ï¼Œå°†æ•°æ®å‘é€ç»™ä¸åŒçš„ Observable
     */
    public static void useWindow() {
        aaa.append(&quot;å“ˆå“ˆæˆ‘æ˜¯&quot;);
        Observable.interval(1, TimeUnit.SECONDS)// é—´éš”ä¸€ç§’å‘ä¸€æ¬¡
                .take(15)//æœ€å¤šæ¥æ”¶15ä¸ª
                .window(3, TimeUnit.SECONDS)
                .subscribeOn(Schedulers.io())
                .subscribe(new Consumer&lt;Observable&lt;Long&gt;&gt;() {
                    @Override
                    public void accept(Observable&lt;Long&gt; longObservable) throws Exception {
                        aaa.append(&quot;aa&quot;);
                        KLog.d(TTAG, aaa.toString());
                        longObservable.subscribeOn(Schedulers.io())
                                .observeOn(AndroidSchedulers.mainThread())
                                .subscribe(new Consumer&lt;Long&gt;() {
                                    @Override
                                    public void accept(Long aLong) throws Exception {
                                        aaa.append(&quot;bb&quot;);
                                        KLog.d(TTAG, aaa.toString());
                                    }
                                });
                    }
                });
    }</code></pre>]]></content>
  </entry>
  <entry>
    <title>androidæ•°æ®åº“GreenDaoçš„ä½¿ç”¨</title>
    <url>/2019/02/19/android%E6%95%B0%E6%8D%AE%E5%BA%93GreenDao%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>GreenDaoå¯¹è±¡å­—æ®µæ³¨é‡Šå¦‚ä¸‹</p>
<blockquote>
<p><a href="https://github.com/ALguojian/GreenDaoDemo" target="_blank" rel="noopener">é¡¹ç›®åœ°å€</a>   <a href="https://github.com/ALguojian/GreenDaoDemo" target="_blank" rel="noopener">https://github.com/ALguojian/GreenDaoDemo</a></p>
</blockquote>
<ul>
<li>@Entityï¼šå‘Šè¯‰GreenDaoè¯¥å¯¹è±¡ä¸ºå®ä½“ï¼Œåªæœ‰è¢«@Entityæ³¨é‡Šçš„Beanç±»æ‰èƒ½è¢«daoç±»æ“ä½œ</li>
<li>@Idï¼šå¯¹è±¡çš„Idï¼Œä½¿ç”¨Longç±»å‹ä½œä¸ºEntityIdï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚(autoincrement = true)è¡¨ç¤ºä¸»é”®ä¼šè‡ªå¢ï¼Œå¦‚æœfalseå°±ä¼šä½¿ç”¨æ—§å€¼</li>
<li>@Propertyï¼šå¯ä»¥è‡ªå®šä¹‰å­—æ®µåï¼Œæ³¨æ„å¤–é”®ä¸èƒ½ä½¿ç”¨è¯¥å±æ€§</li>
<li>@NotNullï¼šå±æ€§ä¸èƒ½ä¸ºç©º</li>
<li>@Transientï¼šä½¿ç”¨è¯¥æ³¨é‡Šçš„å±æ€§ä¸ä¼šè¢«å­˜å…¥æ•°æ®åº“çš„å­—æ®µä¸­</li>
<li>@Uniqueï¼šè¯¥å±æ€§å€¼å¿…é¡»åœ¨æ•°æ®åº“ä¸­æ˜¯å”¯ä¸€å€¼</li>
<li>@Generatedï¼šç¼–è¯‘åè‡ªåŠ¨ç”Ÿæˆçš„æ„é€ å‡½æ•°ã€æ–¹æ³•ç­‰çš„æ³¨é‡Šï¼Œæç¤ºæ„é€ å‡½æ•°ã€æ–¹æ³•ç­‰ä¸èƒ½è¢«ä¿®æ”¹</li>
</ul>
<a id="more"></a>

<p>Daoå¯¹è±¡APIå¦‚ä¸‹ï¼š</p>
<ul>
<li><p>å¢åŠ å•ä¸ªæ•°æ®</p>
<ul>
<li>getShopDao().insert(shop);<ul>
<li>getShopDao().insertOrReplace(shop)(æœ‰çš„è¯å°±æ›´æ–°è¦†ç›–);</li>
</ul>
</li>
</ul>
</li>
<li><p>å¢åŠ å¤šä¸ªæ•°æ®</p>
<ul>
<li>getShopDao().insertInTx(shopList);</li>
<li>getShopDao().insertOrReplaceInTx(shopList);</li>
</ul>
</li>
<li><p>æŸ¥è¯¢å…¨éƒ¨</p>
<ul>
<li>List&lt; Shop&gt; list = getShopDao().loadAll();</li>
<li>List&lt; Shop&gt; list = getShopDao().queryBuilder().list();</li>
</ul>
</li>
<li><p>æŸ¥è¯¢æ¡ä»¶æ•°æ®</p>
<ul>
<li>.where()</li>
<li>.whereOr()</li>
</ul>
</li>
<li><p>æŸ¥è¯¢é™„åŠ å¤šä¸ªæ¡ä»¶</p>
<ul>
<li>.where(, , ,)</li>
<li>.whereOr(, , ,)</li>
</ul>
</li>
<li><p>æŸ¥è¯¢é™„åŠ æ’åº</p>
<ul>
<li>.orderDesc()</li>
<li>.orderAsc()</li>
</ul>
</li>
<li><p>æŸ¥è¯¢é™åˆ¶å½“é¡µä¸ªæ•°</p>
<ul>
<li>.limit()</li>
</ul>
</li>
<li><p>æŸ¥è¯¢æ€»ä¸ªæ•°</p>
<ul>
<li>.count()</li>
</ul>
</li>
<li><p>ä¿®æ”¹å•ä¸ªæ•°æ®</p>
<ul>
<li>getShopDao().update(shop);</li>
</ul>
</li>
<li><p>ä¿®æ”¹å¤šä¸ªæ•°æ®</p>
<ul>
<li>getShopDao().updateInTx(shopList);</li>
</ul>
</li>
<li><p>åˆ é™¤å•ä¸ªæ•°æ®</p>
<ul>
<li>getTABUserDao().delete(user);</li>
</ul>
</li>
<li><p>åˆ é™¤å¤šä¸ªæ•°æ®</p>
<ul>
<li>getUserDao().deleteInTx(userList);</li>
</ul>
</li>
<li><p>åˆ é™¤æ•°æ®ByKey</p>
<ul>
<li>getTABUserDao().deleteByKey();</li>
</ul>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>androidå¸¸ç”¨æ³¨è§£ä»¥åŠè‡ªå®šä¹‰æ³¨è§£æ›¿ä»£æšä¸¾</title>
    <url>/2019/02/18/android%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3%E6%9B%BF%E4%BB%A3%E6%9E%9A%E4%B8%BE/</url>
    <content><![CDATA[<h3 id="1-è‡ªå®šä¹‰æ³¨è§£"><a href="#1-è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="1. è‡ªå®šä¹‰æ³¨è§£"></a>1. è‡ªå®šä¹‰æ³¨è§£</h3><pre><code>/**
 * @author ALguojian
 * @date 2018/1/16
 * è‡ªå®šä¹‰æ³¨è§£
 */
public interface UserType {

    String TOPIC = &quot;topic&quot;;
    String ORIGIN = &quot;origin&quot;;
    String MINI = &quot;mini&quot;;

    @StringDef({TOPIC, ORIGIN, MINI})
    @Retention(RetentionPolicy.SOURCE)//æŒ‡å®šæ³¨è§£ä»…å­˜åœ¨ä¸æºç ä¸­,ä¸åŠ å…¥åˆ° class æ–‡ä»¶ä¸­
    @interface Type {}
}
</code></pre><a id="more"></a>


<p>å®ä½“ç±»ï¼š</p>
<pre><code>public class User {

    @UserType.Type
    private String name;
    @NonNull
    private int age;

    public String getName() {
        return name;
    }
    public void setName(@UserType.Type String name) {
        this.name = name;
    }
    public int getAge() {
        return age;
    }
    public void setAge(int age) {
        this.age = age;
    }
}</code></pre><p>ä½¿ç”¨ï¼š</p>
<pre><code>
        User user = new User();
        user.setAge(12);
        user.setName(UserType.MINI);

        @UserType.Type String aa = UserType.MINI;

        switch (aa) {
            case UserType.MINI:
                break;
            default:
                break;
        }
</code></pre><h3 id="2-NoNullï¼Œä¸èƒ½ä¸ºnull"><a href="#2-NoNullï¼Œä¸èƒ½ä¸ºnull" class="headerlink" title="2. @NoNullï¼Œä¸èƒ½ä¸ºnull"></a>2. @NoNullï¼Œä¸èƒ½ä¸ºnull</h3><p>æºç å¦‚ä¸‹ï¼š</p>
<pre><code> @Retention(CLASS)
 @Target({METHOD, PARAMETER, FIELD})
 public @interface NonNull {
 }</code></pre><h3 id="3-Nullable-å¯ä»¥ä¸ºnull"><a href="#3-Nullable-å¯ä»¥ä¸ºnull" class="headerlink" title="3. @Nullable å¯ä»¥ä¸ºnull"></a>3. @Nullable å¯ä»¥ä¸ºnull</h3><p>æºç å¦‚ä¸‹ï¼š</p>
<pre><code>@Documented
@Retention(CLASS)
@Target({METHOD, PARAMETER, FIELD, LOCAL_VARIABLE, ANNOTATION_TYPE, PACKAGE})
public @interface Nullable {
}
</code></pre><h3 id="4-Resource-Type-èµ„æºç±»å‹æ³¨è§£"><a href="#4-Resource-Type-èµ„æºç±»å‹æ³¨è§£" class="headerlink" title="4. Resource Type èµ„æºç±»å‹æ³¨è§£"></a>4. Resource Type èµ„æºç±»å‹æ³¨è§£</h3><ul>
<li>@AnimatorRes: animatorèµ„æºç±»å‹</li>
<li>@AnimRes: animèµ„æºç±»å‹</li>
<li>@AnyRes: ä»»æ„èµ„æºç±»å‹</li>
<li>@DrawableResï¼š drawableèµ„æºç±»å‹</li>
<li>@LayoutRes: layoutèµ„æºç±»å‹</li>
<li>@ColorIntï¼š RGBé¢œè‰²ç±»å‹</li>
</ul>
<p>æ­¤ç±»æ³¨è§£ä»¥Resç»“å°¾ï¼Œæ¯”å¦‚@BoolRes, @IdRes, @IntegerRes, @StringRes, @ColorResç­‰ï¼Œè¿™é‡Œä»¥@ColorResä¸ºä¾‹è¯´æ˜</p>
<pre><code> @Documented
    @Retention(CLASS)
    @Target({METHOD, PARAMETER, FIELD, LOCAL_VARIABLE})
    public @interface ColorRes {
    }</code></pre><p>åˆ—å­ï¼š</p>
<pre><code>public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        getCurColor(R.id.ic_launcher);
    }

    void getCurColor(@ColorRes int color) {
        Toast.makeText(this, &quot;Color: &quot; + getString(color), Toast.LENGTH_LONG).show();
    }
}</code></pre><p>æˆ‘ä»¬ç»™getColorå‡½æ•°çš„å‚æ•°coloråŠ ä¸Šäº†@ColorResæ³¨è§£ï¼Œå³è¯¥å‚æ•°æ˜¯ä¸€ä¸ªé¢œè‰²èµ„æºï¼Œè€Œä¸Šé¢æˆ‘ä»¬ä¸Šé¢ä¼ é€’çš„æ˜¯idèµ„æº</p>
<h3 id="5-è®¾ç½®å–å€¼èŒƒå›´ï¼šValue-Constraints"><a href="#5-è®¾ç½®å–å€¼èŒƒå›´ï¼šValue-Constraints" class="headerlink" title="5. è®¾ç½®å–å€¼èŒƒå›´ï¼šValue Constraints"></a>5. è®¾ç½®å–å€¼èŒƒå›´ï¼šValue Constraints</h3><pre><code>@Size, @IntRange, @FloatRange

private void test(@IntRange(from=0,to=100)int perent){
</code></pre><ul>
<li>é›†åˆä¸èƒ½ä¸ºç©º: @Size(min=1)</li>
<li>å­—ç¬¦ä¸²æœ€å¤§åªèƒ½æœ‰23ä¸ªå­—ç¬¦: @Size(max=23)</li>
<li>æ•°ç»„åªèƒ½æœ‰2ä¸ªå…ƒç´ : @Size(2)</li>
<li>æ•°ç»„çš„å¤§å°å¿…é¡»æ˜¯2çš„å€æ•° (ä¾‹å¦‚å›¾å½¢APIä¸­è·å–ä½ç½®çš„x/yåæ ‡æ•°ç»„: @Size(multiple=2)</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>androidæœ‰å…³gradleçš„ä¸€äº›é…ç½®</title>
    <url>/2019/02/14/android%E6%9C%89%E5%85%B3gradle%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h5 id="gradleä½¿ç”¨source-set-çš„æ¦‚å¿µï¼Œä¸€ä¸ªsource-setå°±æ˜¯ä¸€ç³»åˆ—èµ„æºæ–‡ä»¶ï¼Œå…¶å°†ä¼šè¢«ä¾¿è¡£å’Œæ‰§è¡Œï¼Œå¯¹äºandroidé¡¹ç›®ï¼Œmainå°±æ˜¯ä¸€ä¸ªsource-setï¼Œå…¶åŒ…å«äº†æ‰€æœ‰çš„èµ„æºæ–‡ä»¶ï¼Œç›¸å¯¹mainæµ‹è¯•æ–‡ä»¶testä¹Ÿæ˜¯ä¸€ä¸ªsource-setï¼Œåªåšæµ‹è¯•"><a href="#gradleä½¿ç”¨source-set-çš„æ¦‚å¿µï¼Œä¸€ä¸ªsource-setå°±æ˜¯ä¸€ç³»åˆ—èµ„æºæ–‡ä»¶ï¼Œå…¶å°†ä¼šè¢«ä¾¿è¡£å’Œæ‰§è¡Œï¼Œå¯¹äºandroidé¡¹ç›®ï¼Œmainå°±æ˜¯ä¸€ä¸ªsource-setï¼Œå…¶åŒ…å«äº†æ‰€æœ‰çš„èµ„æºæ–‡ä»¶ï¼Œç›¸å¯¹mainæµ‹è¯•æ–‡ä»¶testä¹Ÿæ˜¯ä¸€ä¸ªsource-setï¼Œåªåšæµ‹è¯•" class="headerlink" title="gradleä½¿ç”¨source  set çš„æ¦‚å¿µï¼Œä¸€ä¸ªsource  setå°±æ˜¯ä¸€ç³»åˆ—èµ„æºæ–‡ä»¶ï¼Œå…¶å°†ä¼šè¢«ä¾¿è¡£å’Œæ‰§è¡Œï¼Œå¯¹äºandroidé¡¹ç›®ï¼Œmainå°±æ˜¯ä¸€ä¸ªsource  setï¼Œå…¶åŒ…å«äº†æ‰€æœ‰çš„èµ„æºæ–‡ä»¶ï¼Œç›¸å¯¹mainæµ‹è¯•æ–‡ä»¶testä¹Ÿæ˜¯ä¸€ä¸ªsource  setï¼Œåªåšæµ‹è¯•"></a>gradleä½¿ç”¨source  set çš„æ¦‚å¿µï¼Œä¸€ä¸ªsource  setå°±æ˜¯ä¸€ç³»åˆ—èµ„æºæ–‡ä»¶ï¼Œå…¶å°†ä¼šè¢«ä¾¿è¡£å’Œæ‰§è¡Œï¼Œå¯¹äºandroidé¡¹ç›®ï¼Œmainå°±æ˜¯ä¸€ä¸ªsource  setï¼Œå…¶åŒ…å«äº†æ‰€æœ‰çš„èµ„æºæ–‡ä»¶ï¼Œç›¸å¯¹mainæµ‹è¯•æ–‡ä»¶testä¹Ÿæ˜¯ä¸€ä¸ªsource  setï¼Œåªåšæµ‹è¯•</h5><h3 id="åŸºç¡€å‘½ä»¤ï¼š"><a href="#åŸºç¡€å‘½ä»¤ï¼š" class="headerlink" title="åŸºç¡€å‘½ä»¤ï¼š"></a>åŸºç¡€å‘½ä»¤ï¼š</h3><ul>
<li>æŸ¥çœ‹gradleç‰ˆæœ¬ <code>gradlew -v</code></li>
<li>æŸ¥çœ‹æ‰€æœ‰å¯è¿è¡Œçš„tasks<code>gradlew tasks</code></li>
<li>æ¸…é™¤ç›®å½•ä¸‹çš„outputæ–‡ä»¶å¤¹ <code>gradlew clean</code></li>
<li>æ‰“åŒ…ç¼–è¯‘, åŒ…æ‹¬debugå’Œrelease<code>gradlew build</code></li>
<li>ç¼–è¯‘å¹¶æ‰“DebugåŒ… <code>gradlew assembleDebug</code></li>
<li>ç¼–è¯‘å¹¶æ‰“Releaseçš„åŒ… <code>gradlewassembleRelease</code></li>
<li>åªæ‰“åŒ…é˜¿é‡Œreleaseç‰ˆæœ¬ <code>gradlew assemblealiRelease</code></li>
<li>å…³äºå¤šmoudle <code>gradlew :UpdateAppUtils:assembleDebug</code></li>
<li>å¸®åŠ© <code>gradlew --help</code></li>
<li>æŸ¥çœ‹ç¼–è¯‘ä¿¡æ¯ <code>gradlew build --info</code>æˆ–<code>â€“stacktrace</code></li>
<li>åˆ¶å®šmodule <code>gradlew -p app build</code></li>
</ul>
<a id="more"></a>


<p>æ‰“åŒ…éœ€è¦åœ¨buildé…ç½®ç­¾åæ–‡ä»¶ä»¥åŠå¯†ç </p>
<pre><code> signingConfigs {
        debug {
            // No debug config
        }

        release {
            storeFile file(&quot;../yourapp.keystore&quot;)
            storePassword &quot;your password&quot;
            keyAlias &quot;your alias&quot;
            keyPassword &quot;your password&quot;
        }
    }</code></pre><h3 id="gradlewé…ç½®æ–‡ä»¶ç»“æ„å’Œeclipseç»“æ„ç›¸åŒ"><a href="#gradlewé…ç½®æ–‡ä»¶ç»“æ„å’Œeclipseç»“æ„ç›¸åŒ" class="headerlink" title="gradlewé…ç½®æ–‡ä»¶ç»“æ„å’Œeclipseç»“æ„ç›¸åŒ"></a>gradlewé…ç½®æ–‡ä»¶ç»“æ„å’Œeclipseç»“æ„ç›¸åŒ</h3><pre><code>android {
     sourceSets {
       main {
         manifest.srcFile &#39;AndroidManifest.xml&#39;
         java.srcDirs = [&#39;src&#39;]
         resources.srcDirs = [&#39;src&#39;]
         aidl.srcDirs = [&#39;src&#39;]
         renderscript.srcDirs = [&#39;src&#39;]
         res.srcDirs = [&#39;res&#39;]
         assets.srcDirs = [&#39;assets&#39;]
    }
     androidTest.setRoot(&#39;tests&#39;)
    } 
}</code></pre><p>åœ¨gradeæ–‡ä»¶ä¸­é…ç½®ï¼Œå°†ä¼šä¿å­˜eclipseç›®å½•ç»“æ„ï¼Œå¦‚æœæœ‰ä¾èµ–çš„jaråŒ…ï¼Œéœ€è¦å‘Šè¯‰gradleï¼Œå‡è®¾jaråŒ…ä¼šåœ¨ä¸€ä¸ªå«åšlibsçš„æ–‡ä»¶å¤¹å†…ï¼Œé‚£ä¹ˆä½ åº”è¯¥è¿™ä¹ˆé…ç½®(ç°åœ¨è¿™æ¡ä¼šé»˜è®¤é…ç½®)ï¼š</p>
<pre><code>dependencies {
       compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])
}</code></pre><h3 id="gradle-é…ç½®è§£æï¼š"><a href="#gradle-é…ç½®è§£æï¼š" class="headerlink" title="gradle é…ç½®è§£æï¼š"></a>gradle é…ç½®è§£æï¼š</h3><p>åˆ›å»ºä¸€ä¸ªæ–°çš„androidé¡¹ç›®æ—¶ï¼Œä¼šé»˜è®¤ç”Ÿæˆä¸‰ä¸ªgradleæ–‡ä»¶</p>
<ul>
<li>project çš„build.gradleæ–‡ä»¶</li>
<li>settings.buildæ–‡ä»¶ï¼ˆå£°æ˜åŒ…å«çš„moudleéƒ½æœ‰å“ªäº›ï¼‰</li>
<li>é»˜è®¤moudleçš„Appä¸‹çš„build.gradleæ–‡ä»¶</li>
</ul>
<h4 id="æ ¹ç›®å½•çš„gradleæ–‡ä»¶ä¸€èˆ¬å¦‚ä¸‹"><a href="#æ ¹ç›®å½•çš„gradleæ–‡ä»¶ä¸€èˆ¬å¦‚ä¸‹" class="headerlink" title="æ ¹ç›®å½•çš„gradleæ–‡ä»¶ä¸€èˆ¬å¦‚ä¸‹"></a>æ ¹ç›®å½•çš„gradleæ–‡ä»¶ä¸€èˆ¬å¦‚ä¸‹</h4><pre><code>//å£°æ˜è‡ªå®šä¹‰çš„gradleæ–‡ä»¶
apply from: &quot;config.gradle&quot;
buildscript {
    repositories {//é…ç½®ä»“åº“ï¼Œä½¿ç”¨jcenterï¼Œç°åœ¨studio3.0ä»¥åé»˜è®¤ä½¿ç”¨google
        jcenter()
        google()
    }
    dependencies {//é…ç½®gradleçš„æ’ä»¶é»˜è®¤é…ç½®gradleï¼Œæˆ‘è¿™é‡Œè¿˜é…ç½®tinkeræ’ä»¶ï¼Œç”¨äºçƒ­æ›´æ–°
        classpath &#39;com.android.tools.build:gradle:3.0.1&#39;
        classpath &#39;com.tencent.bugly:tinker-support:1.1.1&#39;
        }
}

allprojects {//å®šä¹‰æ¨¡å—é»˜è®¤å±æ€§
    repositories {
        jcenter()
        google()
    }
}

task clean(type: Delete) {//æˆ‘è¿™é‡Œé…ç½®task cleançš„æ—¶å€™ç›´æ¥åˆ é™¤é¡¹ç›®çš„buildæ–‡ä»¶å¤¹
    delete rootProject.buildDir
}
</code></pre><h3 id="æ¨¡å—å†…build-gradleæ–‡ä»¶"><a href="#æ¨¡å—å†…build-gradleæ–‡ä»¶" class="headerlink" title="æ¨¡å—å†…build.gradleæ–‡ä»¶"></a>æ¨¡å—å†…build.gradleæ–‡ä»¶</h3><p>ä»¥ä¸‹æ˜¯studio3.0ä¹‹å‰çš„é…ç½®ï¼Œ3.0ä¹‹åç¨åæ”¹åŠ¨</p>
<pre><code>//å£°æ˜æ¨¡å—è¦ä½¿ç”¨çš„æ’ä»¶ï¼Œé»˜è®¤é…ç½®android.application
apply plugin: &#39;com.android.application&#39;
   android {
       compileSdkVersion 22//é…ç½®ç¼–è¯‘appçš„apiç‰ˆæœ¬
       buildToolsVersion &quot;22.0.1&quot;//3.0ä¹‹åå·²ç»å»é™¤ï¼Œä¸éœ€è¦å†é…ç½®
       defaultConfig {
           applicationId &quot;com.gradleforandroid.gettingstarted&quot;//é»˜è®¤å¯¹åº”æ¸…å•æ–‡ä»¶é‡Œçš„åŒ…å
           minSdkVersion 14//å…¼å®¹çš„æœ€å°ç‰ˆæœ¬å·
           targetSdkVersion 22//æœ€é€‚åˆçš„ç‰ˆæœ¬å·
           versionCode 1//ç‰ˆæœ¬å·æ ‡è¯†
           versionName &quot;1.0&quot;//ç‰ˆæœ¬åå­—ï¼Œä¸€èˆ¬ç”¨äºç»™ç”¨æˆ·å±•ç¤ºï¼Œé™¤æ­¤æ²¡æœ‰å…¶ä»–ç”¨å¤„
       }
       buildTypes {
           release {
               minifyEnabled false
               proguardFiles getDefaultProguardFile
                (&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;
           }
        } 
    }
    dependencies {//3.0ä»¥åä½¿ç”¨implementation  æ¥ä»£æ›¿compile
       compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])
       compile &#39;com.android.support:appcompat-v7:22.2.0&#39;
       implementation  &#39;com.android.support:appcompat-v7:22.2.0&#39;

     }</code></pre><h3 id="ä½¿ç”¨BuildConfigå’ŒresourcesåŠ¨æ€é…ç½®ä¸åŒæ¸ é“èµ„æº"><a href="#ä½¿ç”¨BuildConfigå’ŒresourcesåŠ¨æ€é…ç½®ä¸åŒæ¸ é“èµ„æº" class="headerlink" title="ä½¿ç”¨BuildConfigå’ŒresourcesåŠ¨æ€é…ç½®ä¸åŒæ¸ é“èµ„æº"></a>ä½¿ç”¨BuildConfigå’ŒresourcesåŠ¨æ€é…ç½®ä¸åŒæ¸ é“èµ„æº</h3><p>æ¯”å¦‚baseUrl</p>
<pre><code>  release {
            //å…³é—­æ—¥å¿—è¾“å‡º
            buildConfigField(&quot;boolean&quot;, &quot;LOG_DEBUG&quot;, &quot;false&quot;)
            //é…ç½®é»˜è®¤baseUrl
            buildConfigField(&quot;String&quot;, &quot;SERVER_URL&quot;, rootProject.ext.configs[&#39;releaseUrl&#39;])
            //é…ç½®ä¸‹è½½åœ°å€
            buildConfigField(&quot;String&quot;, &quot;DOWNLOAD_URL&quot;, rootProject.ext.download[&#39;releaseUrl&#39;])
            // ç§»é™¤æ— ç”¨çš„resourceæ–‡ä»¶
            shrinkResources true
            //æ˜¯å¦æ··æ·†
            minifyEnabled true
            //æ··æ·†æ–‡ä»¶(.textå¤„äºSDKä¸‹é¢ï¼Œé’ˆå¯¹å…¨é¡¹ç›®ï¼Œ.proåªé’ˆå¯¹æœ¬é¡¹ç›®)
            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;
            //é…ç½®ç­¾åæ–‡ä»¶
            signingConfig signingConfigs.sweetorange_sign
        }</code></pre><p>æ¯”å¦‚appåå­—ï¼š</p>
<pre><code>android {
       buildTypes {
           debug {
               resValue &quot;string&quot;, &quot;app_name&quot;, &quot;æˆ‘çš„æµ‹è¯•ç‰ˆæœ¬&quot;
           }
           release {
               resValue &quot;string&quot;, &quot;app_name&quot;, &quot;æˆ‘æ˜¯æ­£å¼ç‰ˆæœ¬&quot;
            } 
       }
}
</code></pre><h3 id="é…ç½®å…¨å±€é…ç½®"><a href="#é…ç½®å…¨å±€é…ç½®" class="headerlink" title="é…ç½®å…¨å±€é…ç½®"></a>é…ç½®å…¨å±€é…ç½®</h3><p>å…³äºå¤šmoudleå¼€å‘ï¼Œæ–¹ä¾¿å¤šäººåˆ†æ¨¡å—å¼€å‘ï¼Œè¿™ä¹Ÿæ˜¯ç»„ä»¶åŒ–å¼€å‘çš„æ¨¡å¼ï¼Œè¿™æ ·æ¯ä¸ªmoudleéƒ½ä¼šé…ç½®å„è‡ªçš„build.gradleæ–‡ä»¶ï¼Œä¸ºäº†é…ç½®ç»Ÿä¸€ï¼Œä¸€èˆ¬é…ç½®å…¨å±€é…ç½®ï¼Œè®©å„ä¸ªmoudleå»è°ƒç”¨</p>
<p>å…¨å±€é…ç½®æœ‰ä¸¤ç§æ–¹æ³•</p>
<ul>
<li>ç›´æ¥åœ¨projectçš„build.gradleæ–‡ä»¶ä¸­é…ç½®</li>
<li>è‡ªå®šä¹‰ä¸€ä¸ªgradleæ–‡ä»¶ï¼Œç„¶åå†projectä¸­å£°æ˜ä¸€ä¸‹ï¼Œç„¶åå»è°ƒç”¨</li>
</ul>
<p>ä¸¤ç§æ–¹å¼ä¸€æ ·ï¼Œä¸ªäººè§‰å¾—ç¬¬äºŒç§æ›´æ–¹ä¾¿ç®¡ç†</p>
<p>æœ‰å…³ç¬¬äºŒç§ï¼š</p>
<ul>
<li>é†’ç›®ç›®å½•æ”¹ä¸ºprojectï¼Œä¸»ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª.gradleæ–‡ä»¶åå­—éšä¾¿ï¼Œä¾‹å¦‚æˆ‘çš„config.gradleæ–‡ä»¶</li>
</ul>
<p>ä¸»è¦æ˜¯é…ç½®äº†é¡¹ç›®æ‰€ä½¿ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹ä¾èµ–åº“ï¼Œæœ‰å…³ä¾èµ–å“­çš„æ··æ·†å¯ä»¥çœ‹æˆ‘çš„æ··æ·†é…ç½®<a href="https://www.jianshu.com/p/181d6f2d5bae" target="_blank" rel="noopener">https://www.jianshu.com/p/181d6f2d5bae</a></p>
<pre><code>ext {

    configs = [//é…ç½®baseUrl
            debugUrl  : &#39;&quot;http://111.111.1.111.8080&quot;&#39;,
            releaseUrl: &#39;&quot;https://www.baidu.com&quot;&#39;,
    ]

       android = [compileSdkVersion        : 25,
               applicationId            : &quot;com.sweetorange.read&quot;,
               minSdkVersion            : 16,
               targetSdkVersion         : 25,
               versionCode              : 13,
               versionName              : &quot;1.3&quot;,
               testInstrumentationRunner: &quot;android.support.test.runner.AndroidJUnitRunner&quot;]

    dependencies = [//é…ç½®æ‰€æœ‰çš„ç¬¬ä¸‰æ–¹ä¾èµ–åº“ï¼ˆä¸å¤šä¸å¤šï¼Œä¹Ÿå°±äºŒåä¸ªï¼‰

            //multidexæ–¹æ³•ä¹¦è¶…è¿‡64K
            &quot;multidex&quot;                     : &#39;com.android.support:multidex:1.0.1&#39;,

            //bumptechï¼Œç”¨äºglideé…ç½®okhttpè¯·æ±‚
            &quot;bumptech&quot;                     : &#39;com.github.bumptech.glide:okhttp3-integration:1.4.0@aar&#39;,

            //pgyerè’²å…¬è‹±ç”¨äºæµ‹è¯•
            &quot;pgyer&quot;                        : &#39;com.pgyersdk:sdk:2.8.1&#39;,

            //MZBannerViewï¼Œbannerè½®æ’­å›¾ï¼Œç”¨äºå¼•å¯¼é¡µé¢
            &quot;MZBannerView&quot;                 : &#39;com.github.pinguo-zhouwei:MZBannerView:v2.0.0&#39;,

            //bugly ï¼Œçƒ­ä¿®å¤
            &quot;bugly&quot;                        : &#39;com.tencent.bugly:crashreport_upgrade:1.3.4&#39;,

            //å¾®ä¿¡
            &quot;wechat&quot;                       : &#39;com.tencent.mm.opensdk:wechat-sdk-android-with-mta:1.0.2&#39;,

            //ä¼¸ç¼©textView
            &quot;expandableTextView&quot;           : &#39;com.ms-square:expandableTextView:0.1.4&#39;,

            //å±å¹•é€‚é…
            &quot;autolayout&quot;                   : &#39;com.zhy:autolayout:1.4.5&#39;,

            //v7åŒ…
            &quot;support_v7&quot;                   : &#39;com.android.support:appcompat-v7:25.3.1&#39;,

            //è®¾ç½®é˜…è¯»é¡µåŠ¨ç”»
            &quot;nineoldandroids&quot;              : &#39;com.nineoldandroids:library:2.4.0&#39;,

            //Xutils3ç”¨äºç½‘ç»œè¯·æ±‚
            &quot;xutils&quot;                       : &#39;org.xutils:xutils:3.3.40&#39;,

            //designåŒ…
            &quot;support_design&quot;               : &#39;com.android.support:design:25.3.0&#39;,

            //glide
            &quot;glide&quot;                        : &#39;com.github.bumptech.glide:glide:3.7.0&#39;,

            //v4
            &quot;support_v4&quot;                   : &#39;com.android.support:support-v4:25.3.0&#39;,

            //drawable
            &quot;support_drawable&quot;             : &#39;com.android.support:support-vector-drawable:25.1.0&#39;,

            //eventbus
            &quot;eventbus&quot;                     : &#39;org.greenrobot:eventbus:3.0.0&#39;,

            //fastJson
            &quot;fastjson&quot;                     : &#39;com.alibaba:fastjson:1.2.23&#39;,

            //litepal
            &quot;litepal&quot;                      : &#39;org.litepal.android:core:1.5.1&#39;,

            //circleimageview
            &quot;circleimageview&quot;              : &#39;de.hdodenhof:circleimageview:2.1.0&#39;,

            //klog
            &quot;klog&quot;                         : &#39;com.github.zhaokaiqiang.klog:library:1.5.0&#39;,

            //Luban
            &quot;Luban&quot;                        : &#39;top.zibin:Luban:1.1.3&#39;,

            //jsoup
            &quot;jsoup&quot;                        : &#39;org.jsoup:jsoup:1.10.2&#39;,

            //permission
            &quot;permission&quot;                   : &#39;com.yanzhenjie:permission:1.0.7&#39;,

            //album
            &quot;album&quot;                        : &#39;com.yanzhenjie:album:1.0.7&#39;,

            //constraint-layout
            &quot;constraint_layout&quot;            : &#39;com.android.support.constraint:constraint-layout:1.0.0-alpha8&#39;,

            //BaseRecyclerViewAdapterHelper
            &quot;BaseRecyclerViewAdapterHelper&quot;: &#39;com.github.CymChad:BaseRecyclerViewAdapterHelper:2.9.18&#39;,

            //badgeview
            &quot;badgeview&quot;                    : &#39;q.rorbin:badgeview:1.1.2&#39;,

            //butterknife
            &quot;butterknife&quot;                  : &#39;com.jakewharton:butterknife:8.7.0&#39;,

            //butterknife
            &quot;butterknife_two&quot;              : &#39;com.jakewharton:butterknife-compiler:8.7.0&#39;,

            //lombok
            &quot;lombok&quot;                       : &#39;org.projectlombok:lombok:1.16.18&#39;,

            //nohttp
            &quot;nohttp&quot;                       : &#39;com.yanzhenjie.nohttp:nohttp:1.1.4&#39;,

            //junit
            &quot;junit&quot;                        : &#39;junit:junit:4.12&#39;,

            //okhttp
            &quot;okhttp&quot;                       : &#39;com.yanzhenjie.nohttp:okhttp:1.1.4&#39;,

            //æ·»åŠ æ³¨è§£ï¼Œé…åˆlombok
            &quot;annotation&quot;                   : &#39;org.glassfish:javax.annotation:10.0-b28&#39;,

            &quot;SmartRefreshLayout&quot;           : &#39;com.scwang.smartrefresh:SmartRefreshLayout:1.0.3&#39;,
            &quot;SmartRefreshHeader&quot;           : &#39;com.scwang.smartrefresh:SmartRefreshHeader:1.0.3&#39;,
    ]
}</code></pre><h3 id="ä½¿ç”¨å…¨å±€é…ç½®"><a href="#ä½¿ç”¨å…¨å±€é…ç½®" class="headerlink" title="ä½¿ç”¨å…¨å±€é…ç½®"></a>ä½¿ç”¨å…¨å±€é…ç½®</h3><p>ä¸»é¡¹ç›®buildæ–‡ä»¶å£°æ˜è‡ªå®šä¹‰çš„buildæ–‡ä»¶</p>
<pre><code>apply from: &quot;config.gradle&quot;</code></pre><p>åœ¨moudleä¸­ä½¿ç”¨</p>
<pre><code>apply plugin: &#39;com.android.application&#39;

// ä¾èµ–æ’ä»¶è„šæœ¬
apply from: &#39;tinker-support.gradle&#39;

android {

    //é¡¹ç›®ç¼–è¯‘ç‰ˆæœ¬
    compileSdkVersion rootProject.ext.android.compileSdkVersion
    defaultConfig {
        //é¡¹ç›®åŒ…å
        applicationId rootProject.ext.android.applicationId
        //æœ€ä½å…¼å®¹
        minSdkVersion rootProject.ext.android.minSdkVersion
        //æœ€ä½³ä½¿ç”¨ç‰ˆæœ¬
        targetSdkVersion rootProject.ext.android.targetSdkVersion
        //ç‰ˆæœ¬å·
        versionCode rootProject.ext.android.versionCode
        //ç‰ˆæœ¬å
        versionName rootProject.ext.android.versionName
        testInstrumentationRunner rootProject.ext.android.testInstrumentationRunner
        vectorDrawables.useSupportLibrary = true
        multiDexEnabled true
        flavorDimensions &quot;versionCode&quot;
    }
    buildTypes {
        release {
            //å…³é—­æ—¥å¿—è¾“å‡º
            buildConfigField(&quot;boolean&quot;, &quot;LOG_DEBUG&quot;, &quot;false&quot;)
            //é…ç½®é»˜è®¤baseUrl
            buildConfigField(&quot;String&quot;, &quot;SERVER_URL&quot;, rootProject.ext.configs[&#39;releaseUrl&#39;])
            //é…ç½®ä¸‹è½½åœ°å€
            buildConfigField(&quot;String&quot;, &quot;DOWNLOAD_URL&quot;, rootProject.ext.download[&#39;releaseUrl&#39;])
            // ç§»é™¤æ— ç”¨çš„resourceæ–‡ä»¶
            shrinkResources true
            //æ˜¯å¦æ··æ·†
            minifyEnabled true
            //æ··æ·†æ–‡ä»¶(.textå¤„äºSDKä¸‹é¢ï¼Œé’ˆå¯¹å…¨é¡¹ç›®ï¼Œ.proåªé’ˆå¯¹æœ¬é¡¹ç›®)
            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;
           }

        debug {
            buildConfigField(&quot;String&quot;, &quot;SERVER_URL&quot;, rootProject.ext.configs[&#39;debugUrl&#39;])
            minifyEnabled true
            //æ··æ·†æ–‡ä»¶(.textå¤„äºSDKä¸‹é¢ï¼Œé’ˆå¯¹å…¨é¡¹ç›®ï¼Œ.proåªé’ˆå¯¹æœ¬é¡¹ç›®)
            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;
            buildConfigField(&quot;boolean&quot;, &quot;LOG_DEBUG&quot;, &quot;true&quot;)
            //é…ç½®ä¸‹è½½åœ°å€
            buildConfigField(&quot;String&quot;, &quot;DOWNLOAD_URL&quot;, rootProject.ext.download[&#39;debugUrl&#39;])
            }
    }

    //é…ç½®å¤šæ¸ é“åŒ…
    productFlavors {
        huawei {}
        xiaomi {}
        qh360 {}
        baidu {}
    }

     //ä½¿ç”¨å‹ç›Ÿå¤šæ¸ é“æ‰“åŒ…æ›¿æ¢
    productFlavors.all {
        flavor -&gt; flavor.manifestPlaceholders = [UMENG_CHANNEL_VALUE: name]
    }

    //layoutæ–‡ä»¶åˆ†åŒ…
    sourceSets {
        main {
            res.srcDirs =
                    [
                            &#39;src/main/res/layouts/activities&#39;,
                            &#39;src/main/res/layouts/dialogs&#39;,
                            &#39;src/main/res/layouts/fragments&#39;,
                            &#39;src/main/res/layouts/headviews&#39;,
                            &#39;src/main/res/layouts/items&#39;,
                            &#39;src/main/res/layouts/views&#39;,
                            &#39;src/main/res/layouts&#39;,
                            &#39;src/main/res&#39;
                    ]
        }
    }

    //é…ç½®ä½¿ç”¨lambdaè¡¨è¾¾å¼
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
}

//é…ç½®ä»“åº“ï¼Œå¯ä»¥ä½¿ç”¨å…¨å±€é…ç½®ï¼Œé»˜è®¤jcenterï¼Œ3.0ä»¥åé»˜è®¤google
allprojects {
    repositories {
        jcenter()
        maven { url &quot;https://jitpack.io&quot; }
        maven { url &quot;https://raw.githubusercontent.com/Pgyer/mvn_repo_pgyer/master&quot; }

    }
}

dependencies {
    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)
    androidTestImplementation(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {
        exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;
    })
    implementation files(&#39;libs/alipaySdk-20170309.jar&#39;)
    implementation project(&#39;:sharelibrary&#39;)
    implementation project(&#39;:UpdateAppUtils&#39;)
    implementation rootProject.ext.dependencies.pgyer
    implementation rootProject.ext.dependencies.bumptech
    implementation rootProject.ext.dependencies.wechat
    implementation rootProject.ext.dependencies.MZBannerView
    implementation rootProject.ext.dependencies.expandableTextView
    implementation rootProject.ext.dependencies.autolayout
    implementation rootProject.ext.dependencies.support_v7
    implementation rootProject.ext.dependencies.nineoldandroids
    implementation rootProject.ext.dependencies.xutils
    implementation rootProject.ext.dependencies.support_design
    implementation rootProject.ext.dependencies.glide
    implementation rootProject.ext.dependencies.support_v4
    implementation rootProject.ext.dependencies.support_drawable
    implementation rootProject.ext.dependencies.eventbus
    implementation rootProject.ext.dependencies.fastjson
    implementation rootProject.ext.dependencies.litepal
    implementation rootProject.ext.dependencies.circleimageview
    implementation rootProject.ext.dependencies.klog
    implementation rootProject.ext.dependencies.Luban
    implementation rootProject.ext.dependencies.jsoup
    implementation rootProject.ext.dependencies.permission
    implementation rootProject.ext.dependencies.album
    implementation rootProject.ext.dependencies.constraint_layout
    implementation rootProject.ext.dependencies.BaseRecyclerViewAdapterHelper
    implementation rootProject.ext.dependencies.badgeview
    implementation rootProject.ext.dependencies.butterknife
    annotationProcessor rootProject.ext.dependencies.butterknife_two
    implementation rootProject.ext.dependencies.lombok
    annotationProcessor rootProject.ext.dependencies.lombok
    implementation rootProject.ext.dependencies.nohttp
    implementation rootProject.ext.dependencies.okhttp
    testImplementation rootProject.ext.dependencies.junit
    provided rootProject.ext.dependencies.annotation
    implementation rootProject.ext.dependencies.SmartRefreshLayout
    implementation rootProject.ext.dependencies.SmartRefreshHeader
    implementation rootProject.ext.dependencies.bugly
    implementation rootProject.ext.dependencies.multidex
    implementation project(&#39;:PushSDK&#39;)
    implementation files(&#39;libs/umeng-analytics-7.4.0.jar&#39;)
    implementation files(&#39;libs/umeng-common-1.4.0.jar&#39;)
}
</code></pre><h3 id="gradleçš„ä»¥ä¾èµ–ç®¡ç†"><a href="#gradleçš„ä»¥ä¾èµ–ç®¡ç†" class="headerlink" title="gradleçš„ä»¥ä¾èµ–ç®¡ç†"></a>gradleçš„ä»¥ä¾èµ–ç®¡ç†</h3><p>gradleæ”¯æŒä¸‰ç§ä»“åº“</p>
<ul>
<li>Maven</li>
<li>lvy</li>
<li>æ–‡ä»¶å¤¹</li>
</ul>
<p>ä¸€ä¸ªä¾èµ–éœ€è¦ä¸‰ä¸ªå…ƒç´ ï¼š</p>
<ul>
<li>groupâ€”â€”ç»„ç»‡åå­—</li>
<li>nameâ€”â€”åº“åå­—</li>
<li>versionâ€”-åº“ç‰ˆæœ¬</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code>implementation &#39;com.github.ALguojian:SpannableHelper:1.0&#39;</code></pre><p>gradleä½¿ç”¨groovyç¼–å†™ï¼Œå®Œæ•´è¡¨è¿°å¦‚ä¸‹ï¼š</p>
<pre><code>implementation group: &#39;com.github.ALguojian&#39; , name: &#39;SpannableHelper&#39; , version: &#39;1.0&#39;</code></pre><p>æœ‰å…³å…¬å¸ç§äººæƒé™ä»“åº“é…ç½®ï¼š</p>
<pre><code>repositories {
       maven {
           url &quot;http://repo.acmecorp.com/maven2&quot;
           credentials {
               username &#39;user&#39;
               password &#39;secretpassword&#39;
           }
        } 
</code></pre><p>å»ºè®®æœ‰å…³å¯†ç éƒ½é…ç½®åœ¨gradle.propertiesæ–‡ä»¶ä¸­ï¼Œå¹¶æ·»åŠ åˆ°å¿½ç•¥æ–‡ä»¶</p>
<pre><code># åº”ç”¨ç‰ˆæœ¬åç§°
VERSION_NAME=1.0.0
# åº”ç”¨ç‰ˆæœ¬å·
VERSION_CODE=100</code></pre><p>ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<pre><code>android {
    compileSdkVersion project.ANDROID_BUILD_SDK_VERSION as int
    buildToolsVersion project.ANDROID_BUILD_TOOLS_VERSION

    defaultConfig {
        versionCode project.VERSION_CODE as int
        versionName project.VERSION_NAME
        minSdkVersion project.ANDROID_BUILD_MIN_SDK_VERSION as int
        targetSdkVersion project.ANDROID_BUILD_TARGET_SDK_VERSION as int
    }
}</code></pre><h4 id="æ·»åŠ soåŒ…å¦‚ä¸‹ï¼š"><a href="#æ·»åŠ soåŒ…å¦‚ä¸‹ï¼š" class="headerlink" title="æ·»åŠ soåŒ…å¦‚ä¸‹ï¼š"></a>æ·»åŠ soåŒ…å¦‚ä¸‹ï¼š</h4><p>ç”¨cæˆ–è€…c++å†™çš„libraryå«åšsoåŒ…ï¼Œandroidæ’ä»¶é»˜è®¤æ˜¯æ”¯æŒçš„ï¼Œéœ€è¦æŠŠsoæ–‡ä»¶æ”¾åœ¨å¯¹åº”æ–‡ä»¶å¤¹ä¸­</p>
<pre><code>app
   â”œâ”€â”€ AndroidManifest.xml
   â””â”€â”€ jniLibs
       â”œâ”€â”€ armeabi
       â”‚   â””â”€â”€ nativelib.so
       â”œâ”€â”€ armeabi-v7a
       â”‚   â””â”€â”€ nativelib.so
       â”œâ”€â”€ mips
       â”‚   â””â”€â”€ nativelib.so
       â””â”€â”€ x86
           â””â”€â”€ nativelib.so</code></pre><p>è¢«ä¾èµ–çš„moudleç¼–è¯‘ä¹‹åä¼šç”Ÿæˆaaræ–‡ä»¶ï¼Œä½¿ç”¨aaræ–‡ä»¶å’Œjarç›¸åŒ</p>
<p>å…³äºä»¥æ¥çš„é…ç½®ï¼š</p>
<ul>
<li>implementation å…¶å«ä¹‰æ˜¯åŒ…å«æ‰€æœ‰çš„ä¾èµ–åŒ…ï¼Œå³åœ¨APKé‡Œï¼Œimplementation çš„ä¾èµ–ä¼šå­˜åœ¨ã€‚</li>
<li>Runtime only ä»…ä»…ç¼–è¯‘æ˜¯ä½¿ç”¨</li>
<li>testImplementation æ·»åŠ é¢å¤–çš„libraryæ”¯æŒé’ˆå¯¹æµ‹è¯•</li>
<li>androidTestCompileæ·»åŠ é¢å¤–çš„libraryæ”¯æŒé’ˆå¯¹æµ‹è¯•</li>
<li>Debug implementation é’ˆå¯¹ä¸åŒçš„æ¸ é“é…ç½®</li>
</ul>
<h3 id="å…³äºé…ç½®å¤šç‰ˆæœ¬"><a href="#å…³äºé…ç½®å¤šç‰ˆæœ¬" class="headerlink" title="å…³äºé…ç½®å¤šç‰ˆæœ¬"></a>å…³äºé…ç½®å¤šç‰ˆæœ¬</h3><p>buildTypesä¸‹é¢é…ç½®å¤šæ¸ é“é…ç½®ï¼š</p>
<pre><code>android {
    buildTypes {
        alguojain{
            applicationIdSuffix &quot;.alguojain&quot;
            versionNameSuffix &quot;-alguojain&quot;
            buildConfigField &quot;String&quot;ï¼Œ&quot;API_URL&quot;ï¼Œ&quot;\&quot;http://alguojain.com&quot;\&quot;
         }
    }
}</code></pre><h3 id="å…³äºé…åˆ¶å¤šæ¸ é“-product-flavors"><a href="#å…³äºé…åˆ¶å¤šæ¸ é“-product-flavors" class="headerlink" title="å…³äºé…åˆ¶å¤šæ¸ é“ product flavors"></a>å…³äºé…åˆ¶å¤šæ¸ é“ product flavors</h3><pre><code>android {

    flavorDimensions &quot;123&quot;, &quot;456&quot;
    productFlavors {
        aaa{
             applicationId &#39;com.alguojian.aaa&#39;
              flavorDimension &quot;123&quot;
             versionCode 3
        }
        bbb{
             flavorDimension &quot;456&quot;
             applicationId &#39;com.alguojian.bbb&#39;
             minSdkVersion 14
             versionCode 4
        }
    }
}</code></pre><h4 id="é…ç½®æ¸ é“è¿‡æ»¤å™¨"><a href="#é…ç½®æ¸ é“è¿‡æ»¤å™¨" class="headerlink" title="é…ç½®æ¸ é“è¿‡æ»¤å™¨"></a>é…ç½®æ¸ é“è¿‡æ»¤å™¨</h4><pre><code>android.variantFilter { variant -&gt;
       if(variant.buildType.name.equals(&#39;release&#39;)) {
           variant.getFlavors().each() { flavor -&gt;
               if (flavor.name.equals(tbl)) { variant.setIgnore(true);
            }
        }
    }
}</code></pre><h3 id="é…ç½®å¤šç‰ˆæœ¬çš„ç­¾åæ–‡ä»¶"><a href="#é…ç½®å¤šç‰ˆæœ¬çš„ç­¾åæ–‡ä»¶" class="headerlink" title="é…ç½®å¤šç‰ˆæœ¬çš„ç­¾åæ–‡ä»¶"></a>é…ç½®å¤šç‰ˆæœ¬çš„ç­¾åæ–‡ä»¶</h3><p>æœ‰å…³ç­¾åï¼Œdebugç‰ˆæœ¬shistudioé»˜è®¤çš„ç­¾åï¼Œä½¿ç”¨çš„æ˜¯å…¬å…±çš„ç­¾åæ–‡ä»¶ï¼Œä¸‹é¢alguojianç‰ˆæœ¬ä½¿ç”¨initWithæ–¹æ³•æ˜¯ä½¿ç”¨debugç‰ˆæœ¬çš„é…ç½®</p>
<pre><code>android {
       signingConfigs {

           alguojian.initWith(signingConfigs.debug)

           release {
               storeFile file(&quot;release.keystore&quot;)
               storePassword&quot;secretpassword&quot;
               keyAlias &quot;gradleforandroid&quot;
               keyPassword &quot;secretpassword&quot;
           }
      }
}</code></pre><h3 id="é’ˆå¯¹ä¸åŒç‰ˆæœ¬ä¸åŒæ¸ é“é…ç½®ä¸åŒç­¾å"><a href="#é’ˆå¯¹ä¸åŒç‰ˆæœ¬ä¸åŒæ¸ é“é…ç½®ä¸åŒç­¾å" class="headerlink" title="é’ˆå¯¹ä¸åŒç‰ˆæœ¬ä¸åŒæ¸ é“é…ç½®ä¸åŒç­¾å"></a>é’ˆå¯¹ä¸åŒç‰ˆæœ¬ä¸åŒæ¸ é“é…ç½®ä¸åŒç­¾å</h3><pre><code>android {
       buildTypes {
           release {
               productFlavors.red.signingConfig signingConfigs.aaa
               productFlavors.blue.signingConfig signingConfigs.bbb
           }
       }
}</code></pre><h3 id="å¤šmoudleå¼€å¯å¤šçº¿ç¨‹æ„å»ºï¼ˆç”µè„‘å†…å­˜è¦å¤§ï¼Œè¦å¤§ï¼Œè¦å¤§ï¼ï¼ï¼ï¼‰"><a href="#å¤šmoudleå¼€å¯å¤šçº¿ç¨‹æ„å»ºï¼ˆç”µè„‘å†…å­˜è¦å¤§ï¼Œè¦å¤§ï¼Œè¦å¤§ï¼ï¼ï¼ï¼‰" class="headerlink" title="å¤šmoudleå¼€å¯å¤šçº¿ç¨‹æ„å»ºï¼ˆç”µè„‘å†…å­˜è¦å¤§ï¼Œè¦å¤§ï¼Œè¦å¤§ï¼ï¼ï¼ï¼‰"></a>å¤šmoudleå¼€å¯å¤šçº¿ç¨‹æ„å»ºï¼ˆç”µè„‘å†…å­˜è¦å¤§ï¼Œè¦å¤§ï¼Œè¦å¤§ï¼ï¼ï¼ï¼‰</h3><p>éœ€è¦åœ¨grade.propertiesæ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹å±æ€§ï¼š</p>
<pre><code>
org.gradle.parallel=true
</code></pre><h3 id="è‡ªå®šä¹‰gradleæ’ä»¶ï¼Œå¾…å®šï¼Œæ­£åœ¨å­¦ä¹ grovvy"><a href="#è‡ªå®šä¹‰gradleæ’ä»¶ï¼Œå¾…å®šï¼Œæ­£åœ¨å­¦ä¹ grovvy" class="headerlink" title="è‡ªå®šä¹‰gradleæ’ä»¶ï¼Œå¾…å®šï¼Œæ­£åœ¨å­¦ä¹ grovvy"></a>è‡ªå®šä¹‰gradleæ’ä»¶ï¼Œå¾…å®šï¼Œæ­£åœ¨å­¦ä¹ grovvy</h3>]]></content>
  </entry>
  <entry>
    <title>é¡¹ç›®ç”¨åˆ°çš„åº“ä»¥åŠé…ç½®çš„æ··æ·†æ–‡ä»¶</title>
    <url>/2019/02/12/%E9%A1%B9%E7%9B%AE%E7%94%A8%E5%88%B0%E7%9A%84%E5%BA%93%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE%E7%9A%84%E6%B7%B7%E6%B7%86%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<p> //ç”Ÿå‘½å£°æ˜æœ¬åœ°ä¾èµ–<br>    compile fileTree(include: [â€˜*.jarâ€™], dir: â€˜libsâ€™)<br>    //å£°æ˜æµ‹è¯•ç”¨ä¾‹åº“<br>    androidTestCompile(â€˜com.android.support.test.espresso:espresso-core:2.2.2â€™, {<br>        exclude group: â€˜com.android.supportâ€™, module: â€˜support-annotationsâ€™<br>    })<br>    //æ”¯ä»˜å®æ”¯ä»˜<br>    compile files(â€˜libs/alipaySdk-20170309.jarâ€™)<br>    //MOBåˆ†äº«<br>    compile project(â€˜:sharelibraryâ€™)<br>    //å¾®ä¿¡SDK<br>    compile â€˜com.tencent.mm.opensdk:wechat-sdk-android-with-mta:1.0.2â€™<br>    //å¯ä»¥ä¼¸ç¼©çš„TextView<br>    compile â€˜com.ms-square:expandableTextView:0.1.4â€™<br>    //å±å¹•é€‚é…<br>    compile â€˜com.zhy:autolayout:1.4.5â€™<br>    compile â€˜com.android.support:appcompat-v7:25.3.1â€™<br>    //è®¾ç½®é˜…è¯»é¡µåŠ¨ç”»<br>    compile â€˜com.nineoldandroids:library:2.4.0â€™<br>    //Xutils3ç”¨äºç½‘ç»œè¯·æ±‚<br>    compile â€˜org.xutils:xutils:3.3.40â€™<br>    compile â€˜com.android.support:design:25.3.0â€™<br>    //åŠ è½½å›¾ç‰‡<br>    compile â€˜com.github.bumptech.glide:glide:3.7.0â€™<br>    compile â€˜com.android.support:support-v4:25.3.0â€™<br>    compile â€˜com.android.support:support-vector-drawable:25.1.0â€™<br>    //é¡¹ç›®å†…éƒ¨ä¼ é€’æ¶ˆæ¯<br>    compile â€˜org.greenrobot:eventbus:3.0.0â€™<br>    //jsonè§£æ<br>    compile â€˜com.alibaba:fastjson:1.2.23â€™<br>    //æ•°æ®åº“<br>    compile â€˜org.litepal.android:core:1.5.1â€™<br>    //åœ†è§’å›¾ç‰‡<br>    compile â€˜de.hdodenhof:circleimageview:2.1.0â€™<br>    //logæ‰“å°<br>    compile â€˜com.github.zhaokaiqiang.klog:library:1.5.0â€™<br>    //å›¾ç‰‡å‹ç¼©<br>    compile â€˜top.zibin:Luban:1.1.3â€™<br>    //html<br>    compile â€˜org.jsoup:jsoup:1.10.2â€™<br>    //å‹ç›Ÿç»Ÿè®¡<br>    compile â€˜com.umeng.analytics:analytics:latest.integrationâ€™<br>    //æƒé™ç®¡ç†<br>    compile â€˜com.yanzhenjie:permission:1.0.7â€™<br>    //ç›¸å†Œ<br>    compile â€˜com.yanzhenjie:album:1.0.7â€™<br>    //æ‹–æ‹½å¸ƒå±€<br>    compile â€˜com.android.support.constraint:constraint-layout:1.0.0-alpha8â€™<br>    //RecyclerViewé€‚é…å™¨<br>    compile â€˜com.github.CymChad:BaseRecyclerViewAdapterHelper:2.9.18â€™<br>    //è½®æ’­<br>    compile â€˜com.github.pinguo-zhouwei:MZBannerView:v1.1.0â€™<br>    //é«˜äº®å¼•å¯¼<br>    compile â€˜com.isanwenyu.highlight:highlight:1.8.0â€™<br>    //åŠ¨æ€ç”Ÿæˆå°çº¢ç‚¹<br>    compile â€˜q.rorbin:badgeview:1.1.2â€™<br>    //ç»‘å®šView<br>    compile â€˜com.jakewharton:butterknife:8.7.0â€™<br>    //ç”Ÿæˆgitå’Œsetæ–¹æ³•<br>    compile â€˜org.projectlombok:lombok:1.16.18â€™<br>    annotationProcessor â€œorg.projectlombok:lombok:1.16.18â€<br>    //æ•°æ®è¯·æ±‚<br>    compile â€˜com.yanzhenjie.nohttp:nohttp:1.1.4â€™<br>    compile â€˜com.yanzhenjie.nohttp:okhttp:1.1.4â€™<br>    testCompile â€˜junit:junit:4.12â€™<br>    annotationProcessor â€˜com.jakewharton:butterknife-compiler:8.7.0â€™<br>    provided â€˜org.glassfish:javax.annotation:10.0-b28â€™<br>    //æ›´æ–°ä¸‹è½½å®‰è£…<br>    compile project(â€˜:UpdateAppUtilsâ€™)</p>
<pre><code>
&lt;!--more--&gt;


#å®ä½“ç±»

-keep class com.sweetorange.read.bean.** { *; }


#ä¿æŠ¤æ³¨è§£
-keepattributes *Annotation*
-keepattributes Signature


-ignorewarnings


#ç¬¬ä¸‰æ–¹åŒ…

#jsoup
-keeppackagenames org.jsoup.nodes

#MOB
-keep class cn.sharesdk.**{*;}
-keep class com.sina.**{*;}
-keep class **.R$* {*;}
-keep class **.R{*;}
-keep class com.mob.**{*;}
-dontwarn com.mob.**
-dontwarn cn.sharesdk.**
-dontwarn **.R$*

#butterknife
-keep class butterknife.** { *; }
-dontwarn butterknife.internal.**
-keep class **$$ViewBinder { *; }
-keepclasseswithmembernames class * {
    @butterknife.* &lt;fields&gt;;
}
-keepclasseswithmembernames class * {
    @butterknife.* &lt;methods&gt;;
}

#eventBus
-keepclassmembers class ** {
    @org.greenrobot.eventbus.Subscribe &lt;methods&gt;;
}
-keep enum org.greenrobot.eventbus.ThreadMode { *; }
-keepclassmembers class * extends org.greenrobot.eventbus.util.ThrowableFailureEvent {
    &lt;init&gt;(java.lang.Throwable);
}

#glide
-keep public class * implements com.bumptech.glide.module.GlideModule
-keep public class * extends com.bumptech.glide.module.AppGlideModule
-keep public enum com.bumptech.glide.load.resource.bitmap.ImageHeaderParser$** {
  **[] $VALUES;
  public *;
}

#albumç›¸å†Œ
-dontwarn com.yanzhenjie.album.**
-keep class com.yanzhenjie.album.**{*;}

-dontwarn com.yanzhenjie.fragment.**
-keep class com.yanzhenjie.fragment.**{*;}

-dontwarn com.yanzhenjie.mediascanner.**
-keep class com.yanzhenjie.mediascanner.**{*;}

-dontwarn com.yanzhenjie.loading.**
-keep class com.yanzhenjie.loading.**{*;}

-dontwarn com.yanzhenjie.statusview.**
-keep class com.yanzhenjie.statusview.**{*;}

# permissionæƒé™ç®¡ç†
-keepclassmembers class ** {
    @com.yanzhenjie.permission.PermissionYes &lt;methods&gt;;
}
-keepclassmembers class ** {
    @com.yanzhenjie.permission.PermissionNo &lt;methods&gt;;
}

#brvah
-keep class com.chad.library.adapter.** {
*;
}
-keep public class * extends com.chad.library.adapter.base.BaseQuickAdapter
-keep public class * extends com.chad.library.adapter.base.BaseViewHolder
-keepclassmembers  class **$** extends com.chad.library.adapter.base.BaseViewHolder {
     &lt;init&gt;(...);
}

#nohttp

-dontwarn com.yanzhenjie.nohttp.**
-keep class com.yanzhenjie.nohttp.**{*;}

#okhttp3
-dontwarn okhttp3.**
-keep class okhttp3.** {*;}
-dontwarn okio.**
-keep class okio.** {*;}

#fastJson
-keep class javax.ws.rs.** { *; }
-dontwarn com.alibaba.fastjson.**
-keep class com.alibaba.fastjson.** { *; }

#æ”¯ä»˜å®æ”¯ä»˜
-keep class com.alipay.android.app.IAlixPay{*;}
-keep class com.alipay.android.app.IAlixPay$Stub{*;}
-keep class com.alipay.android.app.IRemoteServiceCallback{*;}
-keep class com.alipay.android.app.IRemoteServiceCallback$Stub{*;}
-keep class com.alipay.sdk.app.PayTask{ public *;}
-keep class com.alipay.sdk.app.AuthTask{ public *;}
-keep class com.alipay.sdk.app.H5PayCallback {
    &lt;fields&gt;;
    &lt;methods&gt;;
}
-keep class com.alipay.android.phone.mrpc.core.** { *; }
-keep class com.alipay.apmobilesecuritysdk.** { *; }
-keep class com.alipay.mobile.framework.service.annotation.** { *; }
-keep class com.alipay.mobilesecuritysdk.face.** { *; }
-keep class com.alipay.tscenter.biz.rpc.** { *; }
-keep class org.json.alipay.** { *; }
-keep class com.alipay.tscenter.** { *; }
-keep class com.ta.utdid2.** { *;}
-keep class com.ut.device.** { *;}
-dontwarn android.net.**
-keep class android.net.SSLCertificateSocketFactory{*;}

#æ–¹æ³•æ•°é‡è¶…è¿‡64K
-keepattributes EnclosingMethod

#å¾®ä¿¡ç™»å½•åˆ†äº«ä»¥åŠæ”¯ä»˜
-keep class com.tencent.mm.opensdk.** { *;}
-keep class com.tencent.wxop.** {*;}
-keep class com.tencent.mm.sdk.** {*;}
-dontwarn com.tencent.mm.**
-dontwarn com.tencent.wxop.stat.**
-keep class com.tencent.mm.** {*;}
-keep class com.tencent.wxop.stat.**{*;}

#litepal
-dontwarn org.litepal.*
-keep class org.litepal.** { *; }
-keep enum org.litepal.**
-keep interface org.litepal.** { *; }
-keep public class * extends org.litepal.**
-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}

#æ–°æµªå¾®åš
 -keep class com.sina.weibo.sdk.* { *; }
-keep class android.support.v4.* { *; }
-keep class com.tencent.* { *; }
-keep class com.baidu.* { *; }
-keep class lombok.ast.ecj.* { *; }
-dontwarn android.support.v4.**
-dontwarn com.tencent.**s
-dontwarn com.baidu.**


#Rxandroid
-dontwarn sun.misc.**
-keepclassmembers class rx.internal.util.unsafe.*ArrayQueue*Field* {
    long producerIndex;
    long consumerIndex;
}
-keepclassmembers class rx.internal.util.unsafe.BaseLinkedQueueProducerNodeRef {
    rx.internal.util.atomic.LinkedQueueNode producerNode;
}
-keepclassmembers class rx.internal.util.unsafe.BaseLinkedQueueConsumerNodeRef {
    rx.internal.util.atomic.LinkedQueueNode consumerNode;
}

#å‹ç›Ÿç»Ÿè®¡
# å‹ç›Ÿç»Ÿè®¡åˆ†æ
-keepclassmembers class * { public &lt;init&gt;(org.json.JSONObject); }
-keepclassmembers enum com.umeng.analytics.** {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}

-dontshrink
-dontoptimize
-dontwarn com.google.android.maps.**
-dontwarn android.webkit.WebView
-dontwarn com.umeng.**
-dontwarn com.tencent.weibo.sdk.**
-dontwarn com.facebook.**
-keep public class javax.**
-keep public class android.webkit.**
-dontwarn android.support.v4.**
-keep enum com.facebook.**
-keepattributes Exceptions,InnerClasses,Signature
-keepattributes *Annotation*
-keepattributes SourceFile,LineNumberTable

-keep public interface com.facebook.**
-keep public interface com.tencent.**
-keep public interface com.umeng.socialize.**
-keep public interface com.umeng.socialize.sensor.**
-keep public interface com.umeng.scrshot.**

-keep public class com.umeng.socialize.* {*;}


-keep class com.facebook.**
-keep class com.facebook.** { *; }
-keep class com.umeng.scrshot.**
-keep public class com.tencent.** {*;}
-keep class com.umeng.socialize.sensor.**
-keep class com.umeng.socialize.handler.**
-keep class com.umeng.socialize.handler.*
-keep class com.umeng.weixin.handler.**
-keep class com.umeng.weixin.handler.*
-keep class com.umeng.qq.handler.**
-keep class com.umeng.qq.handler.*
-keep class UMMoreHandler{*;}
-keep class com.tencent.mm.sdk.modelmsg.WXMediaMessage {*;}
-keep class com.tencent.mm.sdk.modelmsg.** implements com.tencent.mm.sdk.modelmsg.WXMediaMessage$IMediaObject {*;}
-keep class im.yixin.sdk.api.YXMessage {*;}
-keep class im.yixin.sdk.api.** implements im.yixin.sdk.api.YXMessage$YXMessageData{*;}
-keep class com.tencent.mm.sdk.** {
   *;
}
-keep class com.tencent.mm.opensdk.** {
   *;
}
-keep class com.tencent.wxop.** {
   *;
}
-keep class com.tencent.mm.sdk.** {
   *;
}
-dontwarn twitter4j.**
-keep class twitter4j.** { *; }

-keep class com.tencent.** {*;}
-dontwarn com.tencent.**
-keep class com.kakao.** {*;}
-dontwarn com.kakao.**
-keep public class com.umeng.com.umeng.soexample.R$*{
    public static final int *;
}
-keep public class com.linkedin.android.mobilesdk.R$*{
    public static final int *;
}
-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}

-keep class com.tencent.open.TDialog$*
-keep class com.tencent.open.TDialog$* {*;}
-keep class com.tencent.open.PKDialog
-keep class com.tencent.open.PKDialog {*;}
-keep class com.tencent.open.PKDialog$*
-keep class com.tencent.open.PKDialog$* {*;}
-keep class com.umeng.socialize.impl.ImageImpl {*;}
-keep class com.sina.** {*;}
-dontwarn com.sina.**
-keep class  com.alipay.share.sdk.** {
   *;
}

-keepnames class * implements android.os.Parcelable {
    public static final ** CREATOR;
}

-keep class com.linkedin.** { *; }
-keep class com.android.dingtalk.share.ddsharemodule.** { *; }
-keepattributes Signature




#jsäº’ç›¸è°ƒç”¨

-keep class com.sweetorange.read.utils.WebViewSettingsUtils



#åŸºæœ¬é»˜è®¤æ··æ·†

#ä»£ç æ··æ·†å‹ç¼©æ¯”ï¼Œåœ¨0~7ä¹‹é—´ï¼Œé»˜è®¤ä¸º5ï¼Œ
-optimizationpasses 5

# æŒ‡å®šä¸å»å¿½ç•¥éå…¬å…±åº“çš„ç±»æˆå‘˜
-dontskipnonpubliclibraryclassmembers

-printmapping proguardMapping.txt

 #ä¸åšé¢„æ ¡éªŒï¼Œpreverifyæ˜¯proguardçš„å››ä¸ªæ­¥éª¤ä¹‹ä¸€ï¼ŒAndroidä¸éœ€è¦preverifyï¼Œå»æ‰è¿™ä¸€æ­¥èƒ½å¤ŸåŠ å¿«æ··æ·†é€Ÿåº¦ã€‚
-dontpreverify

-optimizations !code/simplification/cast,!field/*,!class/merging/*
-keepattributes *Annotation*,InnerClasses
-keepattributes Signature
-keepattributes SourceFile,LineNumberTable
#----------------------------------------------------------------------------

#---------------------------------é»˜è®¤ä¿ç•™åŒº---------------------------------
-keep public class * extends android.app.Activity
-keep public class * extends android.app.Application
-keep public class * extends android.app.Service
-keep public class * extends android.content.BroadcastReceiver
-keep public class * extends android.content.ContentProvider
-keep public class * extends android.app.backup.BackupAgentHelper
-keep public class * extends android.preference.Preference
-keep public class * extends android.view.View
-keep public class com.android.vending.licensing.ILicensingService
-keep class android.support.** {*;}
# ä¿ç•™ç»§æ‰¿çš„
-keep public class * extends android.support.v4.**
-keep public class * extends android.support.v7.**
-keep public class * extends android.support.annotation.**
-keep public class * extends android.view.View{
    *** get*();
    void set*(***);
    public &lt;init&gt;(android.content.Context);
    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);
    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);
}
-keepclasseswithmembers class * {
    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);
    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);
}
-keepclassmembers class * implements java.io.Serializable {
    static final long serialVersionUID;
    private static final java.io.ObjectStreamField[] serialPersistentFields;
    private void writeObject(java.io.ObjectOutputStream);
    private void readObject(java.io.ObjectInputStream);
    java.lang.Object writeReplace();
    java.lang.Object readResolve();
}

# ä¿ç•™Rä¸‹é¢çš„èµ„æº
-keep class **.R$* {
 *;
}
-keepclassmembers class * {
    void *(**On*Event);
}

#---------------------------------webview------------------------------------
-keepclassmembers class fqcn.of.javascript.interface.for.Webview {
   public *;
}
-keepclassmembers class * extends android.webkit.WebViewClient {
    public void *(android.webkit.WebView, java.lang.String, android.graphics.Bitmap);
    public boolean *(android.webkit.WebView, java.lang.String);
}
-keepclassmembers class * extends android.webkit.WebViewClient {
    public void *(android.webkit.WebView, jav.lang.String);
}

</code></pre>]]></content>
  </entry>
  <entry>
    <title>æ³›å‹å­¦ä¹ ç¬”è®°</title>
    <url>/2019/02/10/%E6%B3%9B%E5%9E%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h4 id="ç®€å•å®ç”¨"><a href="#ç®€å•å®ç”¨" class="headerlink" title="ç®€å•å®ç”¨"></a>ç®€å•å®ç”¨</h4><p>æ³›å‹å°±æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œå¯ä»¥å°†ç±»å‹å½“ä½œå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªç±»æˆ–è€…æ˜¯æ–¹æ³•ã€‚</p>
<pre><code>public class Cache {
    Object value;

    public Object getValue() {
        return value;
    }

    public void setValue(Object value) {
        this.value = value;
    }
}</code></pre><a id="more"></a>


<p>å‡è®¾ Cache èƒ½å¤Ÿå­˜å–ä»»ä½•ç±»å‹çš„å€¼ï¼š</p>
<pre><code>Cache cache = new Cache();
cache.setValue(134);
int value = (int) cache.getValue();
cache.setValue(&quot;hello&quot;);
String value1 = (String) cache.getValue();</code></pre><p>ä½¿ç”¨æ³›å‹ï¼š</p>
<pre><code>public class Cache&lt;T&gt; {
    T value;

    public Object getValue() {
        return value;
    }

    public void setValue(T value) {
        this.value = value;
    }

}</code></pre><pre><code>Cache&lt;String&gt; cache1 = new Cache&lt;String&gt;();
cache1.setValue(&quot;123&quot;);
String value2 = cache1.getValue();

Cache&lt;Integer&gt; cache2 = new Cache&lt;Integer&gt;();
cache2.setValue(456);
int value3 = cache2.getValue();</code></pre><p>æ³›å‹é™¤äº†å¯ä»¥å°†ç±»å‹å‚æ•°åŒ–å¤–ï¼Œè€Œå‚æ•°ä¸€æ—¦ç¡®å®šå¥½ï¼Œå¦‚æœç±»ä¼¼ä¸åŒ¹é…ï¼Œç¼–è¯‘å™¨å°±ä¸é€šè¿‡ã€‚ </p>
<h4 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h4><ol>
<li><p>ä¸æ™®é€šçš„ Object ä»£æ›¿ä¸€åˆ‡ç±»å‹è¿™æ ·ç®€å•ç²—æš´è€Œè¨€ï¼Œæ³›å‹ä½¿å¾—æ•°æ®çš„ç±»åˆ«å¯ä»¥åƒå‚æ•°ä¸€æ ·ç”±å¤–éƒ¨ä¼ é€’è¿›æ¥ã€‚å®ƒæä¾›äº†ä¸€ç§æ‰©å±•èƒ½åŠ›ã€‚å®ƒæ›´ç¬¦åˆé¢å‘æŠ½è±¡å¼€å‘çš„è½¯ä»¶ç¼–ç¨‹å®—æ—¨ã€‚</p>
</li>
<li><p>å½“å…·ä½“çš„ç±»å‹ç¡®å®šåï¼Œæ³›å‹åˆæä¾›äº†ä¸€ç§ç±»å‹æ£€æµ‹çš„æœºåˆ¶ï¼Œåªæœ‰ç›¸åŒ¹é…çš„æ•°æ®æ‰èƒ½æ­£å¸¸çš„èµ‹å€¼ï¼Œå¦åˆ™ç¼–è¯‘å™¨å°±ä¸é€šè¿‡ã€‚æ‰€ä»¥è¯´ï¼Œå®ƒæ˜¯ä¸€ç§ç±»å‹å®‰å…¨æ£€æµ‹æœºåˆ¶ï¼Œä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†è½¯ä»¶çš„å®‰å…¨æ€§é˜²æ­¢å‡ºç°ä½çº§çš„å¤±è¯¯ã€‚</p>
</li>
<li><p>æ³›å‹æé«˜äº†ç¨‹åºä»£ç çš„å¯è¯»æ€§ï¼Œä¸å¿…è¦ç­‰åˆ°è¿è¡Œçš„æ—¶å€™æ‰å»å¼ºåˆ¶è½¬æ¢ï¼Œåœ¨å®šä¹‰æˆ–è€…å®ä¾‹åŒ–é˜¶æ®µï¼Œå› ä¸º Cache<string> è¿™ä¸ªç±»å‹æ˜¾åŒ–çš„æ•ˆæœï¼Œç¨‹åºå‘˜èƒ½å¤Ÿä¸€ç›®äº†ç„¶çŒœæµ‹å‡ºä»£ç è¦æ“ä½œçš„æ•°æ®ç±»å‹ã€‚</string></p>
</li>
</ol>
<h3 id="æ³›å‹çš„å®šä¹‰å’Œä½¿ç”¨"><a href="#æ³›å‹çš„å®šä¹‰å’Œä½¿ç”¨" class="headerlink" title="æ³›å‹çš„å®šä¹‰å’Œä½¿ç”¨"></a>æ³›å‹çš„å®šä¹‰å’Œä½¿ç”¨</h3><p>æ³›å‹å®‰æ‰ä½¿ç”¨æƒ…å†µå¯ä»¥åˆ†ä¸º3ç§ã€‚</p>
<ol>
<li><p><strong>æ³›å‹ç±»</strong></p>
</li>
<li><p><strong>æ³›å‹æ–¹æ³•</strong></p>
</li>
<li><p><strong>æ³›å‹æ¥å£</strong></p>
</li>
</ol>
<h4 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h4><p>ç®€å•å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»</p>
<pre><code>public class Test&lt;T&gt; {
    T field1;
}</code></pre><p>å°–æ‹¬å· &lt;&gt; ä¸­çš„ T è¢«ç§°ä½œæ˜¯ç±»å‹å‚æ•°ï¼Œç”¨äºæŒ‡ä»£ä»»ä½•ç±»å‹ã€‚äº‹å®ä¸Šï¼ŒTåªæ˜¯ä¸€ç§ä¹ æƒ¯æ€§å†™æ³•ï¼Œå¦‚æœä½ æ„¿æ„ã€‚ä½ å¯ä»¥è¿™æ ·å†™ã€‚</p>
<pre><code>public class Test&lt;Hello&gt; {
    Hello field1;
}</code></pre><p>ä½†å‡ºäºè§„èŒƒçš„ç›®çš„ï¼ŒJava è¿˜æ˜¯å»ºè®®æˆ‘ä»¬ç”¨å•ä¸ªå¤§å†™å­—æ¯æ¥ä»£è¡¨ç±»å‹å‚æ•°ã€‚å¸¸è§çš„å¦‚ï¼š </p>
<ol>
<li><strong>T</strong> ä»£è¡¨ä¸€èˆ¬çš„ä»»ä½•ç±»ã€‚ </li>
<li><strong>E</strong> ä»£è¡¨ Element çš„æ„æ€ï¼Œæˆ–è€… Exception å¼‚å¸¸çš„æ„æ€ã€‚ </li>
<li><strong>K</strong> ä»£è¡¨ Key çš„æ„æ€ã€‚ </li>
<li><strong>V</strong> ä»£è¡¨ Value çš„æ„æ€ï¼Œé€šå¸¸ä¸ K ä¸€èµ·é…åˆä½¿ç”¨ã€‚ </li>
<li><strong>S</strong> ä»£è¡¨ Subtype çš„æ„æ€ï¼Œæ–‡ç« åé¢éƒ¨åˆ†ä¼šè®²è§£ç¤ºæ„ã€‚</li>
</ol>
<p>å¦‚æœä¸€ä¸ªç±»è¢« <code>&lt;T&gt;</code> çš„å½¢å¼å®šä¹‰ï¼Œé‚£ä¹ˆå®ƒå°±è¢«ç§°ä¸ºæ˜¯æ³›å‹ç±»ã€‚</p>
<p>æ³›å‹ç±»çš„ä½¿ç”¨ï¼š</p>
<pre><code>Test&lt;String&gt; test1 = new Test&lt;&gt;();
Test&lt;Integer&gt; test2 = new Test&lt;&gt;();</code></pre><p>å¯¹æ³›å‹ç±»åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œåœ¨å°–æ‹¬å·ä¸­èµ‹å€¼ç›¸åº”çš„ç±»å‹ä¾¿æ˜¯ã€‚T å°±ä¼šè¢«æ›¿æ¢æˆå¯¹åº”çš„ç±»å‹ï¼Œå¦‚ String æˆ–è€…æ˜¯ Integerã€‚å½“ä¸€ä¸ªæ³›å‹ç±»è¢«åˆ›å»ºæ—¶ï¼Œå†…éƒ¨è‡ªåŠ¨æ‰©å±•æˆä¸‹é¢çš„ä»£ç ã€‚</p>
<pre><code>public class Test&lt;String&gt; {
    String field1;
}
</code></pre><p>æ³›å‹ç±»è¿˜å¯ä»¥è¿™æ ·æ¥å—å¤šä¸ªç±»å‹å‚æ•°ã€‚</p>
<pre><code>public class MultiType &lt;E,T&gt;{
    E value1;
    T value2;

    public E getValue1(){
        return value1;
    }

    public T getValue2(){
        return value2;
    }
}
</code></pre><h4 id="æ³›å‹æ–¹æ³•"><a href="#æ³›å‹æ–¹æ³•" class="headerlink" title="æ³›å‹æ–¹æ³•"></a>æ³›å‹æ–¹æ³•</h4><pre><code>public class Test1 {

    public &lt;T&gt; void testMethod(T t){

    }
}
</code></pre><p>æ³›å‹æ–¹æ³•ä¸æ³›å‹ç±»ç¨æœ‰ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œç±»å‹å‚æ•°ä¹Ÿå°±æ˜¯å°–æ‹¬å·é‚£ä¸€éƒ¨åˆ†æ˜¯å†™åœ¨è¿”å›å€¼å‰é¢çš„ã€‚<t> ä¸­çš„ T è¢«ç§°ä¸ºç±»å‹å‚æ•°ï¼Œè€Œæ–¹æ³•ä¸­çš„ T è¢«ç§°ä¸ºå‚æ•°åŒ–ç±»å‹ï¼Œå®ƒä¸æ˜¯è¿è¡Œæ—¶çœŸæ­£çš„å‚æ•°ã€‚</t></p>
<p>å½“ç„¶ï¼Œå£°æ˜çš„ç±»å‹å‚æ•°ï¼Œå…¶å®ä¹Ÿæ˜¯å¯ä»¥å½“ä½œè¿”å›å€¼çš„ç±»å‹çš„ã€‚</p>
<pre><code>public  &lt;T&gt; T testMethod1(T t){
        return null;
}</code></pre><h4 id="æ³›å‹ç±»ä¸æ³›å‹æ–¹æ³•å…±å­˜"><a href="#æ³›å‹ç±»ä¸æ³›å‹æ–¹æ³•å…±å­˜" class="headerlink" title="æ³›å‹ç±»ä¸æ³›å‹æ–¹æ³•å…±å­˜"></a>æ³›å‹ç±»ä¸æ³›å‹æ–¹æ³•å…±å­˜</h4><pre><code>public class Test1&lt;T&gt;{

    public  void testMethod(T t){
        System.out.println(t.getClass().getName());
    }
    public  &lt;T&gt; T testMethod1(T t){
        return t;
    }
}</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼ŒTest1<t> æ˜¯æ³›å‹ç±»ï¼ŒtestMethod æ˜¯æ³›å‹ç±»ä¸­çš„æ™®é€šæ–¹æ³•ï¼Œè€Œ testMethod1 æ˜¯ä¸€ä¸ªæ³›å‹æ–¹æ³•ã€‚è€Œæ³›å‹ç±»ä¸­çš„ç±»å‹å‚æ•°ä¸æ³›å‹æ–¹æ³•ä¸­çš„ç±»å‹å‚æ•°æ˜¯æ²¡æœ‰ç›¸åº”çš„è”ç³»çš„ï¼Œ<strong>æ³›å‹æ–¹æ³•å§‹ç»ˆä»¥è‡ªå·±å®šä¹‰çš„ç±»å‹å‚æ•°ä¸ºå‡†</strong>ã€‚</t></p>
<p>æ‰€ä»¥ï¼Œé’ˆå¯¹ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ç¼–å†™æµ‹è¯•ä»£ç ã€‚</p>
<pre><code>Test1&lt;String&gt; t = new Test1();
t.testMethod(&quot;generic&quot;);
Integer i = t.testMethod1(new Integer(1));</code></pre><p>é¿å…æ··æ·†ï¼Œå¦‚æœåœ¨ä¸€ä¸ªæ³›å‹ç±»ä¸­å­˜åœ¨æ³›å‹æ–¹æ³•ï¼Œé‚£ä¹ˆä¸¤è€…çš„ç±»å‹å‚æ•°æœ€å¥½ä¸è¦åŒåã€‚æ¯”å¦‚ï¼ŒTest1<t> ä»£ç å¯ä»¥æ›´æ”¹ä¸ºè¿™æ ·</t></p>
<pre><code>public class Test1&lt;T&gt;{

    public  void testMethod(T t){
        System.out.println(t.getClass().getName());
    }
    public  &lt;E&gt; E testMethod1(E e){
        return e;
    }
}</code></pre><h3 id="æ³›å‹æ¥å£å’Œæ³›å‹ç±»ç±»ä¼¼"><a href="#æ³›å‹æ¥å£å’Œæ³›å‹ç±»ç±»ä¼¼" class="headerlink" title="æ³›å‹æ¥å£å’Œæ³›å‹ç±»ç±»ä¼¼"></a>æ³›å‹æ¥å£å’Œæ³›å‹ç±»ç±»ä¼¼</h3><pre><code>public interface Iterable&lt;T&gt; {
}</code></pre><h3 id="é€šé…ç¬¦"><a href="#é€šé…ç¬¦" class="headerlink" title="é€šé…ç¬¦  ?"></a>é€šé…ç¬¦  ?</h3><p>é™¤äº†ç”¨ <code>&lt;T&gt;</code> è¡¨ç¤ºæ³›å‹å¤–ï¼Œè¿˜æœ‰ <code>&lt;?&gt;</code> è¿™ç§å½¢å¼ã€‚<code>ï¼Ÿ</code> è¢«ç§°ä¸ºé€šé…ç¬¦ã€‚</p>
<pre><code>class Base{}

class Sub extends Base{}

Sub sub = new Sub();
Base base = sub;            </code></pre><p>ä¸Šé¢ä»£ç æ˜¾ç¤ºï¼ŒBase æ˜¯ Sub çš„çˆ¶ç±»ï¼Œå®ƒä»¬ä¹‹é—´æ˜¯ç»§æ‰¿å…³ç³»ï¼Œæ‰€ä»¥ Sub çš„å®ä¾‹å¯ä»¥ç»™ä¸€ä¸ª Base å¼•ç”¨èµ‹å€¼ï¼Œé‚£ä¹ˆ</p>
<pre><code>List&lt;Sub&gt; lsub = new ArrayList&lt;&gt;();
List&lt;Base&gt; lbase = lsub;</code></pre><p>Sub æ˜¯ Base çš„å­ç±»ï¼Œä¸ä»£è¡¨ <code>List&lt;Sub&gt;</code> å’Œ <code>List&lt;Base&gt;</code> æœ‰ç»§æ‰¿å…³ç³»ã€‚</p>
<h4 id="é€šé…ç¬¦æœ‰-3-ç§å½¢å¼ã€‚"><a href="#é€šé…ç¬¦æœ‰-3-ç§å½¢å¼ã€‚" class="headerlink" title="é€šé…ç¬¦æœ‰ 3 ç§å½¢å¼ã€‚"></a>é€šé…ç¬¦æœ‰ 3 ç§å½¢å¼ã€‚</h4><pre><code>1. &lt;?&gt; è¢«ç§°ä½œæ— é™å®šçš„é€šé…ç¬¦ã€‚

2. &lt;? extends T&gt; è¢«ç§°ä½œæœ‰ä¸Šé™çš„é€šé…ç¬¦ã€‚

3. &lt;? super T&gt; è¢«ç§°ä½œæœ‰ä¸‹é™çš„é€šé…ç¬¦ã€‚</code></pre><h4 id="æ— é™å®šé€šé…ç¬¦"><a href="#æ— é™å®šé€šé…ç¬¦" class="headerlink" title="æ— é™å®šé€šé…ç¬¦"></a>æ— é™å®šé€šé…ç¬¦</h4><pre><code>public void testWildCards(Collection&lt;?&gt; collection){
}</code></pre><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ–¹æ³•å†…çš„å‚æ•°æ˜¯è¢«æ— é™å®šé€šé…ç¬¦ä¿®é¥°çš„Collectionå¯¹è±¡ï¼Œå®ƒéšç•¥åœ°è¡¨è¾¾äº†ä¸€ä¸ªæ„å›¾æˆ–è€…å¯ä»¥è¯´æ˜¯é™å®šï¼Œé‚£å°±æ˜¯ testWidlCards()è¿™ä¸ªæ–¹æ³•å†…éƒ¨æ— éœ€å…³æ³¨Collectionä¸­çš„çœŸå®ç±»å‹ï¼Œå› ä¸ºå®ƒæ˜¯æœªçŸ¥çš„ã€‚æ‰€ä»¥åªèƒ½è°ƒç”¨ Collection ä¸­ä¸ç±»å‹æ— å…³çš„æ–¹æ³•ã€‚ </p>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-d7f2f18a8882fe3d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<pre><code>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“ &lt;?&gt; å­˜åœ¨æ—¶ï¼ŒCollection å¯¹è±¡ä¸§å¤±äº† add() æ–¹æ³•çš„åŠŸèƒ½ï¼Œç¼–è¯‘å™¨ä¸é€šè¿‡ã€‚ </code></pre><p>åœ¨çœ‹å¦‚ä¸‹ä»£ç </p>
<pre><code>List&lt;?&gt; wildlist = new ArrayList&lt;String&gt;();
wildlist.add(123);// ç¼–è¯‘ä¸é€šè¿‡</code></pre><p>æœ‰äººè¯´ï¼Œ&lt;?&gt; æä¾›äº†åªè¯»çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯å®ƒåˆ å‡äº†å¢åŠ å…·ä½“ç±»å‹å…ƒç´ çš„èƒ½åŠ›ï¼Œåªä¿ç•™ä¸å…·ä½“ç±»å‹æ— å…³çš„åŠŸèƒ½ã€‚å®ƒä¸ç®¡è£…è½½åœ¨è¿™ä¸ªå®¹å™¨å†…çš„å…ƒç´ æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå®ƒåªå…³å¿ƒå…ƒç´ çš„æ•°é‡ã€å®¹å™¨æ˜¯å¦ä¸ºç©ºï¼Ÿ</p>
<h4 id="lt-extends-T-gt"><a href="#lt-extends-T-gt" class="headerlink" title="&lt;? extends T&gt;"></a><code>&lt;? extends T&gt;</code></h4><p><code>&lt;?&gt;</code> ä»£è¡¨ç€ç±»å‹æœªçŸ¥ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç¡®éœ€è¦å¯¹äºç±»å‹çš„æè¿°å†ç²¾ç¡®ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ä¸€ä¸ªèŒƒå›´å†…ç¡®å®šç±»åˆ«ï¼Œæ¯”å¦‚ç±»å‹ A åŠ ç±»å‹ A çš„å­ç±»éƒ½å¯ä»¥ã€‚</p>
<pre><code>public void testSub(Collection&lt;? extends Base&gt; para){

}</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œparaè¿™ä¸ªcollectionæ¥æ”¶BaseåŠBaseçš„ä¹‹ç±»çš„ç±»å‹</p>
<p>ä½†æ˜¯ï¼Œå®ƒä»ç„¶ä¸§å¤±äº†å†™æ“ä½œçš„èƒ½åŠ›ã€‚ä¹Ÿå°±æ˜¯è¯´</p>
<pre><code>para.add(new Sub());//å¤±è´¥
para.add(new Base());//å¤±è´¥</code></pre><p>ä»ç„¶æ˜¯ç¼–è¯‘ä¸é€šè¿‡çš„ï¼Œå› ä¸ºparaæ˜¯ç»§æ‰¿è‡ªbaseçš„ä¸€ä¸ªå­ç±»ï¼ˆç°åœ¨å¹¶ä¸æ¸…æ¥šå…·ä½“æ˜¯ä»€ä¹ˆï¼‰</p>
<h4 id="lt-super-T-gt"><a href="#lt-super-T-gt" class="headerlink" title="&lt;? super T&gt;"></a><code>&lt;? super T&gt;</code></h4><p>è¿™ä¸ªå’Œ<code>&lt;? extends T&gt;</code>ç›¸å¯¹åº”ï¼Œä»£è¡¨Tä»¥åŠTçš„è¶…ç±»</p>
<pre><code>public void testSuper(Collection&lt;? super Sub&gt; para){
}</code></pre><p><code>&lt;? super T&gt;</code>ç¥å¥‡çš„åœ°æ–¹åœ¨äºï¼Œå®ƒæ‹¥æœ‰ä¸€å®šç¨‹åº¦çš„å†™æ“ä½œçš„èƒ½åŠ›</p>
<pre><code> public void testSuper(Collection&lt;? super Sub&gt; para){
    para.add(new Sub());//ç¼–è¯‘é€šè¿‡ï¼Œparaæ˜¯subçš„ä¸€ä¸ªçˆ¶ç±»ï¼Œå¯ä»¥å°†å­ç±»å¯¹è±¡å¼•ç”¨ç»™ä»–ï¼Œå®é™…å°±æ˜¯javaçš„å¤šæ€ï¼ˆæ€§è´¨ç›¸åŒï¼‰
    para.add(new Base());//ç¼–è¯‘ä¸é€šè¿‡
}</code></pre><h4 id="é€šé…ç¬¦ä¸å‚æ•°ç±»å‹çš„åŒºåˆ«"><a href="#é€šé…ç¬¦ä¸å‚æ•°ç±»å‹çš„åŒºåˆ«" class="headerlink" title="é€šé…ç¬¦ä¸å‚æ•°ç±»å‹çš„åŒºåˆ«"></a>é€šé…ç¬¦ä¸å‚æ•°ç±»å‹çš„åŒºåˆ«</h4><p>ä¸€èˆ¬è€Œè¨€ï¼Œé€šé…ç¬¦èƒ½å¹²çš„äº‹æƒ…å¯ä»¥ç”¨ç±»å‹å‚æ•°æ›¿æ¢</p>
<p>æ¯”å¦‚</p>
<p><code>public void testWildCards(Collection&lt;?&gt; collection){}</code></p>
<p>å¯ä»¥è¢«</p>
<p><code>public &lt;T&gt; void test(Collection&lt;T&gt; collection){}</code></p>
<p>å–ä»£</p>
<p>å¦‚æœç”¨æ³›å‹æ–¹æ³•æ¥å–ä»£é€šé…ç¬¦ï¼Œé‚£ä¹ˆä¸Šé¢ä»£ç ä¸­collectionæ˜¯èƒ½å¤Ÿè¿›è¡Œå†™æ“ä½œçš„ã€‚åªä¸è¿‡è¦è¿›è¡Œå¼ºåˆ¶è½¬æ¢ã€‚</p>
<pre><code>public &lt;T&gt; void test(Collection&lt;T&gt; collection){
    collection.add((T)new Integer(12));
    collection.add((T)&quot;123&quot;);
}</code></pre><p>ç±»å‹å‚æ•°é€‚ç”¨äºå‚æ•°ä¹‹é—´çš„ç±»åˆ«ä¾èµ–å…³ç³»ï¼š</p>
<pre><code>public class Test2 &lt;T,E extends T&gt;{
    T value1;
    E value2;
}</code></pre><pre><code>public &lt;D,S extends D&gt; void test(D d,S s){

    }</code></pre><p>E ç±»å‹æ˜¯ T ç±»å‹çš„å­ç±»ï¼Œæ˜¾ç„¶è¿™ç§æƒ…å†µç±»å‹å‚æ•°æ›´é€‚åˆã€‚ </p>
<p>æœ‰ä¸€ç§æƒ…å†µæ˜¯ï¼Œé€šé…ç¬¦å’Œç±»å‹å‚æ•°ä¸€èµ·ä½¿ç”¨ã€‚</p>
<pre><code>public &lt;T&gt; void test(T t,Collection&lt;? extends T&gt; collection){

}</code></pre><p>å¦‚æœä¸€ä¸ªæ–¹æ³•çš„è¿”å›ç±»å‹ä¾èµ–äºå‚æ•°çš„ç±»å‹ï¼Œé‚£ä¹ˆé€šé…ç¬¦ä¹Ÿä¸è¡Œã€‚</p>
<pre><code>public T test1(T t){
    return value1;
}</code></pre><h3 id="ç±»å‹æ“¦é™¤ï¼Œçœ‹äº†å¥½å‡ éï¼ˆå°šä¸èƒ½å®Œå…¨ç†è§£ï¼Œå…ˆåšä¸ªè®°å½•ï¼‰"><a href="#ç±»å‹æ“¦é™¤ï¼Œçœ‹äº†å¥½å‡ éï¼ˆå°šä¸èƒ½å®Œå…¨ç†è§£ï¼Œå…ˆåšä¸ªè®°å½•ï¼‰" class="headerlink" title="ç±»å‹æ“¦é™¤ï¼Œçœ‹äº†å¥½å‡ éï¼ˆå°šä¸èƒ½å®Œå…¨ç†è§£ï¼Œå…ˆåšä¸ªè®°å½•ï¼‰"></a>ç±»å‹æ“¦é™¤ï¼Œçœ‹äº†å¥½å‡ éï¼ˆå°šä¸èƒ½å®Œå…¨ç†è§£ï¼Œå…ˆåšä¸ªè®°å½•ï¼‰</h3><p>æ³›å‹æ˜¯ Java 1.5 ç‰ˆæœ¬æ‰å¼•è¿›çš„æ¦‚å¿µï¼Œåœ¨è¿™ä¹‹å‰æ˜¯æ²¡æœ‰æ³›å‹çš„æ¦‚å¿µçš„ï¼Œæ³›å‹ä»£ç èƒ½å¤Ÿå¾ˆå¥½åœ°å’Œä¹‹å‰ç‰ˆæœ¬çš„ä»£ç å¾ˆå¥½åœ°å…¼å®¹ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºï¼Œ<strong>æ³›å‹ä¿¡æ¯åªå­˜åœ¨äºä»£ç ç¼–è¯‘é˜¶æ®µï¼Œåœ¨è¿›å…¥JVMä¹‹å‰ï¼Œä¸æ³›å‹ç›¸å…³çš„ä¿¡æ¯ä¼šè¢«æ“¦é™¤æ‰ï¼Œä¸“ä¸šæœ¯è¯­å«åšç±»å‹æ“¦é™¤</strong>ã€‚</p>
<p>æ³›å‹ç±»å’Œæ™®é€šç±»åœ¨ java è™šæ‹Ÿæœºå†…æ˜¯æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„åœ°æ–¹ã€‚å›é¡¾æ–‡ç« å¼€å§‹æ—¶çš„é‚£æ®µä»£ç </p>
<pre><code>List&lt;String&gt; l1 = new ArrayList&lt;String&gt;();
List&lt;Integer&gt; l2 = new ArrayList&lt;Integer&gt;();

System.out.println(l1.getClass() == l2.getClass());</code></pre><p>æ‰“å°çš„ç»“æœä¸º true æ˜¯å› ä¸º <code>List&lt;String&gt;</code> å’Œ <code>List&lt;Integer&gt;</code> åœ¨ jvm ä¸­çš„ Class éƒ½æ˜¯ <code>List.class</code>ã€‚</p>
<p>æ³›å‹ä¿¡æ¯è¢«æ“¦é™¤äº†ã€‚</p>
<p>ç­”æ¡ˆæ˜¯æ³›å‹è½¬è¯‘ã€‚</p>
<pre><code>public class Erasure &lt;T&gt;{
    T object;

    public Erasure(T object) {
        this.object = object;
    }
}</code></pre><p>Erasure æ˜¯ä¸€ä¸ªæ³›å‹ç±»ï¼ŒæŸ¥çœ‹å®ƒåœ¨è¿è¡Œæ—¶çš„çŠ¶æ€ä¿¡æ¯å¯ä»¥é€šè¿‡åå°„ã€‚</p>
<pre><code>Erasure&lt;String&gt; erasure = new Erasure&lt;String&gt;(&quot;hello&quot;);
Class eclz = erasure.getClass();
System.out.println(&quot;erasure class is:&quot;+eclz.getName());</code></pre><p>ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>erasure class is:com.alguojian.test.Erasure</code></pre><p>Class çš„ç±»å‹ä»ç„¶æ˜¯ Erasure å¹¶ä¸æ˜¯ <code>Erasure&lt;T&gt;</code> è¿™ç§å½¢å¼ï¼Œå†çœ‹æ³›å‹ç±»ä¸­ T çš„ç±»å‹åœ¨ jvm ä¸­æ˜¯ä»€ä¹ˆç±»å‹ã€‚</p>
<pre><code>Field[] fs = eclz.getDeclaredFields();
for ( Field f:fs) {
    System.out.println(&quot;Field name &quot;+f.getName()+&quot; type:&quot;+f.getType().getName());
}</code></pre><p>æ‰“å°ç»“æœï¼š</p>
<p><code>Field name object type:java.lang.Object</code></p>
<p>æ”¹å˜ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>public class Erasure &lt;T extends String&gt;{
//  public class Erasure &lt;T&gt;{
    T object;

    public Erasure(T object) {
        this.object = object;
    }
}</code></pre><p>æ‰“å°ç»“æœï¼š</p>
<pre><code>Field name object type:java.lang.String</code></pre><p>åœ¨æ³›å‹ç±»è¢«ç±»å‹æ“¦é™¤çš„æ—¶å€™ï¼Œä¹‹å‰æ³›å‹ç±»ä¸­çš„ç±»å‹å‚æ•°éƒ¨åˆ†å¦‚æœæ²¡æœ‰æŒ‡å®šä¸Šé™ï¼Œå¦‚ <t> åˆ™ä¼šè¢«è½¬è¯‘æˆæ™®é€šçš„ Object ç±»å‹ï¼Œå¦‚æœæŒ‡å®šäº†ä¸Šé™å¦‚ <code>&lt;T extends String&gt;</code>åˆ™ç±»å‹å‚æ•°å°±è¢«æ›¿æ¢æˆç±»å‹ä¸Šé™ã€‚</t></p>
<p>æ‰€ä»¥åœ¨åå°„ä¸­ï¼š</p>
<pre><code>public class Erasure &lt;T&gt;{
    T object;

    public Erasure(T object) {
        this.object = object;
    }

    public void add(T object){

    }
}</code></pre><p>add()æ–¹æ³•å¯¹åº”çš„Methodçš„ç­¾ååº”è¯¥æ˜¯Object.class</p>
<pre><code>Erasure&lt;String&gt; erasure = new Erasure&lt;String&gt;(&quot;hello&quot;);
Class eclz = erasure.getClass();
System.out.println(&quot;erasure class is:&quot;+eclz.getName());

Method[] methods = eclz.getDeclaredMethods();
for ( Method m:methods ){
    System.out.println(&quot; method:&quot;+m.toString());
}</code></pre><p>æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code> method:public void com.frank.test.Erasure.add(java.lang.Object)</code></pre><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¦åœ¨åå°„ä¸­æ‰¾åˆ° add å¯¹åº”çš„ Methodï¼Œåº”è¯¥è°ƒç”¨ getDeclaredMethod(â€œaddâ€,Object.class) å¦åˆ™ç¨‹åºä¼šæŠ¥é”™ï¼Œæç¤ºæ²¡æœ‰è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•ï¼ŒåŸå› å°±æ˜¯ç±»å‹æ“¦é™¤çš„æ—¶å€™ï¼ŒT è¢«æ›¿æ¢æˆ Object ç±»å‹äº†ã€‚</p>
<h3 id="ç±»å‹æ“¦é™¤çš„å±€é™æ€§"><a href="#ç±»å‹æ“¦é™¤çš„å±€é™æ€§" class="headerlink" title="ç±»å‹æ“¦é™¤çš„å±€é™æ€§"></a>ç±»å‹æ“¦é™¤çš„å±€é™æ€§</h3><p>ç±»å‹æ“¦é™¤ï¼Œæ˜¯æ³›å‹èƒ½å¤Ÿä¸ä¹‹å‰çš„javaç‰ˆæœ¬ä»£ç å…¼å®¹å…±å­˜çš„åŸå› ï¼Œä½†ä¹Ÿå› ä¸ºç±»å‹æ“¦é™¤ï¼Œä¼šæŠ¹æ‰å¾ˆå¤šç»§æ‰¿ç›¸å…³çš„ç‰¹æ€§</p>
<p><strong>åˆ©ç”¨ç±»å‹æ“¦é™¤çš„åŸç†ï¼Œç”¨åå°„çš„æ‰‹æ®µå°±ç»•è¿‡äº†æ­£å¸¸å¼€å‘ä¸­ç¼–è¯‘å™¨ä¸å…è®¸çš„æ“ä½œé™åˆ¶ã€‚</strong></p>
<h3 id="æ³¨æ„åœ°æ–¹"><a href="#æ³¨æ„åœ°æ–¹" class="headerlink" title="æ³¨æ„åœ°æ–¹"></a>æ³¨æ„åœ°æ–¹</h3><h4 id="æ³›å‹ç±»æˆ–è€…æ³›å‹æ–¹æ³•ä¸­ï¼Œä¸æ¥å—8ç§åŸºæœ¬æ•°æ®ç±»å‹"><a href="#æ³›å‹ç±»æˆ–è€…æ³›å‹æ–¹æ³•ä¸­ï¼Œä¸æ¥å—8ç§åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="æ³›å‹ç±»æˆ–è€…æ³›å‹æ–¹æ³•ä¸­ï¼Œä¸æ¥å—8ç§åŸºæœ¬æ•°æ®ç±»å‹"></a>æ³›å‹ç±»æˆ–è€…æ³›å‹æ–¹æ³•ä¸­ï¼Œä¸æ¥å—8ç§åŸºæœ¬æ•°æ®ç±»å‹</h4><pre><code>List&lt;int&gt; li = new ArrayList&lt;&gt;();
List&lt;boolean&gt; li = new ArrayList&lt;&gt;();</code></pre><p>éœ€è¦ä½¿ç”¨åŒ…è£…ç±»</p>
<pre><code>List&lt;Integer&gt; li = new ArrayList&lt;&gt;();
List&lt;Boolean&gt; li1 = new ArrayList&lt;&gt;();</code></pre><h4 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h4><blockquote>
<p><a href="http://mp.weixin.qq.com/s/_G3ApT8dphl74e759kOUag" target="_blank" rel="noopener">è®¾è®¡æ¨¡å¼ç•ªå¤–ç¯‡ä¹‹æ³›å‹</a><br><a href="https://www.ziwenxie.site/2017/03/01/java-generic/" target="_blank" rel="noopener">Javaæ³›å‹è¯¦è§£</a><br><a href="http://www.weixueyuan.net/view/6321.html" target="_blank" rel="noopener">Javaæ³›å‹è¯¦è§£ï¼Œé€šä¿—æ˜“æ‡‚åªéœ€5åˆ†é’Ÿ</a></p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>ä»¥ä¸€ç§æ›´é…·çš„æ–¹å¼ä½¿ç”¨TextView</title>
    <url>/2019/02/08/%E4%BB%A5%E4%B8%80%E7%A7%8D%E6%9B%B4%E9%85%B7%E7%9A%84%E6%96%B9%E5%BC%8F%E4%BD%BF%E7%94%A8TextView/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡SpannableStringå·²å°è£…ä¸ºlibaryä¸Šä¼ githubå’Œjitpackï¼Œæ¬¢è¿ä½¿ç”¨ï¼Œåœ°å€ï¼š<a href="https://github.com/ALguojian/SpannableHelper" target="_blank" rel="noopener">SpannableHelper</a></p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-ea12c4b877cdfa2f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/240" alt></p>
<p>ç”¨æ³•ï¼š</p>
<pre><code>SpannableStringUtils spannableStringUtils = new SpannableStringUtils(&quot;é£æµç›´ä¸‹ä¸‰åƒå°ºï¼Œç–‘æ˜¯é“¶æ²³è½ä¹å¤©&quot;);

        spannableStringUtils.setColor(Color.GREEN, 2, 6)
                .setBackGround(ContextCompat.getColor(this,R.color.bbb), 4, 8)
                .setBold(6, 10)
                .setOnClick(9, 14, ContextCompat.getColor(this,R.color.aaa))
                .setImage(this, R.mipmap.ic_launcher, 3, 6, 120, 160)
                .setOnClickSpanListener(new SpannableStringUtils.OnClickSpanListener() {
                    @Override
                    public void OnClickSpanListener() {

                        Toast.makeText(MainActivity.this, &quot;ç‚¹æˆ‘&quot;, Toast.LENGTH_SHORT).show();
                    }
                });

        textView.setMovementMethod(LinkMovementMethod.getInstance());
        textView.setTextSize(20);
        textView.setText(spannableStringUtils);
</code></pre><a id="more"></a>


<h3 id="ç®€ä»‹ï¼š"><a href="#ç®€ä»‹ï¼š" class="headerlink" title="ç®€ä»‹ï¼š"></a>ç®€ä»‹ï¼š</h3><p><code>spannableString</code>å’Œ<code>string</code>ç±»ä¼¼éƒ½æ˜¯ä¸€ç§å­—ç¬¦ä¸²ç±»å‹ï¼Œéƒ½å¯ä»¥ç”¨äº<code>textview</code>è®¾ç½®ä¸ºç‰ˆæœ¬</p>
<p><code>setSpan((Object what, int start, int end, int flags))</code></p>
<ul>
<li><code>what</code>:è®¾ç½®æ ¼å¼</li>
<li><code>start</code>ï¼šå¼€å§‹ä¸‹æ ‡ç´¢å¼•</li>
<li><code>end</code>ï¼šç»“æŸä¸‹è¡¨ç´¢å¼•</li>
<li><code>flags</code>ï¼š<ul>
<li><code>Spanned.SPAN_INCLUSIVE_EXCLUSIVE</code>ä»èµ·å§‹ä¸‹æ ‡åˆ°ç»ˆäº†ä¸‹æ ‡ï¼ŒåŒ…æ‹¬èµ·å§‹ä¸‹æ ‡</li>
<li><code>Spanned.SPAN_INCLUSIVE_INCLUSIVE</code> ä»èµ·å§‹ä¸‹æ ‡åˆ°ç»ˆäº†ä¸‹æ ‡ï¼ŒåŒæ—¶åŒ…æ‹¬èµ·å§‹ä¸‹æ ‡å’Œç»ˆäº†ä¸‹æ ‡</li>
<li><code>Spanned.SPAN_EXCLUSIVE_EXCLUSIVE</code> ä»èµ·å§‹ä¸‹æ ‡åˆ°ç»ˆäº†ä¸‹æ ‡ï¼Œä½†éƒ½ä¸åŒ…æ‹¬èµ·å§‹ä¸‹æ ‡å’Œç»ˆäº†ä¸‹æ ‡</li>
<li><code>Spanned.SPAN_EXCLUSIVE_INCLUSIVE</code> ä»èµ·å§‹ä¸‹æ ‡åˆ°ç»ˆäº†ä¸‹æ ‡ï¼ŒåŒ…æ‹¬ç»ˆäº†ä¸‹æ ‡</li>
</ul>
</li>
</ul>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><h4 id="æ”¹å˜å­—ä½“é¢œè‰²"><a href="#æ”¹å˜å­—ä½“é¢œè‰²" class="headerlink" title="æ”¹å˜å­—ä½“é¢œè‰²"></a>æ”¹å˜å­—ä½“é¢œè‰²</h4><pre><code>SpannableString spannableString = new SpannableString(&quot;æ–‡å­—ä¸ºç»¿è‰²&quot;);
ForegroundColorSpan colorSpan = new ForegroundColorSpan(Color.parseColor(&quot;#57caa1&quot;));
spannableString.setSpan(colorSpan, 2, spannableString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
textView.setText(spannableString);
</code></pre><h4 id="è®¾ç½®èƒŒæ™¯è‰²"><a href="#è®¾ç½®èƒŒæ™¯è‰²" class="headerlink" title="è®¾ç½®èƒŒæ™¯è‰²"></a>è®¾ç½®èƒŒæ™¯è‰²</h4><pre><code>SpannableString spannableString = new SpannableString(&quot;å¤§ç å°ç è½ç‰ç›˜&quot;);
BackgroundColorSpan colorSpan = new BackgroundColorSpan(Color.parseColor(&quot;#57caa1&quot;));
spannableString.setSpan(colorSpan, 2, spannableString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
textView.setText(spannableString);</code></pre><h4 id="è®¾ç½®æ–‡å­—å¤§å°"><a href="#è®¾ç½®æ–‡å­—å¤§å°" class="headerlink" title="è®¾ç½®æ–‡å­—å¤§å°"></a>è®¾ç½®æ–‡å­—å¤§å°</h4><pre><code>SpannableString spannableString = new SpannableString(&quot;å¤§ç å°ç è½ç‰ç›˜&quot;);
RelativeSizeSpan sizeSpan01 = new RelativeSizeSpan(1.2f);
spannableString.setSpan(sizeSpan01, 0, 1, Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
textView.setText(spannableString);</code></pre><h4 id="è®¾ç½®æ–‡å­—ä¸­åˆ’çº¿"><a href="#è®¾ç½®æ–‡å­—ä¸­åˆ’çº¿" class="headerlink" title="è®¾ç½®æ–‡å­—ä¸­åˆ’çº¿"></a>è®¾ç½®æ–‡å­—ä¸­åˆ’çº¿</h4><pre><code>SpannableString spannableString = new SpannableString(&quot;é”„ç¦¾æ—¥å½“åˆï¼Œæ±—æ»´ç¦¾ä¸‹åœŸ&quot;);
StrikethroughSpan span = new StrikethroughSpan();
spannableString.setSpan(span, 2, spannableString.length(), Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
textView.setText(spannableString);</code></pre><h4 id="è®¾ç½®ä¸‹åˆ’çº¿"><a href="#è®¾ç½®ä¸‹åˆ’çº¿" class="headerlink" title="è®¾ç½®ä¸‹åˆ’çº¿"></a>è®¾ç½®ä¸‹åˆ’çº¿</h4><pre><code>SpannableString spannableString = new SpannableString(&quot;è°çŸ¥ç›˜ä¸­é¤ï¼Œæ±—æ»´ç¦¾ä¸‹åœŸ&quot;);
UnderlineSpan span = new UnderlineSpan();
spannableString.setSpan(span, 2, spannableString.length(),Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
textView.setText(spannableString);</code></pre><h4 id="è®¾ç½®ä¸Šä¸‹æ ‡"><a href="#è®¾ç½®ä¸Šä¸‹æ ‡" class="headerlink" title="è®¾ç½®ä¸Šä¸‹æ ‡"></a>è®¾ç½®ä¸Šä¸‹æ ‡</h4><p>ä¸Šæ ‡</p>
<pre><code>SpannableString spannableString = new SpannableString(&quot;é£æµç›´ä¸‹ä¸‰åƒå°ºï¼Œç–‘æ˜¯é“¶æ²³è½ä¹å¤©&quot;);
SuperscriptSpan span = new SuperscriptSpan();
spannableString.setSpan(span, 2, spannableString.length(), Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
textView.setText(spannableString);</code></pre><p>ä¸‹æ ‡</p>
<pre><code>SpannableString spannableString = new SpannableString(&quot;é£æµç›´ä¸‹ä¸‰åƒå°ºï¼Œç–‘æ˜¯é“¶æ²³è½ä¹å¤©&quot;);
SubscriptSpan span = new SubscriptSpan();
spannableString.setSpan(span, 2, spannableString.length(), Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
textView.setText(spannableString);</code></pre><h4 id="è®¾ç½®ç²—ä½“ã€æ–œä½“"><a href="#è®¾ç½®ç²—ä½“ã€æ–œä½“" class="headerlink" title="è®¾ç½®ç²—ä½“ã€æ–œä½“"></a>è®¾ç½®ç²—ä½“ã€æ–œä½“</h4><pre><code>SpannableString spannableString = new SpannableString(&quot;é£æµç›´ä¸‹ä¸‰åƒå°ºï¼Œç–‘æ˜¯é“¶æ²³è½ä¹å¤©&quot;);
StyleSpan span1 = new StyleSpan(Typeface.BOLD);
StyleSpan span2  = new StyleSpan(Typeface.ITALIC);
spannableString.setSpan(span1, 2, 4, Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
spannableString.setSpan(span2, 5, 8, Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
textView.setHighlightColor(Color.parseColor(&quot;#57caa1&quot;));
textView.setText(spannableString);</code></pre><h4 id="æ·»åŠ è¡¨æƒ…"><a href="#æ·»åŠ è¡¨æƒ…" class="headerlink" title="æ·»åŠ è¡¨æƒ…"></a>æ·»åŠ è¡¨æƒ…</h4><pre><code>SpannableString spannableString = new SpannableString(&quot;é£æµç›´ä¸‹ä¸‰åƒå°º&quot;);
Drawable drawable = getResources().getDrawable(R.mipmap.ic);
drawable.setBounds(0, 0, 22, 22);
ImageSpan span = new ImageSpan(drawable);
spannableString.setSpan(span, 3, 4, Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
textView.setText(spannableString);</code></pre><h4 id="è®¾ç½®ç›‘å¬äº‹ä»¶"><a href="#è®¾ç½®ç›‘å¬äº‹ä»¶" class="headerlink" title="è®¾ç½®ç›‘å¬äº‹ä»¶"></a>è®¾ç½®ç›‘å¬äº‹ä»¶</h4><pre><code> SpannableString spannableString = new SpannableString(item.getContent());

    ClickableSpan span = new ClickableSpan() {

        @Override
        public void onClick(View widget) {

            ToastUtils.show(getActivity(), &quot;haha&quot;);

        }

        @Override
        public void updateDrawState(TextPaint ds) {
            super.updateDrawState(ds);
            ds.setColor(ds.linkColor);
            ds.setUnderlineText(false);
       }
    };
spannableString.setSpan(span, 2, item.getContent().length(), Spannable.SPAN_EXCLUSIVE_INCLUSIVE);
ForegroundColorSpan cspan = newForegroundColorSpan(Color.parseColor(&quot;#57caa1&quot;)); 
spannableString.setSpan(cspan, 2, item.getContent().length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
TextView textView = helper.getView(R.id.group_count);
textView.setText(spannableString);
//æ§åˆ¶ç‚¹å‡»çš„æ—¶å€™çš„èƒŒæ™¯è‰²
textView.setHighlightColor(Color.parseColor(&quot;#57caa1&quot;));
textView.setMovementMethod(LinkMovementMethod.getInstance());</code></pre>]]></content>
  </entry>
  <entry>
    <title>ä½¿ç”¨googleçš„ç€‘å¸ƒæµå¼€æºåº“--flexbox-layout</title>
    <url>/2019/02/07/%E4%BD%BF%E7%94%A8google%E7%9A%84%E7%80%91%E5%B8%83%E6%B5%81%E5%BC%80%E6%BA%90%E5%BA%93--flexbox-layout/</url>
    <content><![CDATA[<h3 id="ç®€ä»‹ï¼š"><a href="#ç®€ä»‹ï¼š" class="headerlink" title="ç®€ä»‹ï¼š"></a>ç®€ä»‹ï¼š</h3><p>githubåœ°å€å¦‚ä¸‹ï¼š</p>
<blockquote>
<p><a href="https://github.com/google/flexbox-layout" target="_blank" rel="noopener">flexbox-layout</a></p>
</blockquote>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><h4 id="gridleæ·»åŠ ä¾èµ–"><a href="#gridleæ·»åŠ ä¾èµ–" class="headerlink" title="gridleæ·»åŠ ä¾èµ–"></a>gridleæ·»åŠ ä¾èµ–</h4><blockquote>
<p>compile â€˜com.google.android:flexbox:0.3.0â€™</p>
</blockquote>
<h4 id="xmlä½¿ç”¨"><a href="#xmlä½¿ç”¨" class="headerlink" title="xmlä½¿ç”¨"></a>xmlä½¿ç”¨</h4><pre><code>&lt;com.google.android.flexbox.FlexboxLayout
        android:id=&quot;@+id/flexBoxLayout&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        app:alignContent=&quot;stretch&quot;
        app:alignItems=&quot;stretch&quot;
        app:flexDirection=&quot;row&quot;
        app:flexWrap=&quot;wrap&quot;
        app:justifyContent=&quot;flex_start&quot;
        app:showDividerHorizontal=&quot;beginning|middle&quot;&gt;

    &lt;/com.google.android.flexbox.FlexboxLayout&gt;</code></pre><a id="more"></a>


<h4 id="åŠ¨æ€æ·»åŠ å­view"><a href="#åŠ¨æ€æ·»åŠ å­view" class="headerlink" title="åŠ¨æ€æ·»åŠ å­view"></a>åŠ¨æ€æ·»åŠ å­view</h4><pre><code>//è®¾ç½®äº¤å‰è½´èµ·ç‚¹å¯¹é½
        flexBoxLayout.setAlignContent(FLEX_START);

        //æ§åˆ¶å‰¯è½´çš„å¯¹é½æ–¹å¼
        flexBoxLayout.setAlignItems(FLEX_START);

        //è®¾ç½®ä¸»è½´æ–¹å‘
        flexBoxLayout.setFlexDirection(ROW);

        //è®¾ç½®æ¢è¡Œ
        flexBoxLayout.setFlexWrap(WRAP);

        //è®¾ç½®å…ƒç´ ä¸»è½´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼
        flexBoxLayout.setJustifyContent(FLEX_START);

        //è®¾ç½®æ°´å¹³æ–¹å‘åˆ†å‰²çº¿
        flexBoxLayout.setShowDividerHorizontal(DividerItemDecoration.VERTICAL);

        for (int i = 0; i &lt; 15; i++) {

            flexBoxLayout.addView(getItemView(&quot;justè´è´hå–€&quot;));
        }

    }

    private TextView getItemView(final String string) {

        textView = new TextView(this);
        textView.setText(string);
        textView.setGravity(Gravity.CENTER);
        textView.setPadding(13, 5, 13, 5);
        textView.setTextColor(Color.BLUE);
        textView.setBackgroundColor(Color.YELLOW);
        //è®¾ç½®ç‚¹å‡»äº‹ä»¶
        textView.setClickable(true);

        //è®¾ç½®å¤–é—´è·
        FlexboxLayout.LayoutParams params1 = new FlexboxLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);
        params1.setMargins(dpToPx(14),dpToPx(6),dpToPx(6),dpToPx(14));
        textView.setLayoutParams(params1);

        //æ·»åŠ ç‚¹å‡»äº‹ä»¶
        textView.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

                Toast.makeText(MainActivity.this, string, Toast.LENGTH_SHORT).show();

            }
        });

        return textView;

    }

    /**
     * pxè½¬dpå·¥å…·ç±»
     *
     * @param pixel
     * @return
     */
    public int pxToDp(int pixel) {
        DisplayMetrics displayMetrics = getResources().getDisplayMetrics();
        return pixel &lt; 0 ? pixel : Math.round(pixel / displayMetrics.density);
    }

    /**
     * dpè½¬pxå·¥å…·ç±»
     *
     * @param dp
     * @return
     */
    public int dpToPx(int dp) {
        DisplayMetrics displayMetrics = getResources().getDisplayMetrics();
        return dp &lt; 0 ? dp : Math.round(dp * displayMetrics.density);
    }</code></pre><h4 id="å±æ€§è¯¦è§£"><a href="#å±æ€§è¯¦è§£" class="headerlink" title="å±æ€§è¯¦è§£"></a>å±æ€§è¯¦è§£</h4><h5 id="flexbox-layoutå±æ€§"><a href="#flexbox-layoutå±æ€§" class="headerlink" title="flexbox-layoutå±æ€§"></a><code>flexbox-layout</code>å±æ€§</h5><p>1.<code>alignContent</code>å±æ€§æ§åˆ¶å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼(ä¹Ÿå°±æ˜¯æ§åˆ¶å¤šè¡Œï¼Œå¦‚æœå­å…ƒç´ åªæœ‰ä¸€è¡Œï¼Œåˆ™ä¸èµ·ä½œç”¨):</p>
<pre><code>stretch (default): é»˜è®¤å€¼ï¼Œå……æ»¡äº¤å‰è½´çš„é«˜åº¦ï¼ˆæµ‹è¯•å‘ç°ï¼Œéœ€è¦alignItems çš„å€¼ä¹Ÿä¸ºstretch æ‰æœ‰æ•ˆï¼‰ã€‚
flex_start: ä¸äº¤å‰è½´èµ·ç‚¹å¯¹é½ã€‚
flex_end: ä¸äº¤å‰è½´ç»ˆç‚¹å¯¹é½ã€‚
center: ä¸äº¤å‰è½´å±…ä¸­å¯¹é½ã€‚
space_between: äº¤å‰è½´ä¸¤ç«¯å¯¹é½ï¼Œä¸­é—´é—´éš”ç›¸ç­‰ã€‚
space_around: åˆ°äº¤å‰è½´ä¸¤ç«¯çš„è·ç¦»ç›¸ç­‰ã€‚</code></pre><p>2.<code>alignItems</code>æ€§æ§åˆ¶å…ƒç´ åœ¨å‰¯è½´æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼š</p>
<pre><code>stretch (default) ï¼šé»˜è®¤å€¼ï¼Œå¦‚æœitemæ²¡æœ‰è®¾ç½®é«˜åº¦ï¼Œåˆ™å……æ»¡å®¹å™¨é«˜åº¦ã€‚
flex_startï¼šé¡¶ç«¯å¯¹é½
flex_endï¼šåº•éƒ¨å¯¹é½
centerï¼šå±…ä¸­å¯¹é½
baselineï¼šç¬¬ä¸€è¡Œå†…å®¹çš„çš„åŸºçº¿å¯¹é½ã€‚</code></pre><p>3.<code>flexDirection</code>å±æ€§å†³å®šäº†ä¸»è½´çš„æ–¹å‘ï¼Œå³<code>FlexboxLayout</code>é‡Œå­<code>Item</code>çš„æ’åˆ—æ–¹å‘:</p>
<pre><code>row (default)ï¼š é»˜è®¤å€¼ï¼Œä¸»è½´ä¸ºæ°´å¹³æ–¹å‘ï¼Œèµ·ç‚¹åœ¨å·¦ç«¯ï¼Œä»å·¦åˆ°å³ã€‚
row_reverseï¼šä¸»è½´ä¸ºæ°´å¹³æ–¹å‘ï¼Œèµ·ç‚¹åœ¨å³ç«¯ï¼Œä»å³åˆ°å·¦ã€‚
columnï¼šä¸»è½´ä¸ºç«–ç›´æ–¹å‘ï¼Œèµ·ç‚¹åœ¨ä¸Šç«¯ï¼Œä»ä¸Šåˆ°ä¸‹ã€‚
column_reverseï¼šä¸»è½´ä¸ºç«–ç›´æ–¹å‘ï¼Œèµ·ç‚¹åœ¨ä¸‹ç«¯ï¼Œä»ä¸‹å¾€ä¸Šã€‚</code></pre><p>4.<code>flexWrap</code> è¿™ä¸ªå±æ€§å†³å®š<code>flexbox-layout</code> å®¹å™¨æ˜¯å•è¡Œè¿˜æ˜¯å¤šè¡Œï¼Œå¹¶ä¸”å†³å®šå‰¯è½´ï¼ˆä¸ä¸»è½´å‚ç›´çš„è½´ï¼‰çš„æ–¹å‘:</p>
<pre><code>nowrap: ä¸æ¢è¡Œï¼Œä¸€è¡Œæ˜¾ç¤ºå®Œå­å…ƒç´ ã€‚
wrap: æŒ‰æ­£å¸¸æ–¹å‘æ¢è¡Œã€‚
wrap_reverse: æŒ‰åæ–¹å‘æ¢è¡Œã€‚</code></pre><p>5.<code>justifyContent</code>å±æ€§æ§åˆ¶å…ƒç´ ä¸»è½´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼:</p>
<pre><code>flex_start (default): é»˜è®¤å€¼ï¼Œå·¦å¯¹é½
flex_end: å³å¯¹é½
center: å±…ä¸­å¯¹é½
space_between: ä¸¤ç«¯å¯¹é½ï¼Œä¸­é—´é—´éš”ç›¸åŒ
space_around: æ¯ä¸ªå…ƒç´ åˆ°ä¸¤ä¾§çš„è·ç¦»ç›¸ç­‰ã€‚</code></pre><p>6.<code>showDividerHorizontal</code>æ§åˆ¶æ˜¾ç¤ºæ°´å¹³æ–¹å‘çš„åˆ†å‰²çº¿,å€¼ä¸º<code>none</code>| <code>beginning</code> | <code>middle</code>| <code>end</code> å…¶ä¸­çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ª</p>
<h5 id="flexbox-layoutå­viewçš„å±æ€§"><a href="#flexbox-layoutå­viewçš„å±æ€§" class="headerlink" title="flexbox-layoutå­viewçš„å±æ€§"></a>flexbox-layoutå­viewçš„å±æ€§</h5><p>1.<code>layout_order</code></p>
<pre><code>å±æ€§å¯ä»¥æ”¹å˜å­å…ƒç´ çš„æ’åˆ—é¡ºåºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ`FlexboxLayout`å­å…ƒç´ çš„æ’åˆ—æ˜¯æŒ‰ç…§xmlæ–‡ä»¶ä¸­å‡ºç°çš„é¡ºåºã€‚é»˜è®¤å€¼ä¸º1ï¼Œå€¼è¶Šå°æ’åœ¨è¶Šé å‰ã€‚</code></pre><p>2.<code>layout_flexGrow(float)</code></p>
<pre><code>layout_flexGrow å­å…ƒç´ çš„æ”¾å¤§æ¯”ä¾‹ï¼Œ å†³å®šå¦‚ä½•åˆ†é…å‰©ä½™ç©ºé—´ï¼ˆå¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´çš„è¯ï¼‰ï¼Œé»˜è®¤å€¼ä¸º0,ä¸ä¼šåˆ†é…å‰©ä½™ç©ºé—´ï¼Œ
å¦‚æœæœ‰ä¸€ä¸ªitemçš„ layout_flexGrow æ˜¯ä¸€ä¸ªæ­£å€¼ï¼Œé‚£ä¹ˆä¼šå°†å…¨éƒ¨å‰©ä½™ç©ºé—´åˆ†é…ç»™è¿™ä¸ªItem,å¦‚æœæœ‰å¤šä¸ªItemè¿™ä¸ªå±æ€§éƒ½ä¸ºæ­£å€¼ï¼Œ
é‚£ä¹ˆå‰©ä½™ç©ºé—´çš„åˆ†é…æŒ‰ç…§layout_flexGrowå®šä¹‰çš„æ¯”ä¾‹ï¼ˆæœ‰ç‚¹åƒLinearLayoutçš„layout_weightå±æ€§ï¼‰ã€‚</code></pre><p>3.<code>layout_flexShrink(float)ï¼š</code></p>
<pre><code>layout_flexShrink:å­å…ƒç´ ç¼©å°æ¯”ä¾‹ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œå­å…ƒç´ éœ€è¦ç¼©å°ï¼ˆè®¾ç½®äº†æ¢è¡Œåˆ™æ— æ•ˆï¼‰ï¼Œé»˜è®¤å€¼ä¸º1ï¼Œ
å¦‚æœæ‰€æœ‰å­å…ƒç´ çš„layout_flexShrink å€¼ä¸º1,ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½ç­‰æ¯”ç¼©å°ï¼Œå¦‚æœæœ‰ä¸€ä¸ªä¸º0ï¼Œå…¶ä»–ä¸º1ï¼Œç©ºé—´ä¸è¶³æ—¶ï¼Œä¸º0çš„ä¸ç¼©å°ï¼Œè´Ÿå€¼æ— æ•ˆã€‚</code></pre><p>4.<code>layout_alignSelf</code></p>
<pre><code>layout_alignSelf å±æ€§å¯ä»¥ç»™å­å…ƒç´ è®¾ç½®å¯¹é½æ–¹å¼ï¼Œä¸Šé¢è®²çš„alignItemså±æ€§å¯ä»¥è®¾ç½®å¯¹é½ï¼Œè¿™ä¸ªå±æ€§çš„åŠŸèƒ½å’ŒalignItemsä¸€æ ·ï¼Œåªä¸è¿‡alignItemsä½œç”¨äºæ‰€æœ‰å­å…ƒç´ ï¼Œ
è€Œlayout_alignSelf ä½œç”¨äºå•ä¸ªå­å…ƒç´ ã€‚é»˜è®¤å€¼ä¸ºauto, è¡¨ç¤ºç»§æ‰¿alignItemså±æ€§ï¼Œå¦‚æœä¸ºautoä»¥å¤–çš„å€¼ï¼Œåˆ™ä¼šè¦†ç›–alignItemså±æ€§ã€‚ï¼š</code></pre><pre><code>auto (default)
flex_start
flex_end
center
baseline
stretch

é™¤äº†autoä»¥å¤–ï¼Œå…¶ä»–å’ŒalignItemså±æ€§ä¸€æ ·ã€‚</code></pre><p>5.<code>layout_flexBasisPercent (fraction)</code></p>
<pre><code>layout_flexBasisPercentçš„å€¼ä¸ºä¸€ä¸ªç™¾åˆ†æ¯”ï¼Œè¡¨ç¤ºè®¾ç½®å­å…ƒç´ çš„é•¿åº¦ä¸ºå®ƒçˆ¶å®¹å™¨é•¿åº¦çš„ç™¾åˆ†æ¯”ï¼Œå¦‚æœè®¾ç½®äº†è¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆé€šè¿‡è¿™ä¸ªå±æ€§è®¡ç®—çš„å€¼å°†ä¼š
è¦†ç›–layout_widthæˆ–è€…layout_heightçš„å€¼ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œè¿™ä¸ªå€¼åªæœ‰è®¾ç½®äº†çˆ¶å®¹å™¨çš„
é•¿åº¦æ—¶æ‰æœ‰æ•ˆï¼ˆä¹Ÿå°±æ˜¯MeasureSpec mode æ˜¯ MeasureSpec.EXACTLYï¼‰ã€‚é»˜è®¤å€¼æ—¶-1ã€‚</code></pre><p>6.<code>layout_minWidth / layout_minHeight (dimension)</code></p>
<pre><code>å¼ºåˆ¶é™åˆ¶ FlexboxLayoutçš„å­å…ƒç´ ï¼ˆå®½æˆ–é«˜ï¼‰ä¸ä¼šå°äºæœ€å°å€¼ï¼Œä¸ç®¡layout_flexShrinkè¿™ä¸ªå±æ€§çš„å€¼ä¸ºå¤šå°‘ï¼Œå­å…ƒç´ ä¸ä¼šè¢«ç¼©å°åˆ°å°äºè®¾ç½®çš„è¿™ä¸ªæœ€å°å€¼ã€‚</code></pre><p>7.<code>layout_maxWidth / layout_maxHeight (dimension)</code></p>
<pre><code>è¿™ä¸ªå’Œä¸Šé¢çš„åˆšå¥½ç›¸åï¼Œå¼ºåˆ¶é™åˆ¶FlexboxLayoutå­å…ƒç´ ä¸ä¼šå¤§äºè¿™ä¸ªæœ€å¤§å€¼, ä¸ç®¡layout_flexGrowçš„å€¼ä¸ºå¤šå°‘ï¼Œå­å…ƒç´ ä¸ä¼šè¢«æ”¾å¤§åˆ°è¶…è¿‡è¿™ä¸ªæœ€å¤§å€¼</code></pre><p>8.<code>layout_wrapBefore</code></p>
<pre><code>layout_wrapBefore å±æ€§æ§åˆ¶å¼ºåˆ¶æ¢è¡Œï¼Œé»˜è®¤å€¼ä¸ºfalse,å¦‚æœå°†ä¸€ä¸ªå­å…ƒç´ çš„è¿™ä¸ªå±æ€§è®¾ç½®ä¸ºtrueï¼Œé‚£ä¹ˆè¿™ä¸ªå­å…ƒç´ å°†ä¼šæˆä¸ºä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚è¿™ä¸ªå±æ€§å°†å¿½ç•¥flex_wrap è®¾ç½®çš„ noWrapå€¼ã€‚</code></pre>]]></content>
  </entry>
  <entry>
    <title>å…³äºandroidä½¿ç”¨çº¿ç¨‹æ± è®°å½•ä¸€ä¸‹</title>
    <url>/2019/02/03/%E5%85%B3%E4%BA%8Eandroid%E4%BD%BF%E7%94%A8%E7%BA%BF%E7%A8%8B%E6%B1%A0%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B/</url>
    <content><![CDATA[<p>å…³äºåˆ›å»ºçº¿ç¨‹ç°åœ¨è¿˜åœ¨ä½¿ç”¨ï¼š</p>
<pre><code>new Thread(new Runnable() {

    @Override
    public void run() {
        Log.d(TAG,&quot;asd&quot;)
    }
}).start();
</code></pre><p>ä¸Šé¢æ–¹æ³•æ˜¯æœ‰ä¸€äº›å¼Šç«¯ï¼š</p>
<ul>
<li>æ¯æ¬¡new Threadéƒ½ä¼šæ–°å»ºå¯¹è±¡ã€‚</li>
<li>çº¿ç¨‹æ²¡æœ‰ç»Ÿä¸€ç®¡ç†ï¼Œæœ‰å¯èƒ½ä¼šåˆ›å»ºæ— æ•°ä¸ªçº¿ç¨‹ï¼Œå ç”¨èµ„æºè¿‡å¤šå¯¼è‡´å¡æ­»ï¼ŒOOM</li>
<li>ç¼ºå°‘ä¸€äº›ç‰¹å®šåŠŸèƒ½ï¼Œï¼ˆå®šæ—¶ï¼Œå®šæœŸï¼Œæ‰§è¡Œå’Œä¸­æ–­ï¼‰ç­‰</li>
</ul>
<a id="more"></a>

<p>ç›¸æ¯”ä¹‹ä¸‹çº¿ç¨‹æ± ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å¤ç”¨çº¿ç¨‹å¯¹è±¡ï¼Œå‡å°‘åˆ›å»º</li>
<li>æ§åˆ¶çº¿ç¨‹å¹¶å‘é‡ï¼Œé¿å…å µå¡</li>
<li>å¯ä»¥è®¾ç½®å®šæœŸæ‰§è¡Œ</li>
</ul>
<p>å¸¸ç”¨çš„å‡ ç§çº¿ç¨‹æ± ï¼š</p>
<ul>
<li><p>åˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚çº¿ç¨‹æ± ä¸ºæ— é™å¤§ï¼Œå½“æ‰§è¡Œç¬¬äºŒä¸ªä»»åŠ¡æ—¶ç¬¬ä¸€ä¸ªä»»åŠ¡å·²ç»å®Œæˆï¼Œä¼šå¤ç”¨æ‰§è¡Œç¬¬ä¸€ä¸ªä»»åŠ¡çš„çº¿ç¨‹ï¼Œè€Œä¸ç”¨æ¯æ¬¡æ–°å»ºçº¿ç¨‹ã€‚</p>
<pre><code>ExecutorService cachedThreadPool = Executors.newCachedThreadPool();</code></pre></li>
<li><p>åˆ›å»ºä¸€ä¸ªæ§åˆ¶çº¿ç¨‹æ•°é‡çš„çº¿ç¨‹æ± ï¼Œå¯æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚</p>
<pre><code>ExecutorService fixedThreadPool = Executors.newFixedThreadPool(5);</code></pre></li>
<li><p>åˆ›å»ºä¸€ä¸ªæ§åˆ¶çº¿ç¨‹æ•°é‡çš„é•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œ</p>
<pre><code>ScheduledExecutorService scheduledThreadPool = Executors.newScheduledThreadPool(5);
scheduledThreadPool.schedule(new Runnable() {

  @Override
  public void run() {
      System.out.println(&quot;è¡¨ç¤ºå»¶è¿Ÿ5ç§’æ‰§è¡Œ&quot;);
  }
}, 5, TimeUnit.SECONDS);</code></pre></li>
</ul>
<pre><code>scheduledThreadPool.scheduleAtFixedRate(new Runnable() {

    @Override
    public void run() {
        System.out.println(&quot;è¡¨ç¤ºå»¶è¿Ÿ1ç§’åæ¯5ç§’æ‰§è¡Œä¸€æ¬¡&quot;);
    }
}, 1, 5, TimeUnit.SECONDS);</code></pre><ul>
<li>åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO, LIFO, ä¼˜å…ˆçº§)æ‰§è¡Œ,ç»“æœä¾æ¬¡è¾“å‡ºï¼Œç›¸å½“äºé¡ºåºæ‰§è¡Œå„ä¸ªä»»åŠ¡ã€‚(é€‚ç”¨äºæ“ä½œæ•°æ®åº“ç­‰é˜²æ­¢å¹¶å‘çš„æ“ä½œ)<pre><code>ExecutorService singleThreadExecutor = Executors.newSingleThreadExecutor();</code></pre></li>
</ul>
<p>æ‰§è¡Œçº¿ç¨‹ï¼š</p>
<pre><code>thread.execute(new Runnable() ;</code></pre><p><a href="http://android.jobbole.com/82092/" target="_blank" rel="noopener">å…³äºæ‰©å±•çº¿ç¨‹æ± ï¼Œä»¥åŠè‡ªå®šä¹‰çº¿ç¨‹æ± </a></p>
]]></content>
  </entry>
  <entry>
    <title>Androidå‘å¸ƒLibraryåˆ°JitPack</title>
    <url>/2019/02/02/Android%E5%8F%91%E5%B8%83Library%E5%88%B0JitPack/</url>
    <content><![CDATA[<h3 id="é¦–å‘ä½ è¦å­¦ä¼šä½¿ç”¨git"><a href="#é¦–å‘ä½ è¦å­¦ä¼šä½¿ç”¨git" class="headerlink" title="é¦–å‘ä½ è¦å­¦ä¼šä½¿ç”¨git"></a>é¦–å‘ä½ è¦å­¦ä¼šä½¿ç”¨git</h3><p>å…·ä½“å¯ä»¥å‚è€ƒ<br><a href="https://alguojian.github.io/å†ä¸å­¦gitæˆ‘ä»¬å°±è€äº†.html" target="_blank" rel="noopener">å†ä¸å­¦gitæˆ‘ä»¬å°±è€äº†</a></p>
<p>1.studioæ–°å»ºä¸€ä¸ªå·¥ç¨‹projectï¼Œå†æ·»åŠ ä¸€ä¸ªlibrary<br>2.å†å·¥ç¨‹buildã€‚gradleæ·»åŠ </p>
<pre><code>buildscript { 
  dependencies {
    classpath &#39;com.github.dcendents:android-maven-gradle-plugin:1.5&#39;
                }
            }</code></pre><a id="more"></a>


<p><a href="https://github.com/dcendents/android-maven-gradle-plugin" target="_blank" rel="noopener">æœ€æ–°ç‰ˆæœ¬å·å¯ä»¥æŸ¥çœ‹githubåœ°å€</a></p>
<p>3.åœ¨æ–°å»ºlibraryçš„æœ€ä¸Šé¢çš„build.gradle(),æ·»åŠ mavenæ’ä»¶</p>
<pre><code>apply plugin: &#39;com.android.library&#39;
apply plugin: &#39;com.github.dcendents.android-maven&#39;
group = &#39;com.github.ALguojian&#39;</code></pre><p>ALguojianæ˜¯æˆ‘çš„githubåå­—ï¼Œè®°å¾—æ”¹æˆä½ è‡ªå·±çš„</p>
<p>4.å°†æœ€æ–°çš„ä»£ç æäº¤åˆ°githubç„¶åè®¾ç½®ä¸€ä¸ªTag</p>
<p>ç‚¹å‡»releasesï¼Œè®°å¾—newä¸€ä¸ª</p>
<p>å¡«å†™ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ï¼š V 1.1</p>
<p>æè¿°ä¹Ÿæ˜¯æ— æ‰€è°“å†™ä¸å†™çš„~~</p>
<p>5.åœ¨jitpackæœç´¢ä½ çš„å·¥ç¨‹åœ°å€ï¼Œç‚¹å‡»git it å°±å¯åˆ°ä½¿ç”¨åœ°å€</p>
<p>6.è®°å¾—æ›´æ–°æ–°åŠŸèƒ½ï¼Œå‡çº§ä½ çš„ç‰ˆæœ¬å·ï¼Œç„¶åå†æ¬¡æäº¤jitpack</p>
<p>7.ç‚¹å‡»git it ä¹‹åä¸‹é¢ä¼šå‡ºç°å›¾æ ‡ï¼ŒJitPack v1.0 çš„å›¾æ ‡ç‚¹å‡»ä¹‹åå¤åˆ¶å†…å®¹åˆ°é¡¹ç›®çš„README.mdä¸­ï¼Œä½ ä¼šå‘ç°æœ‰ä¸€ä¸ªgitpack barï¼Œå—¯ï¼Œé€¼æ ¼ç¨³ç¨³çš„</p>
]]></content>
  </entry>
  <entry>
    <title>Activityå¯åŠ¨æ¨¡å¼</title>
    <url>/2019/02/01/Activity%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<h4 id="å¯åŠ¨æ¨¡å¼"><a href="#å¯åŠ¨æ¨¡å¼" class="headerlink" title="å¯åŠ¨æ¨¡å¼"></a>å¯åŠ¨æ¨¡å¼</h4><p><code>Activity</code>çš„ç®¡ç†æ˜¯é‡‡ç”¨<strong>ä»»åŠ¡æ ˆ</strong>(ç±»ä¼¼äºé›†åˆ)çš„å½¢å¼</p>
<ul>
<li><code>Android</code>ä»»åŠ¡æ ˆåˆç§°ä¸ºTaskï¼Œå®ƒæ˜¯ä¸€ä¸ªæ ˆç»“æ„ï¼Œå…·æœ‰åè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œç”¨äºå­˜æ”¾æˆ‘ä»¬çš„<code>Activity</code>ç»„ä»¶ã€‚ </li>
<li>æ¯æ¬¡æ‰“å¼€ä¸ªæ–°çš„<code>Activity</code>æˆ–è€…é€€å‡ºå½“å‰<code>Activity</code>éƒ½ä¼šåœ¨ä»»åŠ¡æ ˆçš„ä¸­æ·»åŠ æˆ–è€…å‡å°‘ä¸€ä¸ª<code>Activity</code>ï¼Œå› æ­¤ä¸€ä¸ªä»»åŠ¡æ ˆåŒ…å«äº†ä¸€ä¸ª<code>activity</code>çš„é›†åˆ, <code>android</code>ç³»ç»Ÿå¯ä»¥é€šè¿‡Taskæœ‰åºåœ°ç®¡ç†æ¯ä¸ª<code>activity</code>ï¼Œå¹¶å†³å®šå“ªä¸ª<code>Activity</code>ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’:åªæœ‰åœ¨ä»»åŠ¡æ ˆæ ˆé¡¶çš„<code>activity</code>æ‰å¯ä»¥è·Ÿç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚ </li>
<li>åœ¨é€€å‡ºåº”ç”¨ç¨‹åºæ—¶ï¼Œå¿…é¡»æŠŠæ‰€æœ‰çš„ä»»åŠ¡æ ˆä¸­æ‰€æœ‰çš„<code>activity</code>æ¸…é™¤å‡ºæ ˆæ—¶,ä»»åŠ¡æ ˆæ‰ä¼šè¢«é”€æ¯ã€‚</li>
<li>ä¸€ä¸ªAppä¸­å¯èƒ½ä¸æ­¢ä¸€ä¸ªä»»åŠ¡æ ˆï¼ŒæŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå•ç‹¬ä¸€ä¸ª<code>Actvity</code>å¯ä»¥ç‹¬äº«ä¸€ä¸ªä»»åŠ¡æ ˆã€‚è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯ä¸€ä¸ªTaskä¸­çš„Actvityå¯ä»¥æ¥è‡ªä¸åŒçš„Appï¼ŒåŒä¸€ä¸ªAppçš„Activityä¹Ÿå¯èƒ½ä¸åœ¨ä¸€ä¸ªTaskä¸­ã€‚</li>
</ul>
<p><code>Activity</code>å¯åŠ¨æ¨¡å¼æœ‰å¦‚ä¸‹å‡ ç§</p>
<ul>
<li>æ ‡å‡†æ¨¡å¼ï¼ˆ<code>standard</code>ï¼‰</li>
<li>æ ˆé¡¶å¤ç”¨æ¨¡å¼ï¼ˆ<code>singleTop</code>ï¼‰</li>
<li>æ ˆå†…å¤ç”¨æ¨¡å¼ï¼ˆ<code>singleTask</code>ï¼‰</li>
<li>å•ä¾‹æ¨¡å¼ï¼ˆ<code>singleInstance</code>ï¼‰</li>
</ul>
<a id="more"></a>


<h5 id="æ ‡å‡†æ¨¡å¼ï¼ˆstandardï¼‰"><a href="#æ ‡å‡†æ¨¡å¼ï¼ˆstandardï¼‰" class="headerlink" title="æ ‡å‡†æ¨¡å¼ï¼ˆstandardï¼‰"></a>æ ‡å‡†æ¨¡å¼ï¼ˆstandardï¼‰</h5><ul>
<li>å¯åŠ¨ä¸€æ¬¡<code>Activity</code>å°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„<code>Activity</code>å®ä¾‹å¹¶ä¸”å¤„äºæ ˆé¡¶ï¼ˆå¯åŠ¨è¯¥<code>Activity</code>çš„é‚£ä¸ªæ ˆï¼‰</li>
</ul>
<h5 id="æ ˆé¡¶å¤ç”¨æ¨¡å¼ï¼ˆsingleTopï¼‰"><a href="#æ ˆé¡¶å¤ç”¨æ¨¡å¼ï¼ˆsingleTopï¼‰" class="headerlink" title="æ ˆé¡¶å¤ç”¨æ¨¡å¼ï¼ˆsingleTopï¼‰"></a>æ ˆé¡¶å¤ç”¨æ¨¡å¼ï¼ˆsingleTopï¼‰</h5><ul>
<li>å¦‚æœå¯åŠ¨çš„<code>Activity</code>å¤„äºæ ˆé¡¶ï¼Œå°±ç›´æ¥é‡ç”¨è¯¥å®ä¾‹ï¼ˆè°ƒç”¨<code>onNewIntent()</code>ã€ä¸è°ƒç”¨<code>onCreate()</code>å’Œ<code>onStart()</code>ï¼‰</li>
<li>å¦‚æœå¯åŠ¨çš„<code>Activity</code>ä¸åœ¨æ ˆé¡¶ï¼Œå°±åˆ›å»ºæ–°çš„å®ä¾‹</li>
</ul>
<h5 id="æ ˆå†…å¤ç”¨æ¨¡å¼-singleTask-ï¼ˆåœ¨åŒä¸€ä¸ªæ ˆå†…ä¸­çš„åŸºç¡€ä¸Šï¼‰"><a href="#æ ˆå†…å¤ç”¨æ¨¡å¼-singleTask-ï¼ˆåœ¨åŒä¸€ä¸ªæ ˆå†…ä¸­çš„åŸºç¡€ä¸Šï¼‰" class="headerlink" title="æ ˆå†…å¤ç”¨æ¨¡å¼(singleTask)ï¼ˆåœ¨åŒä¸€ä¸ªæ ˆå†…ä¸­çš„åŸºç¡€ä¸Šï¼‰"></a>æ ˆå†…å¤ç”¨æ¨¡å¼(singleTask)ï¼ˆåœ¨åŒä¸€ä¸ªæ ˆå†…ä¸­çš„åŸºç¡€ä¸Šï¼‰</h5><ul>
<li>æ ˆå†…å·²ç»å­˜åœ¨è¯¥<code>Activity</code>çš„å®ä¾‹ï¼Œå°±ç§»é™¤è¯¥å®ä¾‹ä¸Šé¢æ‰€æœ‰<code>Activity</code></li>
<li>ä¸å­˜åœ¨ï¼Œå°±åˆ›å»ºæ–°çš„å®ä¾‹</li>
</ul>
<h5 id="å•åˆ©æ¨¡å¼ï¼ˆsingleInstanceï¼‰"><a href="#å•åˆ©æ¨¡å¼ï¼ˆsingleInstanceï¼‰" class="headerlink" title="å•åˆ©æ¨¡å¼ï¼ˆsingleInstanceï¼‰"></a>å•åˆ©æ¨¡å¼ï¼ˆsingleInstanceï¼‰</h5><ul>
<li>å¯åŠ¨<code>Activity</code>æ˜¯å°±åˆ›å»ºä¸€ä¸ªæ–°çš„æ ˆï¼Œå†åˆ›å»º<code>Activity</code>å®ä¾‹æ”¾è¿›å»</li>
</ul>
<blockquote>
<p>ç”¨äºå¤šä¸ªappå…±äº«ä¸€ä¸ª<code>Activity</code>å®ä¾‹</p>
</blockquote>
<h4 id="è®¾ç½®å¯åŠ¨æ¨¡å¼"><a href="#è®¾ç½®å¯åŠ¨æ¨¡å¼" class="headerlink" title="è®¾ç½®å¯åŠ¨æ¨¡å¼"></a>è®¾ç½®å¯åŠ¨æ¨¡å¼</h4><ul>
<li><p>æ¸…å•æ–‡ä»¶é‡Œé¢Activityæ·»åŠ å±æ€§,é»˜è®¤ä¸ºæ ‡å‡†æ¨¡å¼</p>
<p><code>android:launchMode=&quot;å¯åŠ¨æ¨¡å¼&quot;</code></p>
</li>
<li><p>é€šè¿‡Intentè®¾ç½®</p>
</li>
</ul>
<pre><code>Intent inten = new Intent (context,ActivityB.class);
intent,addFlags(Intent,FLAG_ACTIVITY_NEW_TASK);//å¯åŠ¨æ¨¡å¼
startActivity(intent);</code></pre><ul>
<li><code>FLAG_ACTIVITY_SINGLE_TOP</code> //singleTop</li>
<li><code>FLAG_ACTIVITY_NEW_TASK</code> //standard</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>Androidå¸¸ç”¨æƒé™</title>
    <url>/2019/01/23/Android%E5%B8%B8%E7%94%A8%E6%9D%83%E9%99%90/</url>
    <content><![CDATA[<p>ç»å¸¸ç”¨çš„æƒé™ï¼Œå¿˜è®°å°±å¤‡æ³¨å§~~</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>æƒé™</th>
</tr>
</thead>
<tbody><tr>
<td>è®¿é—®ç™»è®°å±æ€§</td>
<td>android.permission.ACCESS_CHECKIN_PROPERTIES ï¼Œè¯»å–æˆ–å†™å…¥ç™»è®°check-inæ•°æ®åº“å±æ€§è¡¨çš„æƒé™</td>
</tr>
<tr>
<td>è·å–é”™ç•¥ä½ç½®</td>
<td>android.permission.ACCESS_COARSE_LOCATIONï¼Œé€šè¿‡WiFiæˆ–ç§»åŠ¨åŸºç«™çš„æ–¹å¼è·å–ç”¨æˆ·é”™ç•¥çš„ç»çº¬åº¦ä¿¡æ¯ï¼Œå®šä½ç²¾åº¦å¤§æ¦‚è¯¯å·®åœ¨30~1500ç±³</td>
</tr>
<tr>
<td>è·å–ç²¾ç¡®ä½ç½®</td>
<td>android.permission.ACCESS_FINE_LOCATIONï¼Œé€šè¿‡GPSèŠ¯ç‰‡æ¥æ”¶å«æ˜Ÿçš„å®šä½ä¿¡æ¯ï¼Œå®šä½ç²¾åº¦è¾¾10ç±³ä»¥å†…</td>
</tr>
<tr>
<td>è®¿é—®å®šä½é¢å¤–å‘½ä»¤</td>
<td>android.permission.ACCESS_LOCATION_EXTRA_COMMANDSï¼Œå…è®¸ç¨‹åºè®¿é—®é¢å¤–çš„å®šä½æä¾›è€…æŒ‡ä»¤</td>
</tr>
<tr>
<td>è·å–æ¨¡æ‹Ÿå®šä½ä¿¡æ¯</td>
<td>android.permission.ACCESS_MOCK_LOCATIONï¼Œè·å–æ¨¡æ‹Ÿå®šä½ä¿¡æ¯ï¼Œä¸€èˆ¬ç”¨äºå¸®åŠ©å¼€å‘è€…è°ƒè¯•åº”ç”¨</td>
</tr>
<tr>
<td>è·å–ç½‘ç»œçŠ¶æ€</td>
<td>android.permission.ACCESS_NETWORK_STATEï¼Œè·å–ç½‘ç»œä¿¡æ¯çŠ¶æ€ï¼Œå¦‚å½“å‰çš„ç½‘ç»œè¿æ¥æ˜¯å¦æœ‰æ•ˆ</td>
</tr>
<tr>
<td>è®¿é—®Surface Flinger</td>
<td>android.permission.ACCESS_SURFACE_FLINGERï¼ŒAndroidå¹³å°ä¸Šåº•å±‚çš„å›¾å½¢æ˜¾ç¤ºæ”¯æŒï¼Œä¸€èˆ¬ç”¨äºæ¸¸æˆæˆ–ç…§ç›¸æœºé¢„è§ˆç•Œé¢å’Œåº•å±‚æ¨¡å¼çš„å±å¹•æˆªå›¾</td>
</tr>
<tr>
<td>è·å–WiFiçŠ¶æ€</td>
<td>android.permission.ACCESS_WIFI_STATEï¼Œè·å–å½“å‰WiFiæ¥å…¥çš„çŠ¶æ€ä»¥åŠWLANçƒ­ç‚¹çš„ä¿¡æ¯</td>
</tr>
<tr>
<td>è´¦æˆ·ç®¡ç†</td>
<td>android.permission.ACCOUNT_MANAGERï¼Œè·å–è´¦æˆ·éªŒè¯ä¿¡æ¯ï¼Œä¸»è¦ä¸ºGMailè´¦æˆ·ä¿¡æ¯ï¼Œåªæœ‰ç³»ç»Ÿçº§è¿›ç¨‹æ‰èƒ½è®¿é—®çš„æƒé™</td>
</tr>
<tr>
<td>éªŒè¯è´¦æˆ·</td>
<td>android.permission.AUTHENTICATE_ACCOUNTSï¼Œå…è®¸ä¸€ä¸ªç¨‹åºé€šè¿‡è´¦æˆ·éªŒè¯æ–¹å¼è®¿é—®è´¦æˆ·ç®¡ç†ACCOUNT_MANAGERç›¸å…³ä¿¡æ¯</td>
</tr>
<tr>
<td>ç”µé‡ç»Ÿè®¡</td>
<td>android.permission.BATTERY_STATSï¼Œè·å–ç”µæ± ç”µé‡ç»Ÿè®¡ä¿¡æ¯</td>
</tr>
</tbody></table>
<a id="more"></a>


<p>|ç»‘å®šå°æ’ä»¶| android.permission.BIND_APPWIDGETï¼Œå…è®¸ä¸€ä¸ªç¨‹åºå‘Šè¯‰appWidgetæœåŠ¡éœ€è¦è®¿é—®å°æ’ä»¶çš„æ•°æ®åº“ï¼Œåªæœ‰éå¸¸å°‘çš„åº”ç”¨æ‰ç”¨åˆ°æ­¤æƒé™|<br>|ç»‘å®šè®¾å¤‡ç®¡ç†|    android.permission.BIND_DEVICE_ADMINï¼Œè¯·æ±‚ç³»ç»Ÿç®¡ç†å‘˜æ¥æ”¶è€…receiverï¼Œåªæœ‰ç³»ç»Ÿæ‰èƒ½ä½¿ç”¨|<br>|ç»‘å®šè¾“å…¥æ³•  |android.permission.BIND_INPUT_METHOD ï¼Œè¯·æ±‚InputMethodServiceæœåŠ¡ï¼Œåªæœ‰ç³»ç»Ÿæ‰èƒ½ä½¿ç”¨|<br>|ç»‘å®šRemoteView|  android.permission.BIND_REMOTEVIEWSï¼Œå¿…é¡»é€šè¿‡RemoteViewsServiceæœåŠ¡æ¥è¯·æ±‚ï¼Œåªæœ‰ç³»ç»Ÿæ‰èƒ½ç”¨|<br>|ç»‘å®šå£çº¸|  android.permission.BIND_WALLPAPERï¼Œå¿…é¡»é€šè¿‡WallpaperServiceæœåŠ¡æ¥è¯·æ±‚ï¼Œåªæœ‰ç³»ç»Ÿæ‰èƒ½ç”¨|<br>|ä½¿ç”¨è“ç‰™|  android.permission.BLUETOOTHï¼Œå…è®¸ç¨‹åºè¿æ¥é…å¯¹è¿‡çš„è“ç‰™è®¾å¤‡|<br>|è“ç‰™ç®¡ç†|  android.permission.BLUETOOTH_ADMINï¼Œå…è®¸ç¨‹åºè¿›è¡Œå‘ç°å’Œé…å¯¹æ–°çš„è“ç‰™è®¾å¤‡|<br>|å˜æˆç –å¤´|  android.permission.BRICKï¼Œèƒ½å¤Ÿç¦ç”¨æ‰‹æœºï¼Œéå¸¸å±é™©ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯è®©æ‰‹æœºå˜æˆç –å¤´|<br>|åº”ç”¨åˆ é™¤æ—¶å¹¿æ’­    |android.permission.BROADCAST_PACKAGE_REMOVEDï¼Œå½“ä¸€ä¸ªåº”ç”¨åœ¨åˆ é™¤æ—¶è§¦å‘ä¸€ä¸ªå¹¿æ’­|<br>|æ”¶åˆ°çŸ­ä¿¡æ—¶å¹¿æ’­|android.permission.BROADCAST_SMSï¼Œå½“æ”¶åˆ°çŸ­ä¿¡æ—¶è§¦å‘ä¸€ä¸ªå¹¿æ’­|<br>|è¿ç»­å¹¿æ’­|  android.permission.BROADCAST_STICKYï¼Œå…è®¸ä¸€ä¸ªç¨‹åºæ”¶åˆ°å¹¿æ’­åå¿«é€Ÿæ”¶åˆ°ä¸‹ä¸€ä¸ªå¹¿æ’­|<br>|WAP PUSHå¹¿æ’­|    android.permission.BROADCAST_WAP_PUSHï¼ŒWAP PUSHæœåŠ¡æ”¶åˆ°åè§¦å‘ä¸€ä¸ªå¹¿æ’­|<br>|æ‹¨æ‰“ç”µè¯|  android.permission.CALL_PHONEï¼Œå…è®¸ç¨‹åºä»éç³»ç»Ÿæ‹¨å·å™¨é‡Œè¾“å…¥ç”µè¯å·ç |<br>|é€šè¯æƒé™|  android.permission.CALL_PRIVILEGEDï¼Œå…è®¸ç¨‹åºæ‹¨æ‰“ç”µè¯ï¼Œæ›¿æ¢ç³»ç»Ÿçš„æ‹¨å·å™¨ç•Œé¢|<br>|æ‹ç…§æƒé™|  android.permission.CAMERAï¼Œå…è®¸è®¿é—®æ‘„åƒå¤´è¿›è¡Œæ‹ç…§|<br>|æ”¹å˜ç»„ä»¶çŠ¶æ€|    android.permission.CHANGE_COMPONENT_ENABLED_STATEï¼Œæ”¹å˜ç»„ä»¶æ˜¯å¦å¯ç”¨çŠ¶æ€|<br>|æ”¹å˜é…ç½®|  android.permission.CHANGE_CONFIGURATIONï¼Œå…è®¸å½“å‰åº”ç”¨æ”¹å˜é…ç½®ï¼Œå¦‚å®šä½|<br>|æ”¹å˜ç½‘ç»œçŠ¶æ€|    android.permission.CHANGE_NETWORK_STATEï¼Œæ”¹å˜ç½‘ç»œçŠ¶æ€å¦‚æ˜¯å¦èƒ½è”ç½‘|<br>|æ”¹å˜WiFiå¤šæ’­çŠ¶æ€|    android.permission.CHANGE_WIFI_MULTICAST_STATEï¼Œæ”¹å˜WiFiå¤šæ’­çŠ¶æ€|<br>|æ”¹å˜WiFiçŠ¶æ€|  android.permission.CHANGE_WIFI_STATEï¼Œæ”¹å˜WiFiçŠ¶æ€|<br>|æ¸…é™¤åº”ç”¨ç¼“å­˜|    android.permission.CLEAR_APP_CACHEï¼Œæ¸…é™¤åº”ç”¨ç¼“å­˜|<br>|æ¸…é™¤ç”¨æˆ·æ•°æ®|    android.permission.CLEAR_APP_USER_DATAï¼Œæ¸…é™¤åº”ç”¨çš„ç”¨æˆ·æ•°æ®|<br>|åº•å±‚è®¿é—®æƒé™|    android.permission.CWJ_GROUPï¼Œå…è®¸CWJè´¦æˆ·ç»„è®¿é—®åº•å±‚ä¿¡æ¯|<br>|æ‰‹æœºä¼˜åŒ–å¤§å¸ˆæ‰©å±•æƒé™|    android.permission.CELL_PHONE_MASTER_EXï¼Œæ‰‹æœºä¼˜åŒ–å¤§å¸ˆæ‰©å±•æƒé™|<br>|æ§åˆ¶å®šä½æ›´æ–°|    android.permission.CONTROL_LOCATION_UPDATESï¼Œå…è®¸è·å¾—ç§»åŠ¨ç½‘ç»œå®šä½ä¿¡æ¯æ”¹å˜|<br>|åˆ é™¤ç¼“å­˜æ–‡ä»¶|    android.permission.DELETE_CACHE_FILESï¼Œå…è®¸åº”ç”¨åˆ é™¤ç¼“å­˜æ–‡ä»¶|<br>|åˆ é™¤åº”ç”¨|  android.permission.DELETE_PACKAGESï¼Œå…è®¸ç¨‹åºåˆ é™¤åº”ç”¨|<br>|ç”µæºç®¡ç†|  android.permission.DEVICE_POWERï¼Œå…è®¸è®¿é—®åº•å±‚ç”µæºç®¡ç†|<br>|åº”ç”¨è¯Šæ–­|  android.permission.DIAGNOSTICï¼Œå…è®¸ç¨‹åºåˆ°RWåˆ°è¯Šæ–­èµ„æº|<br>|ç¦ç”¨é”®ç›˜é”| android.permission.DISABLE_KEYGUARDï¼Œå…è®¸ç¨‹åºç¦ç”¨é”®ç›˜é”|<br>|è½¬å­˜ç³»ç»Ÿä¿¡æ¯|    android.permission.DUMPï¼Œå…è®¸ç¨‹åºè·å–ç³»ç»Ÿdumpä¿¡æ¯ä»ç³»ç»ŸæœåŠ¡<br>|çŠ¶æ€æ æ§åˆ¶| android.permission.EXPAND_STATUS_BARï¼Œå…è®¸ç¨‹åºæ‰©å±•æˆ–æ”¶ç¼©çŠ¶æ€æ |<br>|å·¥å‚æµ‹è¯•æ¨¡å¼|    android.permission.FACTORY_TESTï¼Œå…è®¸ç¨‹åºè¿è¡Œå·¥å‚æµ‹è¯•æ¨¡å¼|<br>|ä½¿ç”¨é—ªå…‰ç¯| android.permission.FLASHLIGHTï¼Œå…è®¸è®¿é—®é—ªå…‰ç¯|<br>|å¼ºåˆ¶åé€€|  android.permission.FORCE_BACKï¼Œå…è®¸ç¨‹åºå¼ºåˆ¶ä½¿ç”¨backåé€€æŒ‰é”®ï¼Œæ— è®ºActivityæ˜¯å¦åœ¨é¡¶å±‚|<br>|è®¿é—®è´¦æˆ·Gmailåˆ—è¡¨|   android.permission.GET_ACCOUNTSï¼Œè®¿é—®GMailè´¦æˆ·åˆ—è¡¨|<br>|è·å–åº”ç”¨å¤§å°|    android.permission.GET_PACKAGE_SIZEï¼Œè·å–åº”ç”¨çš„æ–‡ä»¶å¤§å°|<br>|è·å–ä»»åŠ¡ä¿¡æ¯|    android.permission.GET_TASKSï¼Œå…è®¸ç¨‹åºè·å–å½“å‰æˆ–æœ€è¿‘è¿è¡Œçš„åº”ç”¨|<br>|å…è®¸å…¨å±€æœç´¢|    android.permission.GLOBAL_SEARCHï¼Œå…è®¸ç¨‹åºä½¿ç”¨å…¨å±€æœç´¢åŠŸèƒ½|<br>|ç¡¬ä»¶æµ‹è¯•|  android.permission.HARDWARE_TESTï¼Œè®¿é—®ç¡¬ä»¶è¾…åŠ©è®¾å¤‡ï¼Œç”¨äºç¡¬ä»¶æµ‹è¯•|<br>|æ³¨å°„äº‹ä»¶|  android.permission.INJECT_EVENTSï¼Œå…è®¸è®¿é—®æœ¬ç¨‹åºçš„åº•å±‚äº‹ä»¶ï¼Œè·å–æŒ‰é”®ã€è½¨è¿¹çƒçš„äº‹ä»¶æµ|<br>|å®‰è£…å®šä½æä¾›|    android.permission.INSTALL_LOCATION_PROVIDERï¼Œå®‰è£…å®šä½æä¾›|<br>|å®‰è£…åº”ç”¨ç¨‹åº|    android.permission.INSTALL_PACKAGESï¼Œå…è®¸ç¨‹åºå®‰è£…åº”ç”¨|<br>|å†…éƒ¨ç³»ç»Ÿçª—å£|    android.permission.INTERNAL_SYSTEM_WINDOWï¼Œå…è®¸ç¨‹åºæ‰“å¼€å†…éƒ¨çª—å£ï¼Œä¸å¯¹ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºå¼€æ”¾æ­¤æƒé™|<br>|è®¿é—®ç½‘ç»œ|  android.permission.INTERNETï¼Œè®¿é—®ç½‘ç»œè¿æ¥ï¼Œå¯èƒ½äº§ç”ŸGPRSæµé‡|<br>|ç»“æŸåå°è¿›ç¨‹|    android.permission.KILL_BACKGROUND_PROCESSESï¼Œå…è®¸ç¨‹åºè°ƒç”¨killBackgroundProcesses(String).æ–¹æ³•ç»“æŸåå°è¿›ç¨‹|<br>|ç®¡ç†è´¦æˆ·|  android.permission.MANAGE_ACCOUNTSï¼Œå…è®¸ç¨‹åºç®¡ç†AccountManagerä¸­çš„è´¦æˆ·åˆ—è¡¨|<br>|ç®¡ç†ç¨‹åºå¼•ç”¨|    android.permission.MANAGE_APP_TOKENSï¼Œç®¡ç†åˆ›å»ºã€æ‘§æ¯ã€Zè½´é¡ºåºï¼Œä»…ç”¨äºç³»ç»Ÿ|<br>|é«˜çº§æƒé™|  android.permission.MTWEAK_USERï¼Œå…è®¸mTweakç”¨æˆ·è®¿é—®é«˜çº§ç³»ç»Ÿæƒé™|<br>|ç¤¾åŒºæƒé™|  android.permission.MTWEAK_FORUMï¼Œå…è®¸ä½¿ç”¨mTweakç¤¾åŒºæƒé™|<br>|è½¯æ ¼å¼åŒ–|  android.permission.MASTER_CLEARï¼Œå…è®¸ç¨‹åºæ‰§è¡Œè½¯æ ¼å¼åŒ–ï¼Œåˆ é™¤ç³»ç»Ÿé…ç½®ä¿¡æ¯|<br>|ä¿®æ”¹å£°éŸ³è®¾ç½®|    android.permission.MODIFY_AUDIO_SETTINGSï¼Œä¿®æ”¹å£°éŸ³è®¾ç½®ä¿¡æ¯|<br>|ä¿®æ”¹ç”µè¯çŠ¶æ€|    android.permission.MODIFY_PHONE_STATEï¼Œä¿®æ”¹ç”µè¯çŠ¶æ€ï¼Œå¦‚é£è¡Œæ¨¡å¼ï¼Œä½†ä¸åŒ…å«æ›¿æ¢ç³»ç»Ÿæ‹¨å·å™¨ç•Œé¢|<br>|æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿ|   android.permission.MOUNT_FORMAT_FILESYSTEMSï¼Œæ ¼å¼åŒ–å¯ç§»åŠ¨æ–‡ä»¶ç³»ç»Ÿï¼Œæ¯”å¦‚æ ¼å¼åŒ–æ¸…ç©ºSDå¡|<br>|æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ|    android.permission.MOUNT_UNMOUNT_FILESYSTEMSï¼ŒæŒ‚è½½ã€åæŒ‚è½½å¤–éƒ¨æ–‡ä»¶ç³»ç»Ÿ|<br>|å…è®¸NFCé€šè®¯|   android.permission.NFCï¼Œå…è®¸ç¨‹åºæ‰§è¡ŒNFCè¿‘è·ç¦»é€šè®¯æ“ä½œï¼Œç”¨äºç§»åŠ¨æ”¯æŒ|<br>|æ°¸ä¹…Activity|    android.permission.PERSISTENT_ACTIVITYï¼Œåˆ›å»ºä¸€ä¸ªæ°¸ä¹…çš„Activityï¼Œè¯¥åŠŸèƒ½æ ‡è®°ä¸ºå°†æ¥å°†è¢«ç§»é™¤|<br>|å¤„ç†æ‹¨å‡ºç”µè¯|    android.permission.PROCESS_OUTGOING_CALLSï¼Œå…è®¸ç¨‹åºç›‘è§†ï¼Œä¿®æ”¹æˆ–æ”¾å¼ƒæ’­å‡ºç”µè¯|<br>|è¯»å–æ—¥ç¨‹æé†’|    android.permission.READ_CALENDARï¼Œå…è®¸ç¨‹åºè¯»å–ç”¨æˆ·çš„æ—¥ç¨‹ä¿¡æ¯|<br>|è¯»å–è”ç³»äºº| android.permission.READ_CONTACTSï¼Œå…è®¸åº”ç”¨è®¿é—®è”ç³»äººé€šè®¯å½•ä¿¡æ¯|<br>|å±å¹•æˆªå›¾|  android.permission.READ_FRAME_BUFFERï¼Œè¯»å–å¸§ç¼“å­˜ç”¨äºå±å¹•æˆªå›¾|<br>|è¯»å–æ”¶è—å¤¹å’Œå†å²è®°å½•|    com.android.browser.permission.READ_HISTORY_BOOKMARKSï¼Œè¯»å–æµè§ˆå™¨æ”¶è—å¤¹å’Œå†å²è®°å½•|<br>|è¯»å–è¾“å…¥çŠ¶æ€|    android.permission.READ_INPUT_STATEï¼Œè¯»å–å½“å‰é”®çš„è¾“å…¥çŠ¶æ€ï¼Œä»…ç”¨äºç³»ç»Ÿ|<br>|è¯»å–ç³»ç»Ÿæ—¥å¿—|    android.permission.READ_LOGSï¼Œè¯»å–ç³»ç»Ÿåº•å±‚æ—¥å¿—|<br>|è¯»å–ç”µè¯çŠ¶æ€|    android.permission.READ_PHONE_STATEï¼Œè®¿é—®ç”µè¯çŠ¶æ€|<br>|è¯»å–çŸ­ä¿¡å†…å®¹|    android.permission.READ_SMSï¼Œè¯»å–çŸ­ä¿¡å†…å®¹|<br>|è¯»å–åŒæ­¥è®¾ç½®|    android.permission.READ_SYNC_SETTINGSï¼Œè¯»å–åŒæ­¥è®¾ç½®ï¼Œè¯»å–Googleåœ¨çº¿åŒæ­¥è®¾ç½®|<br>|è¯»å–åŒæ­¥çŠ¶æ€|    android.permission.READ_SYNC_STATSï¼Œè¯»å–åŒæ­¥çŠ¶æ€ï¼Œè·å¾—Googleåœ¨çº¿åŒæ­¥çŠ¶æ€|<br>|é‡å¯è®¾å¤‡|  android.permission.REBOOTï¼Œå…è®¸ç¨‹åºé‡æ–°å¯åŠ¨è®¾å¤‡|<br>|å¼€æœºè‡ªåŠ¨å…è®¸|    android.permission.RECEIVE_BOOT_COMPLETEDï¼Œå…è®¸ç¨‹åºå¼€æœºè‡ªåŠ¨è¿è¡Œ|<br>|æ¥æ”¶å½©ä¿¡|  android.permission.RECEIVE_MMSï¼Œæ¥æ”¶å½©ä¿¡|<br>|æ¥æ”¶çŸ­ä¿¡|  android.permission.RECEIVE_SMSï¼Œæ¥æ”¶çŸ­ä¿¡|<br>|æ¥æ”¶Wap Push|    android.permission.RECEIVE_WAP_PUSHï¼Œæ¥æ”¶WAP PUSHä¿¡æ¯|<br>|å½•éŸ³|    android.permission.RECORD_AUDIOï¼Œå½•åˆ¶å£°éŸ³é€šè¿‡æ‰‹æœºæˆ–è€³æœºçš„éº¦å…‹|<br>|æ’åºç³»ç»Ÿä»»åŠ¡|    android.permission.REORDER_TASKSï¼Œé‡æ–°æ’åºç³»ç»ŸZè½´è¿è¡Œä¸­çš„ä»»åŠ¡|<br>|ç»“æŸç³»ç»Ÿä»»åŠ¡|    android.permission.RESTART_PACKAGESï¼Œç»“æŸä»»åŠ¡é€šè¿‡restartPackage(String)æ–¹æ³•ï¼Œè¯¥æ–¹å¼å°†åœ¨å¤–æ¥æ”¾å¼ƒ|<br>|å‘é€çŸ­ä¿¡|  android.permission.SEND_SMSï¼Œå‘é€çŸ­ä¿¡|<br>|è®¾ç½®Activityè§‚å¯Ÿå…¶| android.permission.SET_ACTIVITY_WATCHERï¼Œè®¾ç½®Activityè§‚å¯Ÿå™¨ä¸€èˆ¬ç”¨äºmonkeyæµ‹è¯•|<br>|è®¾ç½®é—¹é“ƒæé†’|    com.android.alarm.permission.SET_ALARMï¼Œè®¾ç½®é—¹é“ƒæé†’|<br>|è®¾ç½®æ€»æ˜¯é€€å‡º|    android.permission.SET_ALWAYS_FINISHï¼Œè®¾ç½®ç¨‹åºåœ¨åå°æ˜¯å¦æ€»æ˜¯é€€å‡º|<br>|è®¾ç½®åŠ¨ç”»ç¼©æ”¾|    android.permission.SET_ANIMATION_SCALEï¼Œè®¾ç½®å…¨å±€åŠ¨ç”»ç¼©æ”¾|<br>|è®¾ç½®è°ƒè¯•ç¨‹åº|    android.permission.SET_DEBUG_APPï¼Œè®¾ç½®è°ƒè¯•ç¨‹åºï¼Œä¸€èˆ¬ç”¨äºå¼€å‘|<br>|è®¾ç½®å±å¹•æ–¹å‘|    android.permission.SET_ORIENTATIONï¼Œè®¾ç½®å±å¹•æ–¹å‘ä¸ºæ¨ªå±æˆ–æ ‡å‡†æ–¹å¼æ˜¾ç¤ºï¼Œä¸ç”¨äºæ™®é€šåº”ç”¨|<br>|è®¾ç½®åº”ç”¨å‚æ•°|    android.permission.SET_PREFERRED_APPLICATIONSï¼Œè®¾ç½®åº”ç”¨çš„å‚æ•°ï¼Œå·²ä¸å†å·¥ä½œå…·ä½“æŸ¥çœ‹addPackageToPreferred(String) ä»‹ç»|<br>|è®¾ç½®è¿›ç¨‹é™åˆ¶|    android.permission.SET_PROCESS_LIMITï¼Œå…è®¸ç¨‹åºè®¾ç½®æœ€å¤§çš„è¿›ç¨‹æ•°é‡çš„é™åˆ¶|<br>|è®¾ç½®ç³»ç»Ÿæ—¶é—´|    android.permission.SET_TIMEï¼Œè®¾ç½®ç³»ç»Ÿæ—¶é—´|<br>|è®¾ç½®ç³»ç»Ÿæ—¶åŒº|    android.permission.SET_TIME_ZONEï¼Œè®¾ç½®ç³»ç»Ÿæ—¶åŒº|<br>|è®¾ç½®æ¡Œé¢å£çº¸|    android.permission.SET_WALLPAPERï¼Œè®¾ç½®æ¡Œé¢å£çº¸|<br>|è®¾ç½®å£çº¸å»ºè®®|    android.permission.SET_WALLPAPER_HINTSï¼Œè®¾ç½®å£çº¸å»ºè®®|<br>|å‘é€æ°¸ä¹…è¿›ç¨‹ä¿¡å·|  android.permission.SIGNAL_PERSISTENT_PROCESSESï¼Œå‘é€ä¸€ä¸ªæ°¸ä¹…çš„è¿›ç¨‹ä¿¡å·|<br>|çŠ¶æ€æ æ§åˆ¶| android.permission.STATUS_BARï¼Œå…è®¸ç¨‹åºæ‰“å¼€ã€å…³é—­ã€ç¦ç”¨çŠ¶æ€æ |<br>|è®¿é—®è®¢é˜…å†…å®¹|    android.permission.SUBSCRIBED_FEEDS_READï¼Œè®¿é—®è®¢é˜…ä¿¡æ¯çš„æ•°æ®åº“|<br>|å†™å…¥è®¢é˜…å†…å®¹|    android.permission.SUBSCRIBED_FEEDS_WRITEï¼Œå†™å…¥æˆ–ä¿®æ”¹è®¢é˜…å†…å®¹çš„æ•°æ®åº“|<br>|æ˜¾ç¤ºç³»ç»Ÿçª—å£|    android.permission.SYSTEM_ALERT_WINDOWï¼Œæ˜¾ç¤ºç³»ç»Ÿçª—å£|<br>|æ›´æ–°è®¾å¤‡çŠ¶æ€|    android.permission.UPDATE_DEVICE_STATSï¼Œæ›´æ–°è®¾å¤‡çŠ¶æ€|<br>|ä½¿ç”¨è¯ä¹¦|  android.permission.USE_CREDENTIALSï¼Œå…è®¸ç¨‹åºè¯·æ±‚éªŒè¯ä»AccountManager<br>|ä½¿ç”¨SIPè§†é¢‘|   android.permission.USE_SIPï¼Œå…è®¸ç¨‹åºä½¿ç”¨SIPè§†é¢‘æœåŠ¡|<br>|ä½¿ç”¨æŒ¯åŠ¨|  android.permission.VIBRATEï¼Œå…è®¸æŒ¯åŠ¨|<br>|å”¤é†’é”å®š|  android.permission.WAKE_LOCKï¼Œå…è®¸ç¨‹åºåœ¨æ‰‹æœºå±å¹•å…³é—­ååå°è¿›ç¨‹ä»ç„¶è¿è¡Œ|<br>|å†™å…¥GPRSæ¥å…¥ç‚¹è®¾ç½®|   android.permission.WRITE_APN_SETTINGSï¼Œå†™å…¥ç½‘ç»œGPRSæ¥å…¥ç‚¹è®¾ç½®|<br>|å†™å…¥æ—¥ç¨‹æé†’|    android.permission.WRITE_CALENDARï¼Œå†™å…¥æ—¥ç¨‹ï¼Œä½†ä¸å¯è¯»å–|<br>|å†™å…¥è”ç³»äºº  |android.permission.WRITE_CONTACTSï¼Œå†™å…¥è”ç³»äººï¼Œä½†ä¸å¯è¯»å–|<br>|å†™å…¥å¤–éƒ¨å­˜å‚¨|    android.permission.WRITE_EXTERNAL_STORAGEï¼Œå…è®¸ç¨‹åºå†™å…¥å¤–éƒ¨å­˜å‚¨ï¼Œå¦‚SDå¡ä¸Šå†™æ–‡ä»¶|<br>|å†™å…¥Googleåœ°å›¾æ•°æ®|  android.permission.WRITE_GSERVICESï¼Œå…è®¸ç¨‹åºå†™å…¥Google MapæœåŠ¡æ•°æ®|<br>|å†™å…¥æ”¶è—å¤¹å’Œå†å²è®°å½•|    com.android.browser.permission.WRITE_HISTORY_BOOKMARKSï¼Œå†™å…¥æµè§ˆå™¨å†å²è®°å½•æˆ–æ”¶è—å¤¹ï¼Œä½†ä¸å¯è¯»å–|<br>|è¯»å†™ç³»ç»Ÿæ•æ„Ÿè®¾ç½®|  android.permission.WRITE_SECURE_SETTINGSï¼Œå…è®¸ç¨‹åºè¯»å†™ç³»ç»Ÿå®‰å…¨æ•æ„Ÿçš„è®¾ç½®é¡¹|<br>|è¯»å†™ç³»ç»Ÿè®¾ç½® |android.permission.WRITE_SETTINGSï¼Œå…è®¸è¯»å†™ç³»ç»Ÿè®¾ç½®é¡¹|<br>|ç¼–å†™çŸ­ä¿¡|  android.permission.WRITE_SMSï¼Œå…è®¸ç¼–å†™çŸ­ä¿¡|<br>|å†™å…¥åœ¨çº¿åŒæ­¥è®¾ç½®|  android.permission.WRITE_SYNC_SETTINGSï¼Œå†™å…¥Googleåœ¨çº¿åŒæ­¥è®¾ç½®|</p>
]]></content>
  </entry>
  <entry>
    <title>Androidæ²‰æµ¸å¼çŠ¶æ€æ </title>
    <url>/2018/08/23/Android%E6%B2%89%E6%B5%B8%E5%BC%8F%E7%8A%B6%E6%80%81%E6%A0%8F/</url>
    <content><![CDATA[<h3 id="æ²‰æµ¸å¼çŠ¶æ€æ æœ‰å‡ ç§æ–¹å¼"><a href="#æ²‰æµ¸å¼çŠ¶æ€æ æœ‰å‡ ç§æ–¹å¼" class="headerlink" title="æ²‰æµ¸å¼çŠ¶æ€æ æœ‰å‡ ç§æ–¹å¼"></a>æ²‰æµ¸å¼çŠ¶æ€æ æœ‰å‡ ç§æ–¹å¼</h3><ul>
<li>ä»£ç åŠ¨æ€é…ç½®</li>
<li>é…ç½®ä¸åŒç‰ˆæœ¬çš„ä¸»é¢˜ä¿¡æ¯</li>
</ul>
<a id="more"></a>

<p>ä¸‹é¢è¯´ä¸€ä¸‹åŠ¨æ€é…ç½®ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¹Ÿå¥½ç†è§£</p>
<p>é¦–å…ˆä½ è¦å…ˆå»æ‰çŠ¶æ€æ å¯¹å§ï¼Œå½“ç„¶è¿˜å¯ä»¥å»æ‰å¯¼èˆªæ (æ¯”å¦‚åä¸ºçš„å¤§é»‘è¾¹å®åœ¨æ˜¯å¾ˆä¸‘)<br>ä½ å¯ä»¥åœ¨ä½ çš„Activity(å»ºè®®åœ¨baseavtivityé‡Œé¢ç®¡ç†)å†™å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {

            //éšè—çŠ¶æ€æ 
            getWindow().setFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS, WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);

            //éšè—å¯¼èˆªæ 
            getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);
        }</code></pre><p>æ¥ä¸‹æ¥ä½ å°±ä¼šå‘ç°å¸ƒå±€ä¼šé¡¶åˆ°æ‰‹æœºæœ€ä¸Šé¢ï¼Œé‚£ä¹ˆçŠ¶æ€æ é¢œè‰²æ€ä¹ˆç¡®å®šå‘¢ï¼Œè¿™æ—¶å€™å°±éœ€è¦è®¾ç½®ä½ æƒ³è¦çš„é¢œè‰²çš„é‚£ä¸ªå¸ƒå±€ï¼š</p>
<pre><code>android:fitsSystemWindows=&quot;true&quot;</code></pre><!--more-->


<p>æˆ–è€…è¿˜å¯ä»¥åœ¨ä¸»é¢˜é…ç½®é‡Œé¢å»å†™æ­»ï¼Œéƒ½æ˜¯å¯ä»¥çš„(ä½†æ˜¯ä¸å¤Ÿä¼˜é›…)ï¼Œè£…é€¼å°±è¦è£…çš„æœ‰æ·±åº¦ä¸æ˜¯~~</p>
<p>æ•ˆæœå›¾å¦‚ä¸‹ï¼šæœ€å¤–å±‚æ˜¯ä¸€ä¸ªwebviewï¼ŒåŠ è½½çš„å°±æ˜¯æˆ‘çš„blog</p>
<p> <img src="http://upload-images.jianshu.io/upload_images/7426378-818726a1f874c2dd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
]]></content>
  </entry>
  <entry>
    <title>Androidåç¼–è¯‘</title>
    <url>/2018/07/23/Android%E5%8F%8D%E7%BC%96%E8%AF%91/</url>
    <content><![CDATA[<h2 id="ç¼–è¯‘å·¥å…·"><a href="#ç¼–è¯‘å·¥å…·" class="headerlink" title="ç¼–è¯‘å·¥å…·"></a>ç¼–è¯‘å·¥å…·</h2><ul>
<li><p><a href="https://github.com/iBotPeaches/Apktool" target="_blank" rel="noopener">apktool (githubåœ°å€)</a></p>
</li>
<li><p><a href="https://github.com/pxb1988/dex2jar" target="_blank" rel="noopener">dex2jar (githubåœ°å€)</a></p>
<a id="more"></a></li>
<li><p><a href="http://pan.baidu.com/s/1gfBxrsJ" target="_blank" rel="noopener">æˆ–è€…ä½¿ç”¨æˆ‘çš„ç™¾åº¦äº‘åˆ†äº«,å‡æ˜¯æœ€æ–°ç‰ˆæœ¬</a></p>
</li>
</ul>
<h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><ul>
<li>apktool<br>  ä½œç”¨ï¼šèµ„æºæ–‡ä»¶è·å–ï¼Œå¯ä»¥æå–å‡ºå›¾ç‰‡æ–‡ä»¶å’Œå¸ƒå±€æ–‡ä»¶è¿›è¡Œä½¿ç”¨æŸ¥çœ‹</li>
</ul>
<ul>
<li>dex2jar<br>   ä½œç”¨ï¼šå°†apkåç¼–è¯‘æˆjavaæºç ï¼ˆclasses.dexè½¬åŒ–æˆjaræ–‡ä»¶ï¼‰</li>
</ul>
<h2 id="ç¼–è¯‘æ–¹æ³•"><a href="#ç¼–è¯‘æ–¹æ³•" class="headerlink" title="ç¼–è¯‘æ–¹æ³•"></a>ç¼–è¯‘æ–¹æ³•</h2><h3 id="apktoolç¼–è¯‘"><a href="#apktoolç¼–è¯‘" class="headerlink" title="apktoolç¼–è¯‘"></a>apktoolç¼–è¯‘</h3><p>åœ¨dosçª—å£è¿›å…¥apktoolæ–‡ä»¶å¤¹ï¼Œæˆ–è€…åœ¨æ–‡ä»¶å¤¹å†…ç‚¹å‡»shiftå³é”®åœ¨æ­¤å¤„æ‰“å¼€dosçª—å£ï¼Œå°†qq.apkæ”¾å…¥æ–‡ä»¶å¤¹ï¼Œdosè¾“å…¥æ­¤å‘½ä»¤ï¼š<code>apktool.bat d -f  qq.apk</code><br>å¦‚æœæƒ³è®©ç¼–è¯‘ä¹‹åçš„æ–‡ä»¶é‡æ–°æ‰“åŒ…æˆapkåªç”¨è¾“å…¥<code>apktool.bat   b    qq</code></p>
<h3 id="dex2jaråç¼–è¯‘"><a href="#dex2jaråç¼–è¯‘" class="headerlink" title="dex2jaråç¼–è¯‘"></a>dex2jaråç¼–è¯‘</h3><p>å°†qq.apkæ”¹ä¸ºqq.zipè§£å‹ä¹‹åå¾—åˆ°classes.dexæ–‡ä»¶ï¼Œå°†æ–‡ä»¶æ”¾å…¥dex2jaræ–‡ä»¶å†…ï¼Œdosè¾“å…¥<code>d2j-dex2jar.bat classes.dex</code>å°±ä¼šå¾—åˆ°æ–°çš„<code>classes_dex2jar.jar</code>jaråŒ…ï¼Œæœ‰äº†jaråŒ…å¯ä»¥æ”¾å…¥ecpliseæˆ–è€…studioç›´æ¥ç¼–è¯‘ï¼Œæˆ–è€…ä¸‹è½½<code>jd-gui</code>å·¥å…·æŸ¥çœ‹jaråŒ…æºç </p>
]]></content>
  </entry>
  <entry>
    <title>å¸¸ç”¨DOSå‘½ä»¤</title>
    <url>/2018/06/27/%E5%B8%B8%E7%94%A8DOS%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<p><img src="http://upload-images.jianshu.io/upload_images/7426378-68c9e1cf612ddbae.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h1 id="åŸºç¡€å‘½ä»¤"><a href="#åŸºç¡€å‘½ä»¤" class="headerlink" title="åŸºç¡€å‘½ä»¤"></a>åŸºç¡€å‘½ä»¤</h1><h2 id="dir"><a href="#dir" class="headerlink" title="dir"></a>dir</h2><ul>
<li><p>æ— å‚æ•°ï¼š æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</p>
</li>
<li><p><code>/s</code>ï¼š æŸ¥çœ‹å½“å‰ç›®å½•ä»¥åŠå…¶å­ç›®å½•çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</p>
</li>
<li><p><code>/a</code>ï¼š æŸ¥çœ‹åŒ…æ‹¬é“¶è¡Œæ–‡ä»¶çš„æ‰€æœ‰æ–‡ä»¶</p>
</li>
<li><p><code>/ah</code>ï¼š åªæ˜¾ç¤ºéšå«æ–‡ä»¶</p>
</li>
<li><p><code>/w</code>ï¼š ä»¥ç´§å‡‘æ–¹å¼ï¼ˆä¸€è¡Œæ˜¾ç¤º5ä¸ªæ–‡ä»¶ï¼‰æ˜¾ç¤ºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹</p>
</li>
<li><p><code>/p</code>ï¼š ä»¥åˆ†é¡µæ–¹å¼ï¼ˆæ˜¾ç¤ºä¸€é¡µä¹‹åä¼šè‡ªåŠ¨æš‚åœï¼‰æ˜¾ç¤º</p>
</li>
<li><p><code>|more</code>ï¼š å‰é¢é‚£ä¸ªç¬¦å·æ˜¯<code>&quot;\&quot;</code>ä¸Šé¢çš„é‚£ä¸ªï¼Œå«åšé‡å®šå‘ç¬¦å·ï¼Œå°±æ˜¯ä¸€ä¸ªå‘½ä»¤çš„ç»“æœè¾“å‡ºä¸ºçµä½ä¸€ä¸ªå‘½ä»¤çš„å‚æ•°ï¼Œ<code>more</code>ä¹Ÿæ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œ<code>dir/w|more</code>å¾—åˆ°çš„ç»“æœå’Œ<code>dir/w/p</code>çš„ç»“æœæ˜¯ä¸€æ ·çš„</p>
</li>
<li><p>æ›´å¤šå‚æ•°å¯ä»¥ä½¿ç”¨ï¼š <code>dir/ï¼Ÿ</code>æŸ¥çœ‹</p>
</li>
</ul>
<a id="more"></a>


<h2 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h2><ul>
<li><p><code>cd ç›®å½•å</code>ï¼š è¿›å…¥ç‰¹å®šçš„ç›®å½•ï¼Œå¦‚æœçœ‹åˆ°æœ‰ä¸ªç›®å½•æ˜¾ç¤ºä¸ºsdkå°±æ˜¯ï¼š<code>cd sdk</code>å›è½¦å°±è¡Œ</p>
</li>
<li><p><code>cd\</code> å›åˆ°æ ¹ç›®å½•</p>
</li>
<li><p><code>cd..</code> è¿”å›ä¸Šä¸€çº§</p>
</li>
</ul>
<h2 id="md-rd"><a href="#md-rd" class="headerlink" title="md   rd"></a>md   rd</h2><ul>
<li><p><code>md ç›®å½•å</code>ï¼š å»ºç«‹ç‰¹å®šçš„æ–‡ä»¶å¤¹ï¼ˆdosä¸‹é¢å«ç›®å½•ï¼Œwinä¸‹é¢å«æ–‡ä»¶å¤¹ï¼‰</p>
</li>
<li><p><code>rd ç›®å½•å</code>ï¼š åˆ é™¤ç‰¹å®šçš„æ–‡ä»¶å¤¹</p>
</li>
</ul>
<h2 id="cls"><a href="#cls" class="headerlink" title="cls"></a>cls</h2><ul>
<li>æ¸…å±</li>
</ul>
<h2 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h2><ul>
<li><code>copy è·¯å¾„\æ–‡ä»¶å è·¯å¾„\æ–‡ä»¶å</code> ï¼šæŠŠä¸€ä¸ªæ–‡ä»¶æ‹·è´åˆ°å¦ä¸€ä¸ªåœ°æ–¹</li>
</ul>
<h2 id="move"><a href="#move" class="headerlink" title="move"></a>move</h2><ul>
<li><code>move è·¯å¾„\æ–‡ä»¶å è·¯å¾„\æ–‡ä»¶å</code>ï¼šæŠŠä¸€ä¸ªæ–‡ä»¶ç§»åŠ¨ï¼ˆå‰ªåˆ‡+å¤åˆ¶ï¼‰åˆ°å¦ä¸€ä¸ªåœ°æ–¹</li>
</ul>
<h2 id="del"><a href="#del" class="headerlink" title="del"></a>del</h2><ul>
<li><p><code>delæ–‡ä»¶å</code>ï¼š åˆ é™¤ä¸€ä¸ªæ–‡ä»¶</p>
</li>
<li><p><code>del*.*</code>ï¼š åˆ é™¤å½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶</p>
</li>
<li><p><code>del</code>ä¸èƒ½åˆ é™¤æ–‡ä»¶å¤¹</p>
</li>
</ul>
<h2 id="deltree"><a href="#deltree" class="headerlink" title="deltree"></a>deltree</h2><ul>
<li>åˆ é™¤æ–‡ä»¶å¤¹å’Œå®ƒä¸‹é¢çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹è¿˜æœ‰æ–‡ä»¶</li>
</ul>
<h2 id="format"><a href="#format" class="headerlink" title="format"></a>format</h2><ul>
<li><code>format x:</code>ï¼š Xä»£è¡¨ç›˜ç¬¦ï¼Œæ ¼å¼åŒ–ä¸€ä¸ªåˆ†åŒºï¼Œåœ¨dosä¸‹æ˜¯ç”¨fatæ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ–çš„</li>
</ul>
<h2 id="type"><a href="#type" class="headerlink" title="type"></a>type</h2><ul>
<li><code>typeæ–‡æœ¬æ–‡ä»¶å</code>ï¼š æ˜¾ç¤ºæ¥šæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹</li>
</ul>
<h2 id="edit"><a href="#edit" class="headerlink" title="edit"></a>edit</h2><ul>
<li>å°ç¨‹åºï¼Œç¼–è¾‘æ–‡æœ¬ä½¿ç”¨</li>
</ul>
<h2 id="ren"><a href="#ren" class="headerlink" title="ren"></a>ren</h2><ul>
<li><code>renæ—§æ–‡ä»¶å æ–°æ–‡ä»¶å</code>ï¼š è¯¥æ–‡ä»¶åå­—</li>
</ul>
<h1 id="å…³äºç½‘ç»œå¸¸ç”¨å‘½ä»¤"><a href="#å…³äºç½‘ç»œå¸¸ç”¨å‘½ä»¤" class="headerlink" title="å…³äºç½‘ç»œå¸¸ç”¨å‘½ä»¤"></a>å…³äºç½‘ç»œå¸¸ç”¨å‘½ä»¤</h1><h2 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h2><ul>
<li><p><code>pingä¸»æœºipæˆ–åå­—</code>ï¼š å‘ç›®æ ‡ä¸»æœºå‘é€4ä¸ªicmpæ•°æ®åŒ…ï¼Œæµ‹è¯•å¯¹æ–¹ä¸»æœºæ˜¯å¦æ”¶åˆ°å¹¶å“åº”ï¼Œä¸€åŠå¸¸ç”¨äºåšæ™®é€šç½‘ç»œæ˜¯å¦é€šç•…çš„æµ‹è¯•ã€‚å½“æ—¶pingä¸åŒä¸ä»£è¡¨ç½‘ç»œä¸é€šï¼Œæœ‰å¯èƒ½ç›®æ ‡ä¸»æœºæœ‰é˜²ç«å¢™å¹¶ä¸”é˜»æ­¢çš„icmpçš„å“åº”ã€‚</p>
</li>
<li><p><code>ping-t</code>ï¼š ä¸åœçš„å‘é€æ•°æ®åŒ…ï¼Œå½“ç„¶éƒ½å¾ˆå°ï¼Œä¸èƒ½ç§°ä½œæ”»å‡»ï¼Œæœ‰äº›äººè‡ªå·±å†™äº†ä¸€äº›ç±»ä¼¼äºpingå‘½ä»¤çš„ç¨‹åºï¼Œä¸åœçš„å‘é€å¾ˆå¤§çš„æ•°æ®åŒ…ï¼Œä»¥é˜»å¡ç›®æ ‡ä¸»æœºçš„ç½‘ç»œè¿æ¥ã€‚</p>
</li>
</ul>
<h2 id="net"><a href="#net" class="headerlink" title="net"></a>net</h2><ul>
<li>å»ºè®®ä½¿ç”¨<code>net/ï¼Ÿ</code>è·å–å¸®åŠ©ä¿¡æ¯ã€‚å®åœ¨æ˜¯æœ‰å¾ˆå¤šå‚æ•°ï¼Œå‚æ•°ä¸‹é¢è¿˜æœ‰å‚æ•°ï¼Œå¸¸ç”¨ï¼š<code>net view \\ä¸»æœº</code>æ¥çœ‹å…±äº«ï¼Œ<code>net start/stop</code> æœåŠ¡æ¥å¯åŠ¨å’Œåœæ­¢æœåŠ¡</li>
</ul>
<h2 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h2><ul>
<li><code>netstatä¸»æœº</code>ï¼š æŸ¥çœ‹ä¸»æœºå½“å‰<code>tcp/ip</code>è¿æ¥çŠ¶æ€ï¼Œå¦‚ç«¯å£çš„çŠ¶æ€ã€‚</li>
</ul>
<h2 id="nbtstat"><a href="#nbtstat" class="headerlink" title="nbtstat"></a>nbtstat</h2><ul>
<li><code>nbtstatä¸»æœº</code>ï¼š æŸ¥çœ‹ä¸»æœºä½¿ç”¨çš„ NetBIOS name</li>
</ul>
<h2 id="tracert"><a href="#tracert" class="headerlink" title="tracert"></a>tracert</h2><ul>
<li><code>tracertä¸»æœº</code>ï¼š æŸ¥çœ‹ä»ä½ è‡ªå·±åˆ°ç›®æ ‡ä¸»æœºé“æµç»è¿‡äº†é‚£äº›è·¯å¾„</li>
</ul>
<h2 id="pathping"><a href="#pathping" class="headerlink" title="pathping"></a>pathping</h2><ul>
<li><code>pathpingä¸»æœº</code>ï¼š ç±»ä¼¼tracertï¼Œä½†å¯ä»¥æ˜¾ç¤ºä¸€äº›tracertä¸èƒ½æ˜¾ç¤ºå‡ºæ¥çš„ä¿¡æ¯</li>
</ul>
<h2 id="telnet"><a href="#telnet" class="headerlink" title="telnet"></a>telnet</h2><ul>
<li>å­—ç¬¦æ–¹å¼çš„è¿œç¨‹ç™»å½•ç¨‹åºï¼Œæ˜¯ç½‘ç»œäººå‘˜åŠå…¶çˆ±ç”¨çš„è¿œç¨‹ç™»å½•ç¨‹åº</li>
</ul>
<h2 id="ipconfig"><a href="#ipconfig" class="headerlink" title="ipconfig"></a>ipconfig</h2><p>éå¸¸æœ‰ç”¨çš„ç½‘ç»œé…ç½®ã€æ’é”™ã€‚ã€‚ã€‚å‘½ä»¤ã€‚ ä¸åŠ å‚æ•°æ˜¾ç¤ºå½“å‰æœºå™¨çš„ç½‘ç»œæ¥å£çŠ¶æ€ã€‚ </p>
<ul>
<li><code>/all</code> å…ˆæ˜¯è¯¦ç»†çš„ä¿¡æ¯ã€‚ </li>
<li><code>/release</code> é‡Šæ”¾å½“å‰ipã€‚ </li>
<li><code>/renew</code> é‡æ–°ç”³è¯·ipã€‚ </li>
<li><code>/flushdns</code> åˆ·æ–°dnsç¼“å­˜ã€‚ </li>
<li><code>/registerdns</code> é‡æ–°æ ½dnsæœåŠ¡å™¨ä¸Šæ³¨å†Œè‡ªå·±ã€‚  </li>
</ul>
<h2 id="arp-æ“ä½œå½“å‰çš„arpç¼“å­˜ã€‚"><a href="#arp-æ“ä½œå½“å‰çš„arpç¼“å­˜ã€‚" class="headerlink" title="arp æ“ä½œå½“å‰çš„arpç¼“å­˜ã€‚"></a>arp æ“ä½œå½“å‰çš„arpç¼“å­˜ã€‚</h2><ul>
<li><code>-a</code> æ˜¾ç¤ºarpç¼“å­˜ã€‚ </li>
<li><code>-d</code> åˆ é™¤ä¸€æ¡ç¼“å­˜çºªå½•ã€‚ </li>
<li><code>-s</code> ç”°å®¶ä¸€æ¡ç¼“å­˜çºªå½•ã€‚</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>Live Teplates çš„ä½¿ç”¨</title>
    <url>/2018/06/23/Live%20Teplates%20%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h4 id="Live-Teplates-çš„ä½¿ç”¨"><a href="#Live-Teplates-çš„ä½¿ç”¨" class="headerlink" title="Live Teplates çš„ä½¿ç”¨"></a>Live Teplates çš„ä½¿ç”¨</h4><p>Live Teplateså¯ä»¥å®ç°å¯¹ä»£ç æ¨¡å—çš„å¿«é€Ÿå®šä¹‰ï¼Œå°±åƒå¹³æ—¶å¸¸ç”¨çš„foriï¼Œsoutï¼Œforeachï¼Œfvdç­‰éƒ½æ˜¯å¸¸ç”¨çš„ideè‡ªå¸¦çš„å·²ç»å®šä¹‰å¥½çš„æ¨¡æ¿ï¼ŒLive Teplateså¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå¼€å‘ï¼Œé€šè¿‡å¿«æ·é”®å¿«é€Ÿå†™å‡ºæˆ‘ä»¬å®šä¹‰çš„ä»£ç ï¼Œä¸‹é¢çœ‹ä¸€ä¸‹æ€ä¹ˆè‡ªå®šä¹‰Live Teplatesã€‚</p>
<a id="more"></a>

<h4 id="Live-Teplates-ä½ç½®"><a href="#Live-Teplates-ä½ç½®" class="headerlink" title="Live Teplates ä½ç½®"></a>Live Teplates ä½ç½®</h4><blockquote>
<p>setting-&gt;Editor-&gt;Live Templates</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-3fd88a816febb09f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h4 id="ç‚¹å‡»å³ä¸Šè§’-å·åˆ›å»ºæ–°çš„Live-Teplatesï¼Œå»ºè®®å…ˆç‚¹å‡»ä¸‹é¢çš„Template-groupä½ å¯ä»¥ç†è§£ä¸ºå…ˆå»ºä¸€ä¸ªåŒ…ï¼Œä¸å¦‚æˆ‘çš„åŒ…å°±æ˜¯æœ€ä¸Šé¢çš„alguojianï¼Œä¹‹åé€‰ä¸­åŒ…åœ¨å»ºä¸€ä¸ªeLive-Teplates"><a href="#ç‚¹å‡»å³ä¸Šè§’-å·åˆ›å»ºæ–°çš„Live-Teplatesï¼Œå»ºè®®å…ˆç‚¹å‡»ä¸‹é¢çš„Template-groupä½ å¯ä»¥ç†è§£ä¸ºå…ˆå»ºä¸€ä¸ªåŒ…ï¼Œä¸å¦‚æˆ‘çš„åŒ…å°±æ˜¯æœ€ä¸Šé¢çš„alguojianï¼Œä¹‹åé€‰ä¸­åŒ…åœ¨å»ºä¸€ä¸ªeLive-Teplates" class="headerlink" title="ç‚¹å‡»å³ä¸Šè§’+å·åˆ›å»ºæ–°çš„Live Teplatesï¼Œå»ºè®®å…ˆç‚¹å‡»ä¸‹é¢çš„Template groupä½ å¯ä»¥ç†è§£ä¸ºå…ˆå»ºä¸€ä¸ªåŒ…ï¼Œä¸å¦‚æˆ‘çš„åŒ…å°±æ˜¯æœ€ä¸Šé¢çš„alguojianï¼Œä¹‹åé€‰ä¸­åŒ…åœ¨å»ºä¸€ä¸ªeLive Teplates"></a>ç‚¹å‡»å³ä¸Šè§’+å·åˆ›å»ºæ–°çš„Live Teplatesï¼Œå»ºè®®å…ˆç‚¹å‡»ä¸‹é¢çš„Template groupä½ å¯ä»¥ç†è§£ä¸ºå…ˆå»ºä¸€ä¸ªåŒ…ï¼Œä¸å¦‚æˆ‘çš„åŒ…å°±æ˜¯æœ€ä¸Šé¢çš„alguojianï¼Œä¹‹åé€‰ä¸­åŒ…åœ¨å»ºä¸€ä¸ªeLive Teplates</h4><p><img src="http://upload-images.jianshu.io/upload_images/7426378-efecc9dd1a1176dd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<blockquote>
<p>ç‚¹å‡»edit variablesï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/7426378-08faac4f6e2e1ef0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<ul>
<li>Nameï¼šä½ å®šä¹‰çš„æ‰€æœ‰åŒ$åŒ…æ‹¬çš„å˜é‡</li>
<li>Expression:   ä¸ºå¾…è¾“å…¥å˜é‡</li>
<li>Default value:  èµ‹å€¼é»˜è®¤å€¼</li>
<li>Skip if defined:  æ˜¯å¦è·³è¿‡ç¼–è¾‘</li>
</ul>
<blockquote>
<p>ä¸Šé¢classNameä»£è¡¨ç±»åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å½“å‰Expressionè¿˜æœ‰å¾ˆå¤šå‡½æ•°ï¼šå…·ä½“çš„å¯ä»¥åˆ°å®˜ç½‘</p>
<blockquote>
<p><a href="https://www.jetbrains.com/help/idea/2016.1/live-template-variables.html" target="_blank" rel="noopener">IntellIJ IDEA</a></p>
</blockquote>
</blockquote>
<h4 id="ä¸‹é¢å†™äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š"><a href="#ä¸‹é¢å†™äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š" class="headerlink" title="ä¸‹é¢å†™äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š"></a>ä¸‹é¢å†™äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</h4><p><img src="http://upload-images.jianshu.io/upload_images/7426378-efd715937b29e93d.gif?imageMogr2/auto-orient/strip" alt></p>
]]></content>
  </entry>
</search>
